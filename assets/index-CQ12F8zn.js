function uC(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function cC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Op={exports:{}},Ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function fC(){if(HE)return Ru;HE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Ru.Fragment=e,Ru.jsx=t,Ru.jsxs=t,Ru}var qE;function hC(){return qE||(qE=1,Op.exports=fC()),Op.exports}var F=hC(),Dp={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function dC(){if(GE)return Ve;GE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function _(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function O(k,re,fe){this.props=k,this.context=re,this.refs=I,this.updater=fe||S}O.prototype.isReactComponent={},O.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function j(){}j.prototype=O.prototype;function B(k,re,fe){this.props=k,this.context=re,this.refs=I,this.updater=fe||S}var $=B.prototype=new j;$.constructor=B,A($,O.prototype),$.isPureReactComponent=!0;var K=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function P(k,re,fe,se,ce,Te){return fe=Te.ref,{$$typeof:n,type:k,key:re,ref:fe!==void 0?fe:null,props:Te}}function x(k,re){return P(k.type,re,void 0,void 0,void 0,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function N(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(fe){return re[fe]})}var V=/\/+/g;function U(k,re){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):re.toString(36)}function M(){}function _e(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(M,M):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function he(k,re,fe,se,ce){var Te=typeof k;(Te==="undefined"||Te==="boolean")&&(k=null);var ve=!1;if(k===null)ve=!0;else switch(Te){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(k.$$typeof){case n:case e:ve=!0;break;case v:return ve=k._init,he(ve(k._payload),re,fe,se,ce)}}if(ve)return ce=ce(k),ve=se===""?"."+U(k,0):se,K(ce)?(fe="",ve!=null&&(fe=ve.replace(V,"$&/")+"/"),he(ce,re,fe,"",function(Pe){return Pe})):ce!=null&&(D(ce)&&(ce=x(ce,fe+(ce.key==null||k&&k.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+ve)),re.push(ce)),1;ve=0;var ge=se===""?".":se+":";if(K(k))for(var de=0;de<k.length;de++)se=k[de],Te=ge+U(se,de),ve+=he(se,re,fe,Te,ce);else if(de=_(k),typeof de=="function")for(k=de.call(k),de=0;!(se=k.next()).done;)se=se.value,Te=ge+U(se,de++),ve+=he(se,re,fe,Te,ce);else if(Te==="object"){if(typeof k.then=="function")return he(_e(k),re,fe,se,ce);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ve}function z(k,re,fe){if(k==null)return k;var se=[],ce=0;return he(k,se,"","",function(Te){return re.call(fe,Te,ce++)}),se}function Z(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(fe){(k._status===0||k._status===-1)&&(k._status=1,k._result=fe)},function(fe){(k._status===0||k._status===-1)&&(k._status=2,k._result=fe)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var ee=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function pe(){}return Ve.Children={map:z,forEach:function(k,re,fe){z(k,function(){re.apply(this,arguments)},fe)},count:function(k){var re=0;return z(k,function(){re++}),re},toArray:function(k){return z(k,function(re){return re})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ve.Component=O,Ve.Fragment=t,Ve.Profiler=a,Ve.PureComponent=B,Ve.StrictMode=i,Ve.Suspense=m,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(k){return q.H.useMemoCache(k)}},Ve.cache=function(k){return function(){return k.apply(null,arguments)}},Ve.cloneElement=function(k,re,fe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var se=A({},k.props),ce=k.key,Te=void 0;if(re!=null)for(ve in re.ref!==void 0&&(Te=void 0),re.key!==void 0&&(ce=""+re.key),re)!ne.call(re,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&re.ref===void 0||(se[ve]=re[ve]);var ve=arguments.length-2;if(ve===1)se.children=fe;else if(1<ve){for(var ge=Array(ve),de=0;de<ve;de++)ge[de]=arguments[de+2];se.children=ge}return P(k.type,ce,void 0,void 0,Te,se)},Ve.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Ve.createElement=function(k,re,fe){var se,ce={},Te=null;if(re!=null)for(se in re.key!==void 0&&(Te=""+re.key),re)ne.call(re,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ce[se]=re[se]);var ve=arguments.length-2;if(ve===1)ce.children=fe;else if(1<ve){for(var ge=Array(ve),de=0;de<ve;de++)ge[de]=arguments[de+2];ce.children=ge}if(k&&k.defaultProps)for(se in ve=k.defaultProps,ve)ce[se]===void 0&&(ce[se]=ve[se]);return P(k,Te,void 0,void 0,null,ce)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(k){return{$$typeof:h,render:k}},Ve.isValidElement=D,Ve.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:Z}},Ve.memo=function(k,re){return{$$typeof:p,type:k,compare:re===void 0?null:re}},Ve.startTransition=function(k){var re=q.T,fe={};q.T=fe;try{var se=k(),ce=q.S;ce!==null&&ce(fe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(pe,ee)}catch(Te){ee(Te)}finally{q.T=re}},Ve.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ve.use=function(k){return q.H.use(k)},Ve.useActionState=function(k,re,fe){return q.H.useActionState(k,re,fe)},Ve.useCallback=function(k,re){return q.H.useCallback(k,re)},Ve.useContext=function(k){return q.H.useContext(k)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(k,re){return q.H.useDeferredValue(k,re)},Ve.useEffect=function(k,re,fe){var se=q.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(k,re)},Ve.useId=function(){return q.H.useId()},Ve.useImperativeHandle=function(k,re,fe){return q.H.useImperativeHandle(k,re,fe)},Ve.useInsertionEffect=function(k,re){return q.H.useInsertionEffect(k,re)},Ve.useLayoutEffect=function(k,re){return q.H.useLayoutEffect(k,re)},Ve.useMemo=function(k,re){return q.H.useMemo(k,re)},Ve.useOptimistic=function(k,re){return q.H.useOptimistic(k,re)},Ve.useReducer=function(k,re,fe){return q.H.useReducer(k,re,fe)},Ve.useRef=function(k){return q.H.useRef(k)},Ve.useState=function(k){return q.H.useState(k)},Ve.useSyncExternalStore=function(k,re,fe){return q.H.useSyncExternalStore(k,re,fe)},Ve.useTransition=function(){return q.H.useTransition()},Ve.version="19.1.0",Ve}var KE;function Kh(){return KE||(KE=1,Dp.exports=dC()),Dp.exports}var w=Kh();const Ae=cC(w),cg=uC({__proto__:null,default:Ae},[w]);var Np={exports:{}},xu={},Mp={exports:{}},Pp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function mC(){return YE||(YE=1,function(n){function e(z,Z){var ee=z.length;z.push(Z);e:for(;0<ee;){var pe=ee-1>>>1,k=z[pe];if(0<a(k,Z))z[pe]=Z,z[ee]=k,ee=pe;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var Z=z[0],ee=z.pop();if(ee!==Z){z[0]=ee;e:for(var pe=0,k=z.length,re=k>>>1;pe<re;){var fe=2*(pe+1)-1,se=z[fe],ce=fe+1,Te=z[ce];if(0>a(se,ee))ce<k&&0>a(Te,se)?(z[pe]=Te,z[ce]=ee,pe=ce):(z[pe]=se,z[fe]=ee,pe=fe);else if(ce<k&&0>a(Te,ee))z[pe]=Te,z[ce]=ee,pe=ce;else break e}}return Z}function a(z,Z){var ee=z.sortIndex-Z.sortIndex;return ee!==0?ee:z.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var m=[],p=[],v=1,E=null,_=3,S=!1,A=!1,I=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function K(z){for(var Z=t(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=z)i(p),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=t(p)}}function q(z){if(I=!1,K(z),!A)if(t(m)!==null)A=!0,ne||(ne=!0,U());else{var Z=t(p);Z!==null&&he(q,Z.startTime-z)}}var ne=!1,P=-1,x=5,D=-1;function N(){return O?!0:!(n.unstable_now()-D<x)}function V(){if(O=!1,ne){var z=n.unstable_now();D=z;var Z=!0;try{e:{A=!1,I&&(I=!1,B(P),P=-1),S=!0;var ee=_;try{t:{for(K(z),E=t(m);E!==null&&!(E.expirationTime>z&&N());){var pe=E.callback;if(typeof pe=="function"){E.callback=null,_=E.priorityLevel;var k=pe(E.expirationTime<=z);if(z=n.unstable_now(),typeof k=="function"){E.callback=k,K(z),Z=!0;break t}E===t(m)&&i(m),K(z)}else i(m);E=t(m)}if(E!==null)Z=!0;else{var re=t(p);re!==null&&he(q,re.startTime-z),Z=!1}}break e}finally{E=null,_=ee,S=!1}Z=void 0}}finally{Z?U():ne=!1}}}var U;if(typeof $=="function")U=function(){$(V)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,_e=M.port2;M.port1.onmessage=V,U=function(){_e.postMessage(null)}}else U=function(){j(V,0)};function he(z,Z){P=j(function(){z(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(z){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var ee=_;_=Z;try{return z()}finally{_=ee}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=_;_=z;try{return Z()}finally{_=ee}},n.unstable_scheduleCallback=function(z,Z,ee){var pe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?pe+ee:pe):ee=pe,z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ee+k,z={id:v++,callback:Z,priorityLevel:z,startTime:ee,expirationTime:k,sortIndex:-1},ee>pe?(z.sortIndex=ee,e(p,z),t(m)===null&&z===t(p)&&(I?(B(P),P=-1):I=!0,he(q,ee-pe))):(z.sortIndex=k,e(m,z),A||S||(A=!0,ne||(ne=!0,U()))),z},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(z){var Z=_;return function(){var ee=_;_=Z;try{return z.apply(this,arguments)}finally{_=ee}}}}(Pp)),Pp}var QE;function pC(){return QE||(QE=1,Mp.exports=mC()),Mp.exports}var Vp={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function gC(){if(XE)return on;XE=1;var n=Kh();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},on.flushSync=function(m){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=v,i.d.f()}},on.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},on.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},on.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,E=h(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:_,fetchPriority:S}):v==="script"&&i.d.X(m,{crossOrigin:E,integrity:_,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},on.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=h(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},on.requestFormReset=function(m){i.d.r(m)},on.unstable_batchedUpdates=function(m,p){return m(p)},on.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.1.0",on}var WE;function vw(){if(WE)return Vp.exports;WE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vp.exports=gC(),Vp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function vC(){if(ZE)return xu;ZE=1;var n=pC(),e=Kh(),t=vw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return h(d),r;if(g===u)return h(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,R=d.child;R;){if(R===o){T=!0,o=d,u=g;break}if(R===u){T=!0,u=d,o=g;break}R=R.sibling}if(!T){for(R=g.child;R;){if(R===o){T=!0,o=g,u=d;break}if(R===u){T=!0,u=g,o=d;break}R=R.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),$=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function _e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case O:return"Profiler";case I:return"StrictMode";case q:return"Suspense";case ne:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case $:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case K:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return s=r.displayName||null,s!==null?s:_e(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return _e(r(s))}catch{}}return null}var he=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},pe=[],k=-1;function re(r){return{current:r}}function fe(r){0>k||(r.current=pe[k],pe[k]=null,k--)}function se(r,s){k++,pe[k]=r.current,r.current=s}var ce=re(null),Te=re(null),ve=re(null),ge=re(null);function de(r,s){switch(se(ve,s),se(Te,r),se(ce,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?yE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=yE(s),r=_E(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}fe(ce),se(ce,r)}function Pe(){fe(ce),fe(Te),fe(ve)}function $e(r){r.memoizedState!==null&&se(ge,r);var s=ce.current,o=_E(s,r.type);s!==o&&(se(Te,r),se(ce,o))}function $r(r){Te.current===r&&(fe(ce),fe(Te)),ge.current===r&&(fe(ge),bu._currentValue=ee)}var Is=Object.prototype.hasOwnProperty,Os=n.unstable_scheduleCallback,Ds=n.unstable_cancelCallback,yl=n.unstable_shouldYield,xc=n.unstable_requestPaint,Un=n.unstable_now,Od=n.unstable_getCurrentPriorityLevel,_l=n.unstable_ImmediatePriority,La=n.unstable_UserBlockingPriority,Ns=n.unstable_NormalPriority,Dd=n.unstable_LowPriority,Ua=n.unstable_IdlePriority,El=n.log,Cc=n.unstable_setDisableYieldValue,yt=null,nt=null;function An(r){if(typeof El=="function"&&Cc(r),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(yt,r)}catch{}}var sn=Math.clz32?Math.clz32:Ms,Ic=Math.log,Nd=Math.LN2;function Ms(r){return r>>>=0,r===0?32:31-(Ic(r)/Nd|0)|0}var Ps=256,Vs=4194304;function er(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ja(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var R=u&134217727;return R!==0?(u=R&~g,u!==0?d=er(u):(T&=R,T!==0?d=er(T):o||(o=R&~r,o!==0&&(d=er(o))))):(R=u&~g,R!==0?d=er(R):T!==0?d=er(T):o||(o=u&~r,o!==0&&(d=er(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function ks(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function bl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tl(){var r=Ps;return Ps<<=1,(Ps&4194048)===0&&(Ps=256),r}function wl(){var r=Vs;return Vs<<=1,(Vs&62914560)===0&&(Vs=4194304),r}function Fr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Hr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Sl(r,s,o,u,d,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,L=r.expirationTimes,X=r.hiddenUpdates;for(o=T&~o;0<o;){var ie=31-sn(o),oe=1<<ie;R[ie]=0,L[ie]=-1;var W=X[ie];if(W!==null)for(X[ie]=null,ie=0;ie<W.length;ie++){var J=W[ie];J!==null&&(J.lane&=-536870913)}o&=~oe}u!==0&&mr(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function mr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-sn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Al(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-sn(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function Ii(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function za(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Oi(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:UE(r.type))}function Oc(r,s){var o=Z.p;try{return Z.p=r,s()}finally{Z.p=o}}var dt=Math.random().toString(36).slice(2),Dt="__reactFiber$"+dt,At="__reactProps$"+dt,jn="__reactContainer$"+dt,Rl="__reactEvents$"+dt,Md="__reactListeners$"+dt,Di="__reactHandles$"+dt,Dc="__reactResources$"+dt,Ls="__reactMarker$"+dt;function Ni(r){delete r[Dt],delete r[At],delete r[Rl],delete r[Md],delete r[Di]}function qr(r){var s=r[Dt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[jn]||o[Dt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=wE(r);r!==null;){if(o=r[Dt])return o;r=wE(r)}return s}r=o,o=r.parentNode}return null}function pr(r){if(r=r[Dt]||r[jn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function gr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function mn(r){var s=r[Dc];return s||(s=r[Dc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[Ls]=!0}var xl=new Set,Ba={};function tr(r,s){Gr(r,s),Gr(r+"Capture",s)}function Gr(r,s){for(Ba[r]=s,r=0;r<s.length;r++)xl.add(s[r])}var Nc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mc={},Us={};function Pc(r){return Is.call(Us,r)?!0:Is.call(Mc,r)?!1:Nc.test(r)?Us[r]=!0:(Mc[r]=!0,!1)}function Mi(r,s,o){if(Pc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function vr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Qt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var js,Vc;function Kr(r){if(js===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);js=s&&s[1]||"",Vc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+js+r+Vc}var $a=!1;function Fa(r,s){if(!r||$a)return"";$a=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var W=J}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(J){W=J}r.call(oe.prototype)}}else{try{throw Error()}catch(J){W=J}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],R=g[1];if(T&&R){var L=T.split(`
`),X=R.split(`
`);for(d=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;if(u===L.length||d===X.length)for(u=L.length-1,d=X.length-1;1<=u&&0<=d&&L[u]!==X[d];)d--;for(;1<=u&&0<=d;u--,d--)if(L[u]!==X[d]){if(u!==1||d!==1)do if(u--,d--,0>d||L[u]!==X[d]){var ie=`
`+L[u].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=u&&0<=d);break}}}finally{$a=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Kr(o):""}function Cl(r){switch(r.tag){case 26:case 27:case 5:return Kr(r.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 15:return Fa(r.type,!1);case 11:return Fa(r.type.render,!1);case 1:return Fa(r.type,!0);case 31:return Kr("Activity");default:return""}}function Ha(r){try{var s="";do s+=Cl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Il(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pd(r){var s=Il(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function qa(r){r._valueTracker||(r._valueTracker=Pd(r))}function Ol(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Il(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function zs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Vd=/[\n"\\]/g;function Rt(r){return r.replace(Vd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Rn(r,s,o,u,d,g,T,R){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+pn(s)):r.value!==""+pn(s)&&(r.value=""+pn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Pi(r,T,pn(s)):o!=null?Pi(r,T,pn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+pn(R):r.removeAttribute("name")}function Bs(r,s,o,u,d,g,T,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+pn(o):"",s=s!=null?""+pn(s):o,R||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=R?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Pi(r,s,o){s==="number"&&zs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Yr(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+pn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function at(r,s,o){if(s!=null&&(s=""+pn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+pn(o):""}function $s(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(he(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=pn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function zn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Fs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Fs.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Dl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&kc(r,d,u)}else for(var g in s)s.hasOwnProperty(g)&&kc(r,g,s[g])}function Nl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ld=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(r){return Ld.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Qr=null;function Bn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Xr=null,Wr=null;function Ml(r){var s=pr(r);if(s&&(r=s.stateNode)){var o=r[At]||null;e:switch(r=s.stateNode,s.type){case"input":if(Rn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[At]||null;if(!d)throw Error(i(90));Rn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Ol(u)}break e;case"textarea":at(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Yr(r,!!o.multiple,s,!1)}}}var yr=!1;function Lc(r,s,o){if(yr)return r(s,o);yr=!0;try{var u=r(s);return u}finally{if(yr=!1,(Xr!==null||Wr!==null)&&(Df(),Xr&&(s=Xr,r=Wr,Wr=Xr=null,Ml(s),r)))for(s=0;s<r.length;s++)Ml(r[s])}}function Hs(r,s){var o=r.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(nr)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){$n=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{$n=!1}var _r=null,Vi=null,Zr=null;function Pl(){if(Zr)return Zr;var r,s=Vi,o=s.length,u,d="value"in _r?_r.value:_r.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===d[g-u];u++);return Zr=d.slice(r,1<u?1-u:void 0)}function Er(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function br(){return!0}function Vl(){return!1}function jt(r){function s(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?br:Vl,this.isPropagationStopped=Vl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),s}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=jt(et),Gs=v({},et,{view:0,detail:0}),Uc=jt(Gs),Ya,Qa,Tr,Ks=v({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Tr&&(Tr&&r.type==="mousemove"?(Ya=r.screenX-Tr.screenX,Qa=r.screenY-Tr.screenY):Qa=Ya=0,Tr=r),Ya)},movementY:function(r){return"movementY"in r?r.movementY:Qa}}),Fn=jt(Ks),jc=v({},Ks,{dataTransfer:0}),Ud=jt(jc),Ys=v({},Gs,{relatedTarget:0}),Xa=jt(Ys),kl=v({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=jt(kl),zc=v({},et,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Za=jt(zc),jd=v({},et,{data:0}),Ll=jt(jd),Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=$c[r])?!!s[r]:!1}function Xs(){return Ul}var Fc=v({},Gs,{key:function(r){if(r.key){var s=Qs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Er(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Bc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(r){return r.type==="keypress"?Er(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Er(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ja=jt(Fc),Hc=v({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=jt(Hc),Jr=v({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),qc=jt(Jr),Gc=v({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kc=jt(Gc),Yc=v({},Ks,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),eo=jt(Yc),gn=v({},et,{newState:0,oldState:0}),Qc=jt(gn),Xc=[9,13,27,32],wr=nr&&"CompositionEvent"in window,f=null;nr&&"documentMode"in document&&(f=document.documentMode);var y=nr&&"TextEvent"in window&&!f,b=nr&&(!wr||f&&8<f&&11>=f),C=" ",Y=!1;function te(r,s){switch(r){case"keyup":return Xc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ge=!1;function Nt(r,s){switch(r){case"compositionend":return me(s);case"keypress":return s.which!==32?null:(Y=!0,C);case"textInput":return r=s.data,r===C&&Y?null:r;default:return null}}function Ke(r,s){if(Ge)return r==="compositionend"||!wr&&te(r,s)?(r=Pl(),Zr=Vi=_r=null,Ge=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!zt[r.type]:s==="textarea"}function ei(r,s,o,u){Xr?Wr?Wr.push(u):Wr=[u]:Xr=u,s=Lf(s,"onChange"),0<s.length&&(o=new Ka("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Xt=null,Sr=null;function zl(r){dE(r,0)}function Wc(r){var s=gr(r);if(Ol(s))return r}function Py(r,s){if(r==="change")return s}var Vy=!1;if(nr){var zd;if(nr){var Bd="oninput"in document;if(!Bd){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),Bd=typeof ky.oninput=="function"}zd=Bd}else zd=!1;Vy=zd&&(!document.documentMode||9<document.documentMode)}function Ly(){Xt&&(Xt.detachEvent("onpropertychange",Uy),Sr=Xt=null)}function Uy(r){if(r.propertyName==="value"&&Wc(Sr)){var s=[];ei(s,Sr,r,Bn(r)),Lc(zl,s)}}function jR(r,s,o){r==="focusin"?(Ly(),Xt=s,Sr=o,Xt.attachEvent("onpropertychange",Uy)):r==="focusout"&&Ly()}function zR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wc(Sr)}function BR(r,s){if(r==="click")return Wc(s)}function $R(r,s){if(r==="input"||r==="change")return Wc(s)}function FR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var xn=typeof Object.is=="function"?Object.is:FR;function Bl(r,s){if(xn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Is.call(s,d)||!xn(r[d],s[d]))return!1}return!0}function jy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zy(r,s){var o=jy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jy(o)}}function By(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?By(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function $y(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=zs(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=zs(r.document)}return s}function $d(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var HR=nr&&"documentMode"in document&&11>=document.documentMode,to=null,Fd=null,$l=null,Hd=!1;function Fy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Hd||to==null||to!==zs(u)||(u=to,"selectionStart"in u&&$d(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$l&&Bl($l,u)||($l=u,u=Lf(Fd,"onSelect"),0<u.length&&(s=new Ka("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=to)))}function Ws(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var no={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},qd={},Hy={};nr&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Zs(r){if(qd[r])return qd[r];if(!no[r])return r;var s=no[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Hy)return qd[r]=s[o];return r}var qy=Zs("animationend"),Gy=Zs("animationiteration"),Ky=Zs("animationstart"),qR=Zs("transitionrun"),GR=Zs("transitionstart"),KR=Zs("transitioncancel"),Yy=Zs("transitionend"),Qy=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function rr(r,s){Qy.set(r,s),tr(s,[r])}var Xy=new WeakMap;function Hn(r,s){if(typeof r=="object"&&r!==null){var o=Xy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ha(s)},Xy.set(r,s),s)}return{value:r,source:s,stack:Ha(s)}}var qn=[],ro=0,Kd=0;function Zc(){for(var r=ro,s=Kd=ro=0;s<r;){var o=qn[s];qn[s++]=null;var u=qn[s];qn[s++]=null;var d=qn[s];qn[s++]=null;var g=qn[s];if(qn[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&Wy(o,d,g)}}function Jc(r,s,o,u){qn[ro++]=r,qn[ro++]=s,qn[ro++]=o,qn[ro++]=u,Kd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Yd(r,s,o,u){return Jc(r,s,o,u),ef(r)}function io(r,s){return Jc(r,null,null,s),ef(r)}function Wy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&s!==null&&(d=31-sn(o),r=g.hiddenUpdates,u=r[d],u===null?r[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function ef(r){if(50<du)throw du=0,ep=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var so={};function YR(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,s,o,u){return new YR(r,s,o,u)}function Qd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ti(r,s){var o=r.alternate;return o===null?(o=Cn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Zy(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function tf(r,s,o,u,d,g){var T=0;if(u=r,typeof r=="function")Qd(r)&&(T=1);else if(typeof r=="string")T=Xx(r,o,ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=Cn(31,o,s,d),r.elementType=D,r.lanes=g,r;case A:return Js(o.children,d,g,s);case I:T=8,d|=24;break;case O:return r=Cn(12,o,s,d|2),r.elementType=O,r.lanes=g,r;case q:return r=Cn(13,o,s,d),r.elementType=q,r.lanes=g,r;case ne:return r=Cn(19,o,s,d),r.elementType=ne,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case $:T=10;break e;case B:T=9;break e;case K:T=11;break e;case P:T=14;break e;case x:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Cn(T,o,s,d),s.elementType=r,s.type=u,s.lanes=g,s}function Js(r,s,o,u){return r=Cn(7,r,u,s),r.lanes=o,r}function Xd(r,s,o){return r=Cn(6,r,null,s),r.lanes=o,r}function Wd(r,s,o){return s=Cn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ao=[],oo=0,nf=null,rf=0,Gn=[],Kn=0,ea=null,ni=1,ri="";function ta(r,s){ao[oo++]=rf,ao[oo++]=nf,nf=r,rf=s}function Jy(r,s,o){Gn[Kn++]=ni,Gn[Kn++]=ri,Gn[Kn++]=ea,ea=r;var u=ni;r=ri;var d=32-sn(u)-1;u&=~(1<<d),o+=1;var g=32-sn(s)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,ni=1<<32-sn(s)+d|o<<d|u,ri=g+r}else ni=1<<g|o<<d|u,ri=r}function Zd(r){r.return!==null&&(ta(r,1),Jy(r,1,0))}function Jd(r){for(;r===nf;)nf=ao[--oo],ao[oo]=null,rf=ao[--oo],ao[oo]=null;for(;r===ea;)ea=Gn[--Kn],Gn[Kn]=null,ri=Gn[--Kn],Gn[Kn]=null,ni=Gn[--Kn],Gn[Kn]=null}var vn=null,_t=null,Je=!1,na=null,Ar=!1,em=Error(i(519));function ra(r){var s=Error(i(418,""));throw ql(Hn(s,r)),em}function e0(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Dt]=r,s[At]=u,o){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(o=0;o<pu.length;o++)Be(pu[o],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),Bs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),qa(s);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),$s(s,u.value,u.defaultValue,u.children),qa(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||vE(s.textContent,o)?(u.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),u.onScroll!=null&&Be("scroll",s),u.onScrollEnd!=null&&Be("scrollend",s),u.onClick!=null&&(s.onclick=Uf),s=!0):s=!1,s||ra(r)}function t0(r){for(vn=r.return;vn;)switch(vn.tag){case 5:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:vn=vn.return}}function Fl(r){if(r!==vn)return!1;if(!Je)return t0(r),Je=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||gp(r.type,r.memoizedProps)),o=!o),o&&_t&&ra(r),t0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){_t=sr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}_t=null}}else s===27?(s=_t,Wi(r.type)?(r=Ep,Ep=null,_t=r):_t=s):_t=vn?sr(r.stateNode.nextSibling):null;return!0}function Hl(){_t=vn=null,Je=!1}function n0(){var r=na;return r!==null&&(Tn===null?Tn=r:Tn.push.apply(Tn,r),na=null),r}function ql(r){na===null?na=[r]:na.push(r)}var tm=re(null),ia=null,ii=null;function ki(r,s,o){se(tm,s._currentValue),s._currentValue=o}function si(r){r._currentValue=tm.current,fe(tm)}function nm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function rm(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=d;for(var L=0;L<s.length;L++)if(R.context===s[L]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),nm(g.return,o,r),u||(T=null);break e}g=R.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),nm(T,o,r),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===r){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Gl(r,s,o,u){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var R=d.type;xn(d.pendingProps.value,T.value)||(r!==null?r.push(R):r=[R])}}else if(d===ge.current){if(T=d.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(bu):r=[bu])}d=d.return}r!==null&&rm(s,r,o,u),s.flags|=262144}function sf(r){for(r=r.firstContext;r!==null;){if(!xn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function sa(r){ia=r,ii=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function an(r){return r0(ia,r)}function af(r,s){return ia===null&&sa(r),r0(r,s)}function r0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ii===null){if(r===null)throw Error(i(308));ii=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ii=ii.next=s;return o}var QR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},XR=n.unstable_scheduleCallback,WR=n.unstable_NormalPriority,Pt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new QR,data:new Map,refCount:0}}function Kl(r){r.refCount--,r.refCount===0&&XR(WR,function(){r.controller.abort()})}var Yl=null,sm=0,lo=0,uo=null;function ZR(r,s){if(Yl===null){var o=Yl=[];sm=0,lo=op(),uo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return sm++,s.then(i0,i0),s}function i0(){if(--sm===0&&Yl!==null){uo!==null&&(uo.status="fulfilled");var r=Yl;Yl=null,lo=0,uo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function JR(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var s0=z.S;z.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ZR(r,s),s0!==null&&s0(r,s)};var aa=re(null);function am(){var r=aa.current;return r!==null?r:ft.pooledCache}function of(r,s){s===null?se(aa,aa.current):se(aa,s.pool)}function a0(){var r=am();return r===null?null:{parent:Pt._currentValue,pool:r}}var Ql=Error(i(460)),o0=Error(i(474)),lf=Error(i(542)),om={then:function(){}};function l0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function uf(){}function u0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(uf,uf),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,f0(r),r;default:if(typeof s.status=="string")s.then(uf,uf);else{if(r=ft,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,f0(r),r}throw Xl=s,Ql}}var Xl=null;function c0(){if(Xl===null)throw Error(i(459));var r=Xl;return Xl=null,r}function f0(r){if(r===Ql||r===lf)throw Error(i(483))}var Li=!1;function lm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ui(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ji(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=ef(r),Wy(r,null,o),s}return Jc(r,u,s,o),ef(r)}function Wl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Al(r,o)}}function cm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var fm=!1;function Zl(){if(fm){var r=uo;if(r!==null)throw r}}function Jl(r,s,o,u){fm=!1;var d=r.updateQueue;Li=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var L=R,X=L.next;L.next=null,T===null?g=X:T.next=X,T=L;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==T&&(R===null?ie.firstBaseUpdate=X:R.next=X,ie.lastBaseUpdate=L))}if(g!==null){var oe=d.baseState;T=0,ie=X=L=null,R=g;do{var W=R.lane&-536870913,J=W!==R.lane;if(J?(Ye&W)===W:(u&W)===W){W!==0&&W===lo&&(fm=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Oe=r,xe=R;W=s;var ut=o;switch(xe.tag){case 1:if(Oe=xe.payload,typeof Oe=="function"){oe=Oe.call(ut,oe,W);break e}oe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=xe.payload,W=typeof Oe=="function"?Oe.call(ut,oe,W):Oe,W==null)break e;oe=v({},oe,W);break e;case 2:Li=!0}}W=R.callback,W!==null&&(r.flags|=64,J&&(r.flags|=8192),J=d.callbacks,J===null?d.callbacks=[W]:J.push(W))}else J={lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(X=ie=J,L=oe):ie=ie.next=J,T|=W;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;J=R,R=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);ie===null&&(L=oe),d.baseState=L,d.firstBaseUpdate=X,d.lastBaseUpdate=ie,g===null&&(d.shared.lanes=0),Ki|=T,r.lanes=T,r.memoizedState=oe}}function h0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function d0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)h0(o[r],s)}var co=re(null),cf=re(0);function m0(r,s){r=hi,se(cf,r),se(co,s),hi=r|s.baseLanes}function hm(){se(cf,hi),se(co,co.current)}function dm(){hi=cf.current,fe(co),fe(cf)}var zi=0,Le=null,ot=null,xt=null,ff=!1,fo=!1,oa=!1,hf=0,eu=0,ho=null,ex=0;function Tt(){throw Error(i(321))}function mm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!xn(r[o],s[o]))return!1;return!0}function pm(r,s,o,u,d,g){return zi=g,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=r===null||r.memoizedState===null?W0:Z0,oa=!1,g=o(u,d),oa=!1,fo&&(g=g0(s,o,u,d)),p0(r),g}function p0(r){z.H=yf;var s=ot!==null&&ot.next!==null;if(zi=0,xt=ot=Le=null,ff=!1,eu=0,ho=null,s)throw Error(i(300));r===null||Bt||(r=r.dependencies,r!==null&&sf(r)&&(Bt=!0))}function g0(r,s,o,u){Le=r;var d=0;do{if(fo&&(ho=null),eu=0,fo=!1,25<=d)throw Error(i(301));if(d+=1,xt=ot=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=ox,g=s(o,u)}while(fo);return g}function tx(){var r=z.H,s=r.useState()[0];return s=typeof s.then=="function"?tu(s):s,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(Le.flags|=1024),s}function gm(){var r=hf!==0;return hf=0,r}function vm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function ym(r){if(ff){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ff=!1}zi=0,xt=ot=Le=null,fo=!1,eu=hf=0,ho=null}function En(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Le.memoizedState=xt=r:xt=xt.next=r,xt}function Ct(){if(ot===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var s=xt===null?Le.memoizedState:xt.next;if(s!==null)xt=s,ot=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},xt===null?Le.memoizedState=xt=r:xt=xt.next=r}return xt}function _m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(r){var s=eu;return eu+=1,ho===null&&(ho=[]),r=u0(ho,r,s),s=Le,(xt===null?s.memoizedState:xt.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?W0:Z0),r}function df(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return tu(r);if(r.$$typeof===$)return an(r)}throw Error(i(438,String(r)))}function Em(r){var s=null,o=Le.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=_m(),Le.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=N;return s.index++,o}function ai(r,s){return typeof s=="function"?s(r):s}function mf(r){var s=Ct();return bm(s,ot,r)}function bm(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var R=T=null,L=null,X=s,ie=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(Ye&oe)===oe:(zi&oe)===oe){var W=X.revertLane;if(W===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===lo&&(ie=!0);else if((zi&W)===W){X=X.next,W===lo&&(ie=!0);continue}else oe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(R=L=oe,T=g):L=L.next=oe,Le.lanes|=W,Ki|=W;oe=X.action,oa&&o(g,oe),g=X.hasEagerState?X.eagerState:o(g,oe)}else W={lane:oe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(R=L=W,T=g):L=L.next=W,Le.lanes|=oe,Ki|=oe;X=X.next}while(X!==null&&X!==s);if(L===null?T=g:L.next=R,!xn(g,r.memoizedState)&&(Bt=!0,ie&&(o=uo,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=L,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Tm(r){var s=Ct(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=r(g,T.action),T=T.next;while(T!==d);xn(g,s.memoizedState)||(Bt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function v0(r,s,o){var u=Le,d=Ct(),g=Je;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!xn((ot||d).memoizedState,o);T&&(d.memoizedState=o,Bt=!0),d=d.queue;var R=E0.bind(null,u,d,r);if(nu(2048,8,R,[r]),d.getSnapshot!==s||T||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,mo(9,pf(),_0.bind(null,u,d,o,s),null),ft===null)throw Error(i(349));g||(zi&124)!==0||y0(u,s,o)}return o}function y0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Le.updateQueue,s===null?(s=_m(),Le.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function _0(r,s,o,u){s.value=o,s.getSnapshot=u,b0(s)&&T0(r)}function E0(r,s,o){return o(function(){b0(s)&&T0(r)})}function b0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!xn(r,o)}catch{return!0}}function T0(r){var s=io(r,2);s!==null&&Mn(s,r,2)}function wm(r){var s=En();if(typeof r=="function"){var o=r;if(r=o(),oa){An(!0);try{o()}finally{An(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:r},s}function w0(r,s,o,u){return r.baseState=o,bm(r,ot,typeof u=="function"?u:ai)}function nx(r,s,o,u,d){if(vf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};z.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,S0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function S0(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var g=z.T,T={};z.T=T;try{var R=o(d,u),L=z.S;L!==null&&L(T,R),A0(r,s,R)}catch(X){Sm(r,s,X)}finally{z.T=g}}else try{g=o(d,u),A0(r,s,g)}catch(X){Sm(r,s,X)}}function A0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){R0(r,s,u)},function(u){return Sm(r,s,u)}):R0(r,s,o)}function R0(r,s,o){s.status="fulfilled",s.value=o,x0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,S0(r,o)))}function Sm(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,x0(s),s=s.next;while(s!==u)}r.action=null}function x0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function C0(r,s){return s}function I0(r,s){if(Je){var o=ft.formState;if(o!==null){e:{var u=Le;if(Je){if(_t){t:{for(var d=_t,g=Ar;d.nodeType!==8;){if(!g){d=null;break t}if(d=sr(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){_t=sr(d.nextSibling),u=d.data==="F!";break e}}ra(u)}u=!1}u&&(s=o[0])}}return o=En(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:s},o.queue=u,o=Y0.bind(null,Le,u),u.dispatch=o,u=wm(!1),g=Im.bind(null,Le,!1,u.queue),u=En(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=nx.bind(null,Le,d,g,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function O0(r){var s=Ct();return D0(s,ot,r)}function D0(r,s,o){if(s=bm(r,s,C0)[0],r=mf(ai)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=tu(s)}catch(T){throw T===Ql?lf:T}else u=s;s=Ct();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Le.flags|=2048,mo(9,pf(),rx.bind(null,d,o),null)),[u,g,r]}function rx(r,s){r.action=s}function N0(r){var s=Ct(),o=ot;if(o!==null)return D0(s,o,r);Ct(),s=s.memoizedState,o=Ct();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function mo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Le.updateQueue,s===null&&(s=_m(),Le.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function pf(){return{destroy:void 0,resource:void 0}}function M0(){return Ct().memoizedState}function gf(r,s,o,u){var d=En();u=u===void 0?null:u,Le.flags|=r,d.memoizedState=mo(1|s,pf(),o,u)}function nu(r,s,o,u){var d=Ct();u=u===void 0?null:u;var g=d.memoizedState.inst;ot!==null&&u!==null&&mm(u,ot.memoizedState.deps)?d.memoizedState=mo(s,g,o,u):(Le.flags|=r,d.memoizedState=mo(1|s,g,o,u))}function P0(r,s){gf(8390656,8,r,s)}function V0(r,s){nu(2048,8,r,s)}function k0(r,s){return nu(4,2,r,s)}function L0(r,s){return nu(4,4,r,s)}function U0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function j0(r,s,o){o=o!=null?o.concat([r]):null,nu(4,4,U0.bind(null,s,r),o)}function Am(){}function z0(r,s){var o=Ct();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&mm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function B0(r,s){var o=Ct();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&mm(s,u[1]))return u[0];if(u=r(),oa){An(!0);try{r()}finally{An(!1)}}return o.memoizedState=[u,s],u}function Rm(r,s,o){return o===void 0||(zi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=H_(),Le.lanes|=r,Ki|=r,o)}function $0(r,s,o,u){return xn(o,s)?o:co.current!==null?(r=Rm(r,o,u),xn(r,s)||(Bt=!0),r):(zi&42)===0?(Bt=!0,r.memoizedState=o):(r=H_(),Le.lanes|=r,Ki|=r,s)}function F0(r,s,o,u,d){var g=Z.p;Z.p=g!==0&&8>g?g:8;var T=z.T,R={};z.T=R,Im(r,!1,s,o);try{var L=d(),X=z.S;if(X!==null&&X(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=JR(L,u);ru(r,s,ie,Nn(r))}else ru(r,s,u,Nn(r))}catch(oe){ru(r,s,{then:function(){},status:"rejected",reason:oe},Nn())}finally{Z.p=g,z.T=T}}function ix(){}function xm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=H0(r).queue;F0(r,d,s,ee,o===null?ix:function(){return q0(r),o(u)})}function H0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:ee},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function q0(r){var s=H0(r).next.queue;ru(r,s,{},Nn())}function Cm(){return an(bu)}function G0(){return Ct().memoizedState}function K0(){return Ct().memoizedState}function sx(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Nn();r=Ui(o);var u=ji(s,r,o);u!==null&&(Mn(u,s,o),Wl(u,s,o)),s={cache:im()},r.payload=s;return}s=s.return}}function ax(r,s,o){var u=Nn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},vf(r)?Q0(s,o):(o=Yd(r,s,o,u),o!==null&&(Mn(o,r,u),X0(o,s,u)))}function Y0(r,s,o){var u=Nn();ru(r,s,o,u)}function ru(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(vf(r))Q0(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,R=g(T,o);if(d.hasEagerState=!0,d.eagerState=R,xn(R,T))return Jc(r,s,d,0),ft===null&&Zc(),!1}catch{}finally{}if(o=Yd(r,s,d,u),o!==null)return Mn(o,r,u),X0(o,s,u),!0}return!1}function Im(r,s,o,u){if(u={lane:2,revertLane:op(),action:u,hasEagerState:!1,eagerState:null,next:null},vf(r)){if(s)throw Error(i(479))}else s=Yd(r,o,u,2),s!==null&&Mn(s,r,2)}function vf(r){var s=r.alternate;return r===Le||s!==null&&s===Le}function Q0(r,s){fo=ff=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function X0(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Al(r,o)}}var yf={readContext:an,use:df,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},W0={readContext:an,use:df,useCallback:function(r,s){return En().memoizedState=[r,s===void 0?null:s],r},useContext:an,useEffect:P0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,gf(4194308,4,U0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return gf(4194308,4,r,s)},useInsertionEffect:function(r,s){gf(4,2,r,s)},useMemo:function(r,s){var o=En();s=s===void 0?null:s;var u=r();if(oa){An(!0);try{r()}finally{An(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=En();if(o!==void 0){var d=o(s);if(oa){An(!0);try{o(s)}finally{An(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=ax.bind(null,Le,r),[u.memoizedState,r]},useRef:function(r){var s=En();return r={current:r},s.memoizedState=r},useState:function(r){r=wm(r);var s=r.queue,o=Y0.bind(null,Le,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Am,useDeferredValue:function(r,s){var o=En();return Rm(o,r,s)},useTransition:function(){var r=wm(!1);return r=F0.bind(null,Le,r.queue,!0,!1),En().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Le,d=En();if(Je){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ft===null)throw Error(i(349));(Ye&124)!==0||y0(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,P0(E0.bind(null,u,g,r),[r]),u.flags|=2048,mo(9,pf(),_0.bind(null,u,g,o,s),null),o},useId:function(){var r=En(),s=ft.identifierPrefix;if(Je){var o=ri,u=ni;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=hf++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=ex++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Cm,useFormState:I0,useActionState:I0,useOptimistic:function(r){var s=En();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Im.bind(null,Le,!0,o),o.dispatch=s,[r,s]},useMemoCache:Em,useCacheRefresh:function(){return En().memoizedState=sx.bind(null,Le)}},Z0={readContext:an,use:df,useCallback:z0,useContext:an,useEffect:V0,useImperativeHandle:j0,useInsertionEffect:k0,useLayoutEffect:L0,useMemo:B0,useReducer:mf,useRef:M0,useState:function(){return mf(ai)},useDebugValue:Am,useDeferredValue:function(r,s){var o=Ct();return $0(o,ot.memoizedState,r,s)},useTransition:function(){var r=mf(ai)[0],s=Ct().memoizedState;return[typeof r=="boolean"?r:tu(r),s]},useSyncExternalStore:v0,useId:G0,useHostTransitionStatus:Cm,useFormState:O0,useActionState:O0,useOptimistic:function(r,s){var o=Ct();return w0(o,ot,r,s)},useMemoCache:Em,useCacheRefresh:K0},ox={readContext:an,use:df,useCallback:z0,useContext:an,useEffect:V0,useImperativeHandle:j0,useInsertionEffect:k0,useLayoutEffect:L0,useMemo:B0,useReducer:Tm,useRef:M0,useState:function(){return Tm(ai)},useDebugValue:Am,useDeferredValue:function(r,s){var o=Ct();return ot===null?Rm(o,r,s):$0(o,ot.memoizedState,r,s)},useTransition:function(){var r=Tm(ai)[0],s=Ct().memoizedState;return[typeof r=="boolean"?r:tu(r),s]},useSyncExternalStore:v0,useId:G0,useHostTransitionStatus:Cm,useFormState:N0,useActionState:N0,useOptimistic:function(r,s){var o=Ct();return ot!==null?w0(o,ot,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Em,useCacheRefresh:K0},po=null,iu=0;function _f(r){var s=iu;return iu+=1,po===null&&(po=[]),u0(po,r,s)}function su(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Ef(r,s){throw s.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function J0(r){var s=r._init;return s(r._payload)}function e_(r){function s(G,H){if(r){var Q=G.deletions;Q===null?(G.deletions=[H],G.flags|=16):Q.push(H)}}function o(G,H){if(!r)return null;for(;H!==null;)s(G,H),H=H.sibling;return null}function u(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function d(G,H){return G=ti(G,H),G.index=0,G.sibling=null,G}function g(G,H,Q){return G.index=Q,r?(Q=G.alternate,Q!==null?(Q=Q.index,Q<H?(G.flags|=67108866,H):Q):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function T(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function R(G,H,Q,ae){return H===null||H.tag!==6?(H=Xd(Q,G.mode,ae),H.return=G,H):(H=d(H,Q),H.return=G,H)}function L(G,H,Q,ae){var be=Q.type;return be===A?ie(G,H,Q.props.children,ae,Q.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&J0(be)===H.type)?(H=d(H,Q.props),su(H,Q),H.return=G,H):(H=tf(Q.type,Q.key,Q.props,null,G.mode,ae),su(H,Q),H.return=G,H)}function X(G,H,Q,ae){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Wd(Q,G.mode,ae),H.return=G,H):(H=d(H,Q.children||[]),H.return=G,H)}function ie(G,H,Q,ae,be){return H===null||H.tag!==7?(H=Js(Q,G.mode,ae,be),H.return=G,H):(H=d(H,Q),H.return=G,H)}function oe(G,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Xd(""+H,G.mode,Q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return Q=tf(H.type,H.key,H.props,null,G.mode,Q),su(Q,H),Q.return=G,Q;case S:return H=Wd(H,G.mode,Q),H.return=G,H;case x:var ae=H._init;return H=ae(H._payload),oe(G,H,Q)}if(he(H)||U(H))return H=Js(H,G.mode,Q,null),H.return=G,H;if(typeof H.then=="function")return oe(G,_f(H),Q);if(H.$$typeof===$)return oe(G,af(G,H),Q);Ef(G,H)}return null}function W(G,H,Q,ae){var be=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return be!==null?null:R(G,H,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return Q.key===be?L(G,H,Q,ae):null;case S:return Q.key===be?X(G,H,Q,ae):null;case x:return be=Q._init,Q=be(Q._payload),W(G,H,Q,ae)}if(he(Q)||U(Q))return be!==null?null:ie(G,H,Q,ae,null);if(typeof Q.then=="function")return W(G,H,_f(Q),ae);if(Q.$$typeof===$)return W(G,H,af(G,Q),ae);Ef(G,Q)}return null}function J(G,H,Q,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return G=G.get(Q)||null,R(H,G,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:return G=G.get(ae.key===null?Q:ae.key)||null,L(H,G,ae,be);case S:return G=G.get(ae.key===null?Q:ae.key)||null,X(H,G,ae,be);case x:var je=ae._init;return ae=je(ae._payload),J(G,H,Q,ae,be)}if(he(ae)||U(ae))return G=G.get(Q)||null,ie(H,G,ae,be,null);if(typeof ae.then=="function")return J(G,H,Q,_f(ae),be);if(ae.$$typeof===$)return J(G,H,Q,af(H,ae),be);Ef(H,ae)}return null}function Oe(G,H,Q,ae){for(var be=null,je=null,we=H,Ce=H=0,Ft=null;we!==null&&Ce<Q.length;Ce++){we.index>Ce?(Ft=we,we=null):Ft=we.sibling;var Xe=W(G,we,Q[Ce],ae);if(Xe===null){we===null&&(we=Ft);break}r&&we&&Xe.alternate===null&&s(G,we),H=g(Xe,H,Ce),je===null?be=Xe:je.sibling=Xe,je=Xe,we=Ft}if(Ce===Q.length)return o(G,we),Je&&ta(G,Ce),be;if(we===null){for(;Ce<Q.length;Ce++)we=oe(G,Q[Ce],ae),we!==null&&(H=g(we,H,Ce),je===null?be=we:je.sibling=we,je=we);return Je&&ta(G,Ce),be}for(we=u(we);Ce<Q.length;Ce++)Ft=J(we,G,Ce,Q[Ce],ae),Ft!==null&&(r&&Ft.alternate!==null&&we.delete(Ft.key===null?Ce:Ft.key),H=g(Ft,H,Ce),je===null?be=Ft:je.sibling=Ft,je=Ft);return r&&we.forEach(function(ns){return s(G,ns)}),Je&&ta(G,Ce),be}function xe(G,H,Q,ae){if(Q==null)throw Error(i(151));for(var be=null,je=null,we=H,Ce=H=0,Ft=null,Xe=Q.next();we!==null&&!Xe.done;Ce++,Xe=Q.next()){we.index>Ce?(Ft=we,we=null):Ft=we.sibling;var ns=W(G,we,Xe.value,ae);if(ns===null){we===null&&(we=Ft);break}r&&we&&ns.alternate===null&&s(G,we),H=g(ns,H,Ce),je===null?be=ns:je.sibling=ns,je=ns,we=Ft}if(Xe.done)return o(G,we),Je&&ta(G,Ce),be;if(we===null){for(;!Xe.done;Ce++,Xe=Q.next())Xe=oe(G,Xe.value,ae),Xe!==null&&(H=g(Xe,H,Ce),je===null?be=Xe:je.sibling=Xe,je=Xe);return Je&&ta(G,Ce),be}for(we=u(we);!Xe.done;Ce++,Xe=Q.next())Xe=J(we,G,Ce,Xe.value,ae),Xe!==null&&(r&&Xe.alternate!==null&&we.delete(Xe.key===null?Ce:Xe.key),H=g(Xe,H,Ce),je===null?be=Xe:je.sibling=Xe,je=Xe);return r&&we.forEach(function(lC){return s(G,lC)}),Je&&ta(G,Ce),be}function ut(G,H,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:e:{for(var be=Q.key;H!==null;){if(H.key===be){if(be=Q.type,be===A){if(H.tag===7){o(G,H.sibling),ae=d(H,Q.props.children),ae.return=G,G=ae;break e}}else if(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&J0(be)===H.type){o(G,H.sibling),ae=d(H,Q.props),su(ae,Q),ae.return=G,G=ae;break e}o(G,H);break}else s(G,H);H=H.sibling}Q.type===A?(ae=Js(Q.props.children,G.mode,ae,Q.key),ae.return=G,G=ae):(ae=tf(Q.type,Q.key,Q.props,null,G.mode,ae),su(ae,Q),ae.return=G,G=ae)}return T(G);case S:e:{for(be=Q.key;H!==null;){if(H.key===be)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){o(G,H.sibling),ae=d(H,Q.children||[]),ae.return=G,G=ae;break e}else{o(G,H);break}else s(G,H);H=H.sibling}ae=Wd(Q,G.mode,ae),ae.return=G,G=ae}return T(G);case x:return be=Q._init,Q=be(Q._payload),ut(G,H,Q,ae)}if(he(Q))return Oe(G,H,Q,ae);if(U(Q)){if(be=U(Q),typeof be!="function")throw Error(i(150));return Q=be.call(Q),xe(G,H,Q,ae)}if(typeof Q.then=="function")return ut(G,H,_f(Q),ae);if(Q.$$typeof===$)return ut(G,H,af(G,Q),ae);Ef(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(o(G,H.sibling),ae=d(H,Q),ae.return=G,G=ae):(o(G,H),ae=Xd(Q,G.mode,ae),ae.return=G,G=ae),T(G)):o(G,H)}return function(G,H,Q,ae){try{iu=0;var be=ut(G,H,Q,ae);return po=null,be}catch(we){if(we===Ql||we===lf)throw we;var je=Cn(29,we,null,G.mode);return je.lanes=ae,je.return=G,je}finally{}}}var go=e_(!0),t_=e_(!1),Yn=re(null),Rr=null;function Bi(r){var s=r.alternate;se(Vt,Vt.current&1),se(Yn,r),Rr===null&&(s===null||co.current!==null||s.memoizedState!==null)&&(Rr=r)}function n_(r){if(r.tag===22){if(se(Vt,Vt.current),se(Yn,r),Rr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Rr=r)}}else $i()}function $i(){se(Vt,Vt.current),se(Yn,Yn.current)}function oi(r){fe(Yn),Rr===r&&(Rr=null),fe(Vt)}var Vt=re(0);function bf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||_p(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Om(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Dm={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Nn(),d=Ui(u);d.payload=s,o!=null&&(d.callback=o),s=ji(r,d,u),s!==null&&(Mn(s,r,u),Wl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Nn(),d=Ui(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=ji(r,d,u),s!==null&&(Mn(s,r,u),Wl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Nn(),u=Ui(o);u.tag=2,s!=null&&(u.callback=s),s=ji(r,u,o),s!==null&&(Mn(s,r,o),Wl(s,r,o))}};function r_(r,s,o,u,d,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Bl(o,u)||!Bl(d,g):!0}function i_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Dm.enqueueReplaceState(s,s.state,null)}function la(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Tf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function s_(r){Tf(r)}function a_(r){console.error(r)}function o_(r){Tf(r)}function wf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function l_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Nm(r,s,o){return o=Ui(o),o.tag=3,o.payload={element:null},o.callback=function(){wf(r,s)},o}function u_(r){return r=Ui(r),r.tag=3,r}function c_(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){l_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){l_(s,o,u),typeof d!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function lx(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Gl(s,o,d,!0),o=Yn.current,o!==null){switch(o.tag){case 13:return Rr===null?np():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===om?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),ip(r,u,d)),!1;case 22:return o.flags|=65536,u===om?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),ip(r,u,d)),!1}throw Error(i(435,o.tag))}return ip(r,u,d),np(),!1}if(Je)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==em&&(r=Error(i(422),{cause:u}),ql(Hn(r,o)))):(u!==em&&(s=Error(i(423),{cause:u}),ql(Hn(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=Hn(u,o),d=Nm(r.stateNode,u,d),cm(r,d),Et!==4&&(Et=2)),!1;var g=Error(i(520),{cause:u});if(g=Hn(g,o),hu===null?hu=[g]:hu.push(g),Et!==4&&(Et=2),s===null)return!0;u=Hn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Nm(o.stateNode,u,r),cm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Yi===null||!Yi.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=u_(d),c_(d,r,o,u),cm(o,d),!1}o=o.return}while(o!==null);return!1}var f_=Error(i(461)),Bt=!1;function Wt(r,s,o,u){s.child=r===null?t_(s,null,o,u):go(s,r.child,o,u)}function h_(r,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var R in u)R!=="ref"&&(T[R]=u[R])}else T=u;return sa(s),u=pm(r,s,o,T,g,d),R=gm(),r!==null&&!Bt?(vm(r,s,d),li(r,s,d)):(Je&&R&&Zd(s),s.flags|=1,Wt(r,s,u,d),s.child)}function d_(r,s,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!Qd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,m_(r,s,g,u,d)):(r=tf(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!zm(r,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Bl,o(T,u)&&r.ref===s.ref)return li(r,s,d)}return s.flags|=1,r=ti(g,u),r.ref=s.ref,r.return=s,s.child=r}function m_(r,s,o,u,d){if(r!==null){var g=r.memoizedProps;if(Bl(g,u)&&r.ref===s.ref)if(Bt=!1,s.pendingProps=u=g,zm(r,d))(r.flags&131072)!==0&&(Bt=!0);else return s.lanes=r.lanes,li(r,s,d)}return Mm(r,s,o,u,d)}function p_(r,s,o){var u=s.pendingProps,d=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return g_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&of(s,g!==null?g.cachePool:null),g!==null?m0(s,g):hm(),n_(s);else return s.lanes=s.childLanes=536870912,g_(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(of(s,g.cachePool),m0(s,g),$i(),s.memoizedState=null):(r!==null&&of(s,null),hm(),$i());return Wt(r,s,d,o),s.child}function g_(r,s,o,u){var d=am();return d=d===null?null:{parent:Pt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&of(s,null),hm(),n_(s),r!==null&&Gl(r,s,u,!0),null}function Sf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Mm(r,s,o,u,d){return sa(s),o=pm(r,s,o,u,void 0,d),u=gm(),r!==null&&!Bt?(vm(r,s,d),li(r,s,d)):(Je&&u&&Zd(s),s.flags|=1,Wt(r,s,o,d),s.child)}function v_(r,s,o,u,d,g){return sa(s),s.updateQueue=null,o=g0(s,u,o,d),p0(r),u=gm(),r!==null&&!Bt?(vm(r,s,g),li(r,s,g)):(Je&&u&&Zd(s),s.flags|=1,Wt(r,s,o,g),s.child)}function y_(r,s,o,u,d){if(sa(s),s.stateNode===null){var g=so,T=o.contextType;typeof T=="object"&&T!==null&&(g=an(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Dm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},lm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?an(T):so,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Om(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Dm.enqueueReplaceState(g,g.state,null),Jl(s,u,g,d),Zl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var R=s.memoizedProps,L=la(o,R);g.props=L;var X=g.context,ie=o.contextType;T=so,typeof ie=="object"&&ie!==null&&(T=an(ie));var oe=o.getDerivedStateFromProps;ie=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||X!==T)&&i_(s,g,u,T),Li=!1;var W=s.memoizedState;g.state=W,Jl(s,u,g,d),Zl(),X=s.memoizedState,R||W!==X||Li?(typeof oe=="function"&&(Om(s,o,oe,u),X=s.memoizedState),(L=Li||r_(s,o,L,u,W,X,T))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=T,u=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,um(r,s),T=s.memoizedProps,ie=la(o,T),g.props=ie,oe=s.pendingProps,W=g.context,X=o.contextType,L=so,typeof X=="object"&&X!==null&&(L=an(X)),R=o.getDerivedStateFromProps,(X=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==oe||W!==L)&&i_(s,g,u,L),Li=!1,W=s.memoizedState,g.state=W,Jl(s,u,g,d),Zl();var J=s.memoizedState;T!==oe||W!==J||Li||r!==null&&r.dependencies!==null&&sf(r.dependencies)?(typeof R=="function"&&(Om(s,o,R,u),J=s.memoizedState),(ie=Li||r_(s,o,ie,u,W,J,L)||r!==null&&r.dependencies!==null&&sf(r.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),g.props=u,g.state=J,g.context=L,u=ie):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Sf(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=go(s,r.child,null,d),s.child=go(s,null,o,d)):Wt(r,s,o,d),s.memoizedState=g.state,r=s.child):r=li(r,s,d),r}function __(r,s,o,u){return Hl(),s.flags|=256,Wt(r,s,o,u),s.child}var Pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vm(r){return{baseLanes:r,cachePool:a0()}}function km(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Qn),r}function E_(r,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(Vt.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(Je){if(d?Bi(s):$i(),Je){var R=_t,L;if(L=R){e:{for(L=R,R=Ar;L.nodeType!==8;){if(!R){R=null;break e}if(L=sr(L.nextSibling),L===null){R=null;break e}}R=L}R!==null?(s.memoizedState={dehydrated:R,treeContext:ea!==null?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},L=Cn(18,null,null,0),L.stateNode=R,L.return=s,s.child=L,vn=s,_t=null,L=!0):L=!1}L||ra(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return _p(R)?s.lanes=32:s.lanes=536870912,null;oi(s)}return R=u.children,u=u.fallback,d?($i(),d=s.mode,R=Af({mode:"hidden",children:R},d),u=Js(u,d,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,d=s.child,d.memoizedState=Vm(o),d.childLanes=km(r,T,o),s.memoizedState=Pm,u):(Bi(s),Lm(s,R))}if(L=r.memoizedState,L!==null&&(R=L.dehydrated,R!==null)){if(g)s.flags&256?(Bi(s),s.flags&=-257,s=Um(r,s,o)):s.memoizedState!==null?($i(),s.child=r.child,s.flags|=128,s=null):($i(),d=u.fallback,R=s.mode,u=Af({mode:"visible",children:u.children},R),d=Js(d,R,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,go(s,r.child,null,o),u=s.child,u.memoizedState=Vm(o),u.childLanes=km(r,T,o),s.memoizedState=Pm,s=d);else if(Bi(s),_p(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var X=T.dgst;T=X,u=Error(i(419)),u.stack="",u.digest=T,ql({value:u,source:null,stack:null}),s=Um(r,s,o)}else if(Bt||Gl(r,s,o,!1),T=(o&r.childLanes)!==0,Bt||T){if(T=ft,T!==null&&(u=o&-o,u=(u&42)!==0?1:Ii(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==L.retryLane))throw L.retryLane=u,io(r,u),Mn(T,r,u),f_;R.data==="$?"||np(),s=Um(r,s,o)}else R.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=L.treeContext,_t=sr(R.nextSibling),vn=s,Je=!0,na=null,Ar=!1,r!==null&&(Gn[Kn++]=ni,Gn[Kn++]=ri,Gn[Kn++]=ea,ni=r.id,ri=r.overflow,ea=s),s=Lm(s,u.children),s.flags|=4096);return s}return d?($i(),d=u.fallback,R=s.mode,L=r.child,X=L.sibling,u=ti(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,X!==null?d=ti(X,d):(d=Js(d,R,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,R=r.child.memoizedState,R===null?R=Vm(o):(L=R.cachePool,L!==null?(X=Pt._currentValue,L=L.parent!==X?{parent:X,pool:X}:L):L=a0(),R={baseLanes:R.baseLanes|o,cachePool:L}),d.memoizedState=R,d.childLanes=km(r,T,o),s.memoizedState=Pm,u):(Bi(s),o=r.child,r=o.sibling,o=ti(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function Lm(r,s){return s=Af({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Af(r,s){return r=Cn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Um(r,s,o){return go(s,r.child,null,o),r=Lm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function b_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),nm(r.return,s,o)}function jm(r,s,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function T_(r,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Wt(r,s,u.children,o),u=Vt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&b_(r,o,s);else if(r.tag===19)b_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(se(Vt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&bf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),jm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&bf(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}jm(s,!0,o,null,g);break;case"together":jm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function li(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ki|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Gl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ti(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ti(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function zm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&sf(r)))}function ux(r,s,o){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),ki(s,Pt,r.memoizedState.cache),Hl();break;case 27:case 5:$e(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:ki(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Bi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?E_(r,s,o):(Bi(s),r=li(r,s,o),r!==null?r.sibling:null);Bi(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Gl(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return T_(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(Vt,Vt.current),u)break;return null;case 22:case 23:return s.lanes=0,p_(r,s,o);case 24:ki(s,Pt,r.memoizedState.cache)}return li(r,s,o)}function w_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Bt=!0;else{if(!zm(r,o)&&(s.flags&128)===0)return Bt=!1,ux(r,s,o);Bt=(r.flags&131072)!==0}else Bt=!1,Je&&(s.flags&1048576)!==0&&Jy(s,rf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Qd(u)?(r=la(u,r),s.tag=1,s=y_(null,s,u,r,o)):(s.tag=0,s=Mm(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===K){s.tag=11,s=h_(null,s,u,r,o);break e}else if(d===P){s.tag=14,s=d_(null,s,u,r,o);break e}}throw s=_e(u)||u,Error(i(306,s,""))}}return s;case 0:return Mm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=la(u,s.pendingProps),y_(r,s,u,d,o);case 3:e:{if(de(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,um(r,s),Jl(s,u,null,o);var T=s.memoizedState;if(u=T.cache,ki(s,Pt,u),u!==g.cache&&rm(s,[Pt],o,!0),Zl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=__(r,s,u,o);break e}else if(u!==d){d=Hn(Error(i(424)),s),ql(d),s=__(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(_t=sr(r.firstChild),vn=s,Je=!0,na=null,Ar=!0,o=t_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Hl(),u===d){s=li(r,s,o);break e}Wt(r,s,u,o)}s=s.child}return s;case 26:return Sf(r,s),r===null?(o=xE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Je||(o=s.type,r=s.pendingProps,u=jf(ve.current).createElement(o),u[Dt]=s,u[At]=r,Jt(u,o,r),bt(u),s.stateNode=u):s.memoizedState=xE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return $e(s),r===null&&Je&&(u=s.stateNode=SE(s.type,s.pendingProps,ve.current),vn=s,Ar=!0,d=_t,Wi(s.type)?(Ep=d,_t=sr(u.firstChild)):_t=d),Wt(r,s,s.pendingProps.children,o),Sf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Je&&((d=u=_t)&&(u=Lx(u,s.type,s.pendingProps,Ar),u!==null?(s.stateNode=u,vn=s,_t=sr(u.firstChild),Ar=!1,d=!0):d=!1),d||ra(s)),$e(s),d=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,u=g.children,gp(d,g)?u=null:T!==null&&gp(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=pm(r,s,tx,null,null,o),bu._currentValue=d),Sf(r,s),Wt(r,s,u,o),s.child;case 6:return r===null&&Je&&((r=o=_t)&&(o=Ux(o,s.pendingProps,Ar),o!==null?(s.stateNode=o,vn=s,_t=null,r=!0):r=!1),r||ra(s)),null;case 13:return E_(r,s,o);case 4:return de(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=go(s,null,u,o):Wt(r,s,u,o),s.child;case 11:return h_(r,s,s.type,s.pendingProps,o);case 7:return Wt(r,s,s.pendingProps,o),s.child;case 8:return Wt(r,s,s.pendingProps.children,o),s.child;case 12:return Wt(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ki(s,s.type,u.value),Wt(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,sa(s),d=an(d),u=u(d),s.flags|=1,Wt(r,s,u,o),s.child;case 14:return d_(r,s,s.type,s.pendingProps,o);case 15:return m_(r,s,s.type,s.pendingProps,o);case 19:return T_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Af(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=ti(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return p_(r,s,o);case 24:return sa(s),u=an(Pt),r===null?(d=am(),d===null&&(d=ft,g=im(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},lm(s),ki(s,Pt,d)):((r.lanes&o)!==0&&(um(r,s),Jl(s,null,null,o),Zl()),d=r.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ki(s,Pt,u)):(u=g.cache,ki(s,Pt,u),u!==d.cache&&rm(s,[Pt],o,!0))),Wt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ui(r){r.flags|=4}function S_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!NE(s)){if(s=Yn.current,s!==null&&((Ye&4194048)===Ye?Rr!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||s!==Rr))throw Xl=om,o0;r.flags|=8192}}function Rf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?wl():536870912,r.lanes|=s,Eo|=s)}function au(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function cx(r,s,o){var u=s.pendingProps;switch(Jd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),si(Pt),Pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Fl(s)?ui(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,n0())),gt(s),null;case 26:return o=s.memoizedState,r===null?(ui(s),o!==null?(gt(s),S_(s,o)):(gt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(ui(s),gt(s),S_(s,o)):(gt(s),s.flags&=-16777217):(r.memoizedProps!==u&&ui(s),gt(s),s.flags&=-16777217),null;case 27:$r(s),o=ve.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ui(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}r=ce.current,Fl(s)?e0(s):(r=SE(d,u,o),s.stateNode=r,ui(s))}return gt(s),null;case 5:if($r(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ui(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(r=ce.current,Fl(s))e0(s);else{switch(d=jf(ve.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Dt]=s,r[At]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(Jt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ui(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&ui(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=ve.current,Fl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=vn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Dt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||vE(r.nodeValue,o)),r||ra(s)}else r=jf(r).createTextNode(u),r[Dt]=s,s.stateNode=r}return gt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Fl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Dt]=s}else Hl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),d=!1}else d=n0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(oi(s),s):(oi(s),null)}if(oi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Rf(s,s.updateQueue),gt(s),null;case 4:return Pe(),r===null&&fp(s.stateNode.containerInfo),gt(s),null;case 10:return si(s.type),gt(s),null;case 19:if(fe(Vt),d=s.memoizedState,d===null)return gt(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)au(d,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=bf(r),g!==null){for(s.flags|=128,au(d,!1),r=g.updateQueue,s.updateQueue=r,Rf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Zy(o,r),o=o.sibling;return se(Vt,Vt.current&1|2),s.child}r=r.sibling}d.tail!==null&&Un()>If&&(s.flags|=128,u=!0,au(d,!1),s.lanes=4194304)}else{if(!u)if(r=bf(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Rf(s,r),au(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Je)return gt(s),null}else 2*Un()-d.renderingStartTime>If&&o!==536870912&&(s.flags|=128,u=!0,au(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Un(),s.sibling=null,r=Vt.current,se(Vt,u?r&1|2:r&1),s):(gt(s),null);case 22:case 23:return oi(s),dm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&Rf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&fe(aa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),si(Pt),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function fx(r,s){switch(Jd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return si(Pt),Pe(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return $r(s),null;case 13:if(oi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Hl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return fe(Vt),null;case 4:return Pe(),null;case 10:return si(s.type),null;case 22:case 23:return oi(s),dm(),r!==null&&fe(aa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return si(Pt),null;case 25:return null;default:return null}}function A_(r,s){switch(Jd(s),s.tag){case 3:si(Pt),Pe();break;case 26:case 27:case 5:$r(s);break;case 4:Pe();break;case 13:oi(s);break;case 19:fe(Vt);break;case 10:si(s.type);break;case 22:case 23:oi(s),dm(),r!==null&&fe(aa);break;case 24:si(Pt)}}function ou(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(R){ct(s,s.return,R)}}function Fi(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var T=u.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,d=s;var L=o,X=R;try{X()}catch(ie){ct(d,L,ie)}}}u=u.next}while(u!==g)}}catch(ie){ct(s,s.return,ie)}}function R_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{d0(s,o)}catch(u){ct(r,r.return,u)}}}function x_(r,s,o){o.props=la(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ct(r,s,u)}}function lu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){ct(r,s,d)}}function xr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ct(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ct(r,s,d)}else o.current=null}function C_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ct(r,r.return,d)}}function Bm(r,s,o){try{var u=r.stateNode;Nx(u,r.type,o,s),u[At]=s}catch(d){ct(r,r.return,d)}}function I_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Wi(r.type)||r.tag===4}function $m(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||I_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Wi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fm(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Uf));else if(u!==4&&(u===27&&Wi(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Fm(r,s,o),r=r.sibling;r!==null;)Fm(r,s,o),r=r.sibling}function xf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Wi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(xf(r,s,o),r=r.sibling;r!==null;)xf(r,s,o),r=r.sibling}function O_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Jt(s,u,o),s[Dt]=r,s[At]=o}catch(g){ct(r,r.return,g)}}var ci=!1,wt=!1,Hm=!1,D_=typeof WeakSet=="function"?WeakSet:Set,$t=null;function hx(r,s){if(r=r.containerInfo,mp=qf,r=$y(r),$d(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,R=-1,L=-1,X=0,ie=0,oe=r,W=null;t:for(;;){for(var J;oe!==o||d!==0&&oe.nodeType!==3||(R=T+d),oe!==g||u!==0&&oe.nodeType!==3||(L=T+u),oe.nodeType===3&&(T+=oe.nodeValue.length),(J=oe.firstChild)!==null;)W=oe,oe=J;for(;;){if(oe===r)break t;if(W===o&&++X===d&&(R=T),W===g&&++ie===u&&(L=T),(J=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=J}o=R===-1||L===-1?null:{start:R,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:r,selectionRange:o},qf=!1,$t=s;$t!==null;)if(s=$t,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,$t=r;else for(;$t!==null;){switch(s=$t,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Oe=la(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Oe,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(xe){ct(o,o.return,xe)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)yp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":yp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,$t=r;break}$t=s.return}}function N_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Hi(r,o),u&4&&ou(5,o);break;case 1:if(Hi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){ct(o,o.return,T)}else{var d=la(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ct(o,o.return,T)}}u&64&&R_(o),u&512&&lu(o,o.return);break;case 3:if(Hi(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{d0(r,s)}catch(T){ct(o,o.return,T)}}break;case 27:s===null&&u&4&&O_(o);case 26:case 5:Hi(r,o),s===null&&u&4&&C_(o),u&512&&lu(o,o.return);break;case 12:Hi(r,o);break;case 13:Hi(r,o),u&4&&V_(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=bx.bind(null,o),jx(r,o))));break;case 22:if(u=o.memoizedState!==null||ci,!u){s=s!==null&&s.memoizedState!==null||wt,d=ci;var g=wt;ci=u,(wt=s)&&!g?qi(r,o,(o.subtreeFlags&8772)!==0):Hi(r,o),ci=d,wt=g}break;case 30:break;default:Hi(r,o)}}function M_(r){var s=r.alternate;s!==null&&(r.alternate=null,M_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ni(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var mt=null,bn=!1;function fi(r,s,o){for(o=o.child;o!==null;)P_(r,s,o),o=o.sibling}function P_(r,s,o){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(yt,o)}catch{}switch(o.tag){case 26:wt||xr(o,s),fi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||xr(o,s);var u=mt,d=bn;Wi(o.type)&&(mt=o.stateNode,bn=!1),fi(r,s,o),vu(o.stateNode),mt=u,bn=d;break;case 5:wt||xr(o,s);case 6:if(u=mt,d=bn,mt=null,fi(r,s,o),mt=u,bn=d,mt!==null)if(bn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(g){ct(o,s,g)}else try{mt.removeChild(o.stateNode)}catch(g){ct(o,s,g)}break;case 18:mt!==null&&(bn?(r=mt,TE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Au(r)):TE(mt,o.stateNode));break;case 4:u=mt,d=bn,mt=o.stateNode.containerInfo,bn=!0,fi(r,s,o),mt=u,bn=d;break;case 0:case 11:case 14:case 15:wt||Fi(2,o,s),wt||Fi(4,o,s),fi(r,s,o);break;case 1:wt||(xr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&x_(o,s,u)),fi(r,s,o);break;case 21:fi(r,s,o);break;case 22:wt=(u=wt)||o.memoizedState!==null,fi(r,s,o),wt=u;break;default:fi(r,s,o)}}function V_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Au(r)}catch(o){ct(s,s.return,o)}}function dx(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new D_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new D_),s;default:throw Error(i(435,r.tag))}}function qm(r,s){var o=dx(r);s.forEach(function(u){var d=Tx.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function In(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,T=s,R=T;e:for(;R!==null;){switch(R.tag){case 27:if(Wi(R.type)){mt=R.stateNode,bn=!1;break e}break;case 5:mt=R.stateNode,bn=!1;break e;case 3:case 4:mt=R.stateNode.containerInfo,bn=!0;break e}R=R.return}if(mt===null)throw Error(i(160));P_(g,T,d),mt=null,bn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)k_(s,r),s=s.sibling}var ir=null;function k_(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:In(s,r),On(r),u&4&&(Fi(3,r,r.return),ou(3,r),Fi(5,r,r.return));break;case 1:In(s,r),On(r),u&512&&(wt||o===null||xr(o,o.return)),u&64&&ci&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ir;if(In(s,r),On(r),u&512&&(wt||o===null||xr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ls]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Jt(g,u,o),g[Dt]=r,bt(g),u=g;break e;case"link":var T=OE("link","href",d).get(u+(o.href||""));if(T){for(var R=0;R<T.length;R++)if(g=T[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(R,1);break t}}g=d.createElement(u),Jt(g,u,o),d.head.appendChild(g);break;case"meta":if(T=OE("meta","content",d).get(u+(o.content||""))){for(R=0;R<T.length;R++)if(g=T[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(R,1);break t}}g=d.createElement(u),Jt(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Dt]=r,bt(g),u=g}r.stateNode=u}else DE(d,r.type,r.stateNode);else r.stateNode=IE(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?DE(d,r.type,r.stateNode):IE(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Bm(r,r.memoizedProps,o.memoizedProps)}break;case 27:In(s,r),On(r),u&512&&(wt||o===null||xr(o,o.return)),o!==null&&u&4&&Bm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(In(s,r),On(r),u&512&&(wt||o===null||xr(o,o.return)),r.flags&32){d=r.stateNode;try{zn(d,"")}catch(J){ct(r,r.return,J)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,Bm(r,d,o!==null?o.memoizedProps:d)),u&1024&&(Hm=!0);break;case 6:if(In(s,r),On(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(J){ct(r,r.return,J)}}break;case 3:if($f=null,d=ir,ir=zf(s.containerInfo),In(s,r),ir=d,On(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Au(s.containerInfo)}catch(J){ct(r,r.return,J)}Hm&&(Hm=!1,L_(r));break;case 4:u=ir,ir=zf(r.stateNode.containerInfo),In(s,r),On(r),ir=u;break;case 12:In(s,r),On(r);break;case 13:In(s,r),On(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wm=Un()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,qm(r,u)));break;case 22:d=r.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,X=ci,ie=wt;if(ci=X||d,wt=ie||L,In(s,r),wt=ie,ci=X,On(r),u&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||L||ci||wt||ua(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(g=L.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=L.stateNode;var oe=L.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;R.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(J){ct(L,L.return,J)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=d?"":L.memoizedProps}catch(J){ct(L,L.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qm(r,o))));break;case 19:In(s,r),On(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,qm(r,u)));break;case 30:break;case 21:break;default:In(s,r),On(r)}}function On(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(I_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=$m(r);xf(r,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(zn(T,""),o.flags&=-33);var R=$m(r);xf(r,R,T);break;case 3:case 4:var L=o.stateNode.containerInfo,X=$m(r);Fm(r,X,L);break;default:throw Error(i(161))}}catch(ie){ct(r,r.return,ie)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function L_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;L_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Hi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)N_(r,s.alternate,s),s=s.sibling}function ua(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Fi(4,s,s.return),ua(s);break;case 1:xr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&x_(s,s.return,o),ua(s);break;case 27:vu(s.stateNode);case 26:case 5:xr(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}r=r.sibling}}function qi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:qi(d,g,o),ou(4,g);break;case 1:if(qi(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(X){ct(u,u.return,X)}if(u=g,d=u.updateQueue,d!==null){var R=u.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)h0(L[d],R)}catch(X){ct(u,u.return,X)}}o&&T&64&&R_(g),lu(g,g.return);break;case 27:O_(g);case 26:case 5:qi(d,g,o),o&&u===null&&T&4&&C_(g),lu(g,g.return);break;case 12:qi(d,g,o);break;case 13:qi(d,g,o),o&&T&4&&V_(d,g);break;case 22:g.memoizedState===null&&qi(d,g,o),lu(g,g.return);break;case 30:break;default:qi(d,g,o)}s=s.sibling}}function Gm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Kl(o))}function Km(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r))}function Cr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)U_(r,s,o,u),s=s.sibling}function U_(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Cr(r,s,o,u),d&2048&&ou(9,s);break;case 1:Cr(r,s,o,u);break;case 3:Cr(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r)));break;case 12:if(d&2048){Cr(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,R=g.onPostCommit;typeof R=="function"&&R(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){ct(s,s.return,L)}}else Cr(r,s,o,u);break;case 13:Cr(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Cr(r,s,o,u):uu(r,s):g._visibility&2?Cr(r,s,o,u):(g._visibility|=2,vo(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Gm(T,s);break;case 24:Cr(r,s,o,u),d&2048&&Km(s.alternate,s);break;default:Cr(r,s,o,u)}}function vo(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,T=s,R=o,L=u,X=T.flags;switch(T.tag){case 0:case 11:case 15:vo(g,T,R,L,d),ou(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&2?vo(g,T,R,L,d):uu(g,T):(ie._visibility|=2,vo(g,T,R,L,d)),d&&X&2048&&Gm(T.alternate,T);break;case 24:vo(g,T,R,L,d),d&&X&2048&&Km(T.alternate,T);break;default:vo(g,T,R,L,d)}s=s.sibling}}function uu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:uu(o,u),d&2048&&Gm(u.alternate,u);break;case 24:uu(o,u),d&2048&&Km(u.alternate,u);break;default:uu(o,u)}s=s.sibling}}var cu=8192;function yo(r){if(r.subtreeFlags&cu)for(r=r.child;r!==null;)j_(r),r=r.sibling}function j_(r){switch(r.tag){case 26:yo(r),r.flags&cu&&r.memoizedState!==null&&Zx(ir,r.memoizedState,r.memoizedProps);break;case 5:yo(r);break;case 3:case 4:var s=ir;ir=zf(r.stateNode.containerInfo),yo(r),ir=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=cu,cu=16777216,yo(r),cu=s):yo(r));break;default:yo(r)}}function z_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function fu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$t=u,$_(u,r)}z_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)B_(r),r=r.sibling}function B_(r){switch(r.tag){case 0:case 11:case 15:fu(r),r.flags&2048&&Fi(9,r,r.return);break;case 3:fu(r);break;case 12:fu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Cf(r)):fu(r);break;default:fu(r)}}function Cf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$t=u,$_(u,r)}z_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Fi(8,s,s.return),Cf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Cf(s));break;default:Cf(s)}r=r.sibling}}function $_(r,s){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:Fi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,$t=u;else e:for(o=r;$t!==null;){u=$t;var d=u.sibling,g=u.return;if(M_(u),u===o){$t=null;break e}if(d!==null){d.return=g,$t=d;break e}$t=g}}}var mx={getCacheForType:function(r){var s=an(Pt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},px=typeof WeakMap=="function"?WeakMap:Map,rt=0,ft=null,ze=null,Ye=0,it=0,Dn=null,Gi=!1,_o=!1,Ym=!1,hi=0,Et=0,Ki=0,ca=0,Qm=0,Qn=0,Eo=0,hu=null,Tn=null,Xm=!1,Wm=0,If=1/0,Of=null,Yi=null,Zt=0,Qi=null,bo=null,To=0,Zm=0,Jm=null,F_=null,du=0,ep=null;function Nn(){if((rt&2)!==0&&Ye!==0)return Ye&-Ye;if(z.T!==null){var r=lo;return r!==0?r:op()}return Oi()}function H_(){Qn===0&&(Qn=(Ye&536870912)===0||Je?Tl():536870912);var r=Yn.current;return r!==null&&(r.flags|=32),Qn}function Mn(r,s,o){(r===ft&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(wo(r,0),Xi(r,Ye,Qn,!1)),Hr(r,o),((rt&2)===0||r!==ft)&&(r===ft&&((rt&2)===0&&(ca|=o),Et===4&&Xi(r,Ye,Qn,!1)),Ir(r))}function q_(r,s,o){if((rt&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ks(r,s),d=u?yx(r,s):rp(r,s,!0),g=u;do{if(d===0){_o&&!u&&Xi(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!gx(o)){d=rp(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var R=r;d=hu;var L=R.current.memoizedState.isDehydrated;if(L&&(wo(R,T).flags|=256),T=rp(R,T,!1),T!==2){if(Ym&&!L){R.errorRecoveryDisabledLanes|=g,ca|=g,d=4;break e}g=Tn,Tn=d,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){wo(r,0),Xi(r,s,0,!0);break}e:{switch(u=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Xi(u,s,Qn,!Gi);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Wm+300-Un(),10<d)){if(Xi(u,s,Qn,!Gi),ja(u,0,!0)!==0)break e;u.timeoutHandle=EE(G_.bind(null,u,o,Tn,Of,Xm,s,Qn,ca,Eo,Gi,g,2,-0,0),d);break e}G_(u,o,Tn,Of,Xm,s,Qn,ca,Eo,Gi,g,0,-0,0)}}break}while(!0);Ir(r)}function G_(r,s,o,u,d,g,T,R,L,X,ie,oe,W,J){if(r.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Eu={stylesheets:null,count:0,unsuspend:Wx},j_(s),oe=Jx(),oe!==null)){r.cancelPendingCommit=oe(J_.bind(null,r,s,g,o,u,d,T,R,L,ie,1,W,J)),Xi(r,g,T,!X);return}J_(r,s,g,o,u,d,T,R,L)}function gx(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!xn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xi(r,s,o,u){s&=~Qm,s&=~ca,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var g=31-sn(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&mr(r,o,s)}function Df(){return(rt&6)===0?(mu(0),!1):!0}function tp(){if(ze!==null){if(it===0)var r=ze.return;else r=ze,ii=ia=null,ym(r),po=null,iu=0,r=ze;for(;r!==null;)A_(r.alternate,r),r=r.return;ze=null}}function wo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Px(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),tp(),ft=r,ze=o=ti(r.current,null),Ye=s,it=0,Dn=null,Gi=!1,_o=ks(r,s),Ym=!1,Eo=Qn=Qm=ca=Ki=Et=0,Tn=hu=null,Xm=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-sn(u),g=1<<d;s|=r[d],u&=~g}return hi=s,Zc(),o}function K_(r,s){Le=null,z.H=yf,s===Ql||s===lf?(s=c0(),it=3):s===o0?(s=c0(),it=4):it=s===f_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,ze===null&&(Et=1,wf(r,Hn(s,r.current)))}function Y_(){var r=z.H;return z.H=yf,r===null?yf:r}function Q_(){var r=z.A;return z.A=mx,r}function np(){Et=4,Gi||(Ye&4194048)!==Ye&&Yn.current!==null||(_o=!0),(Ki&134217727)===0&&(ca&134217727)===0||ft===null||Xi(ft,Ye,Qn,!1)}function rp(r,s,o){var u=rt;rt|=2;var d=Y_(),g=Q_();(ft!==r||Ye!==s)&&(Of=null,wo(r,s)),s=!1;var T=Et;e:do try{if(it!==0&&ze!==null){var R=ze,L=Dn;switch(it){case 8:tp(),T=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var X=it;if(it=0,Dn=null,So(r,R,L,X),o&&_o){T=0;break e}break;default:X=it,it=0,Dn=null,So(r,R,L,X)}}vx(),T=Et;break}catch(ie){K_(r,ie)}while(!0);return s&&r.shellSuspendCounter++,ii=ia=null,rt=u,z.H=d,z.A=g,ze===null&&(ft=null,Ye=0,Zc()),T}function vx(){for(;ze!==null;)X_(ze)}function yx(r,s){var o=rt;rt|=2;var u=Y_(),d=Q_();ft!==r||Ye!==s?(Of=null,If=Un()+500,wo(r,s)):_o=ks(r,s);e:do try{if(it!==0&&ze!==null){s=ze;var g=Dn;t:switch(it){case 1:it=0,Dn=null,So(r,s,g,1);break;case 2:case 9:if(l0(g)){it=0,Dn=null,W_(s);break}s=function(){it!==2&&it!==9||ft!==r||(it=7),Ir(r)},g.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:l0(g)?(it=0,Dn=null,W_(s)):(it=0,Dn=null,So(r,s,g,7));break;case 5:var T=null;switch(ze.tag){case 26:T=ze.memoizedState;case 5:case 27:var R=ze;if(!T||NE(T)){it=0,Dn=null;var L=R.sibling;if(L!==null)ze=L;else{var X=R.return;X!==null?(ze=X,Nf(X)):ze=null}break t}}it=0,Dn=null,So(r,s,g,5);break;case 6:it=0,Dn=null,So(r,s,g,6);break;case 8:tp(),Et=6;break e;default:throw Error(i(462))}}_x();break}catch(ie){K_(r,ie)}while(!0);return ii=ia=null,z.H=u,z.A=d,rt=o,ze!==null?0:(ft=null,Ye=0,Zc(),Et)}function _x(){for(;ze!==null&&!yl();)X_(ze)}function X_(r){var s=w_(r.alternate,r,hi);r.memoizedProps=r.pendingProps,s===null?Nf(r):ze=s}function W_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=v_(o,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=v_(o,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:ym(s);default:A_(o,s),s=ze=Zy(s,hi),s=w_(o,s,hi)}r.memoizedProps=r.pendingProps,s===null?Nf(r):ze=s}function So(r,s,o,u){ii=ia=null,ym(s),po=null,iu=0;var d=s.return;try{if(lx(r,d,s,o,Ye)){Et=1,wf(r,Hn(o,r.current)),ze=null;return}}catch(g){if(d!==null)throw ze=d,g;Et=1,wf(r,Hn(o,r.current)),ze=null;return}s.flags&32768?(Je||u===1?r=!0:_o||(Ye&536870912)!==0?r=!1:(Gi=r=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Z_(s,r)):Nf(s)}function Nf(r){var s=r;do{if((s.flags&32768)!==0){Z_(s,Gi);return}r=s.return;var o=cx(s.alternate,s,hi);if(o!==null){ze=o;return}if(s=s.sibling,s!==null){ze=s;return}ze=s=r}while(s!==null);Et===0&&(Et=5)}function Z_(r,s){do{var o=fx(r.alternate,r);if(o!==null){o.flags&=32767,ze=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){ze=r;return}ze=r=o}while(r!==null);Et=6,ze=null}function J_(r,s,o,u,d,g,T,R,L){r.cancelPendingCommit=null;do Mf();while(Zt!==0);if((rt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Kd,Sl(r,o,g,T,R,L),r===ft&&(ze=ft=null,Ye=0),bo=s,Qi=r,To=o,Zm=g,Jm=d,F_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,wx(Ns,function(){return iE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,d=Z.p,Z.p=2,T=rt,rt|=4;try{hx(r,s,o)}finally{rt=T,Z.p=d,z.T=u}}Zt=1,eE(),tE(),nE()}}function eE(){if(Zt===1){Zt=0;var r=Qi,s=bo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var u=Z.p;Z.p=2;var d=rt;rt|=4;try{k_(s,r);var g=pp,T=$y(r.containerInfo),R=g.focusedElem,L=g.selectionRange;if(T!==R&&R&&R.ownerDocument&&By(R.ownerDocument.documentElement,R)){if(L!==null&&$d(R)){var X=L.start,ie=L.end;if(ie===void 0&&(ie=X),"selectionStart"in R)R.selectionStart=X,R.selectionEnd=Math.min(ie,R.value.length);else{var oe=R.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var J=W.getSelection(),Oe=R.textContent.length,xe=Math.min(L.start,Oe),ut=L.end===void 0?xe:Math.min(L.end,Oe);!J.extend&&xe>ut&&(T=ut,ut=xe,xe=T);var G=zy(R,xe),H=zy(R,ut);if(G&&H&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==H.node||J.focusOffset!==H.offset)){var Q=oe.createRange();Q.setStart(G.node,G.offset),J.removeAllRanges(),xe>ut?(J.addRange(Q),J.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),J.addRange(Q))}}}}for(oe=[],J=R;J=J.parentNode;)J.nodeType===1&&oe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<oe.length;R++){var ae=oe[R];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}qf=!!mp,pp=mp=null}finally{rt=d,Z.p=u,z.T=o}}r.current=s,Zt=2}}function tE(){if(Zt===2){Zt=0;var r=Qi,s=bo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var u=Z.p;Z.p=2;var d=rt;rt|=4;try{N_(r,s.alternate,s)}finally{rt=d,Z.p=u,z.T=o}}Zt=3}}function nE(){if(Zt===4||Zt===3){Zt=0,xc();var r=Qi,s=bo,o=To,u=F_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,bo=Qi=null,rE(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(Yi=null),za(o),s=s.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(yt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=z.T,d=Z.p,Z.p=2,z.T=null;try{for(var g=r.onRecoverableError,T=0;T<u.length;T++){var R=u[T];g(R.value,{componentStack:R.stack})}}finally{z.T=s,Z.p=d}}(To&3)!==0&&Mf(),Ir(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===ep?du++:(du=0,ep=r):du=0,mu(0)}}function rE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Kl(s)))}function Mf(r){return eE(),tE(),nE(),iE()}function iE(){if(Zt!==5)return!1;var r=Qi,s=Zm;Zm=0;var o=za(To),u=z.T,d=Z.p;try{Z.p=32>o?32:o,z.T=null,o=Jm,Jm=null;var g=Qi,T=To;if(Zt=0,bo=Qi=null,To=0,(rt&6)!==0)throw Error(i(331));var R=rt;if(rt|=4,B_(g.current),U_(g,g.current,T,o),rt=R,mu(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(yt,g)}catch{}return!0}finally{Z.p=d,z.T=u,rE(r,s)}}function sE(r,s,o){s=Hn(o,s),s=Nm(r.stateNode,s,2),r=ji(r,s,2),r!==null&&(Hr(r,2),Ir(r))}function ct(r,s,o){if(r.tag===3)sE(r,r,o);else for(;s!==null;){if(s.tag===3){sE(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yi===null||!Yi.has(u))){r=Hn(o,r),o=u_(2),u=ji(s,o,2),u!==null&&(c_(o,u,s,r),Hr(u,2),Ir(u));break}}s=s.return}}function ip(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new px;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Ym=!0,d.add(o),r=Ex.bind(null,r,s,o),s.then(r,r))}function Ex(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ft===r&&(Ye&o)===o&&(Et===4||Et===3&&(Ye&62914560)===Ye&&300>Un()-Wm?(rt&2)===0&&wo(r,0):Qm|=o,Eo===Ye&&(Eo=0)),Ir(r)}function aE(r,s){s===0&&(s=wl()),r=io(r,s),r!==null&&(Hr(r,s),Ir(r))}function bx(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),aE(r,o)}function Tx(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),aE(r,o)}function wx(r,s){return Os(r,s)}var Pf=null,Ao=null,sp=!1,Vf=!1,ap=!1,fa=0;function Ir(r){r!==Ao&&r.next===null&&(Ao===null?Pf=Ao=r:Ao=Ao.next=r),Vf=!0,sp||(sp=!0,Ax())}function mu(r,s){if(!ap&&Vf){ap=!0;do for(var o=!1,u=Pf;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,R=u.pingedLanes;g=(1<<31-sn(42|r)+1)-1,g&=d&~(T&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,cE(u,g))}else g=Ye,g=ja(u,u===ft?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ks(u,g)||(o=!0,cE(u,g));u=u.next}while(o);ap=!1}}function Sx(){oE()}function oE(){Vf=sp=!1;var r=0;fa!==0&&(Mx()&&(r=fa),fa=0);for(var s=Un(),o=null,u=Pf;u!==null;){var d=u.next,g=lE(u,s);g===0?(u.next=null,o===null?Pf=d:o.next=d,d===null&&(Ao=o)):(o=u,(r!==0||(g&3)!==0)&&(Vf=!0)),u=d}mu(r)}function lE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-sn(g),R=1<<T,L=d[T];L===-1?((R&o)===0||(R&u)!==0)&&(d[T]=bl(R,s)):L<=s&&(r.expiredLanes|=R),g&=~R}if(s=ft,o=Ye,o=ja(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(it===2||it===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ds(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ks(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Ds(u),za(o)){case 2:case 8:o=La;break;case 32:o=Ns;break;case 268435456:o=Ua;break;default:o=Ns}return u=uE.bind(null,r),o=Os(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Ds(u),r.callbackPriority=2,r.callbackNode=null,2}function uE(r,s){if(Zt!==0&&Zt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Mf()&&r.callbackNode!==o)return null;var u=Ye;return u=ja(r,r===ft?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(q_(r,u,s),lE(r,Un()),r.callbackNode!=null&&r.callbackNode===o?uE.bind(null,r):null)}function cE(r,s){if(Mf())return null;q_(r,s,!0)}function Ax(){Vx(function(){(rt&6)!==0?Os(_l,Sx):oE()})}function op(){return fa===0&&(fa=Tl()),fa}function fE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ga(""+r)}function hE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function Rx(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=fE((d[At]||null).action),T=u.submitter;T&&(s=(s=T[At]||null)?fE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var R=new Ka("action","action",null,u,d);r.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fa!==0){var L=T?hE(d,T):new FormData(d);xm(o,{pending:!0,data:L,method:d.method,action:g},null,L)}}else typeof g=="function"&&(R.preventDefault(),L=T?hE(d,T):new FormData(d),xm(o,{pending:!0,data:L,method:d.method,action:g},g,L))},currentTarget:d}]})}}for(var lp=0;lp<Gd.length;lp++){var up=Gd[lp],xx=up.toLowerCase(),Cx=up[0].toUpperCase()+up.slice(1);rr(xx,"on"+Cx)}rr(qy,"onAnimationEnd"),rr(Gy,"onAnimationIteration"),rr(Ky,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(qR,"onTransitionRun"),rr(GR,"onTransitionStart"),rr(KR,"onTransitionCancel"),rr(Yy,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ix=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function dE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var R=u[T],L=R.instance,X=R.currentTarget;if(R=R.listener,L!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=X;try{g(d)}catch(ie){Tf(ie)}d.currentTarget=null,g=L}else for(T=0;T<u.length;T++){if(R=u[T],L=R.instance,X=R.currentTarget,R=R.listener,L!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=X;try{g(d)}catch(ie){Tf(ie)}d.currentTarget=null,g=L}}}}function Be(r,s){var o=s[Rl];o===void 0&&(o=s[Rl]=new Set);var u=r+"__bubble";o.has(u)||(mE(s,r,2,!1),o.add(u))}function cp(r,s,o){var u=0;s&&(u|=4),mE(o,r,u,s)}var kf="_reactListening"+Math.random().toString(36).slice(2);function fp(r){if(!r[kf]){r[kf]=!0,xl.forEach(function(o){o!=="selectionchange"&&(Ix.has(o)||cp(o,!1,r),cp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[kf]||(s[kf]=!0,cp("selectionchange",!1,s))}}function mE(r,s,o,u){switch(UE(s)){case 2:var d=nC;break;case 8:d=rC;break;default:d=Ap}o=d.bind(null,s,o,r),d=void 0,!$n||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function hp(r,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var R=u.stateNode.containerInfo;if(R===d)break;if(T===4)for(T=u.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;R!==null;){if(T=qr(R),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){u=g=T;continue e}R=R.parentNode}}u=u.return}Lc(function(){var X=g,ie=Bn(o),oe=[];e:{var W=Qy.get(r);if(W!==void 0){var J=Ka,Oe=r;switch(r){case"keypress":if(Er(o)===0)break e;case"keydown":case"keyup":J=Ja;break;case"focusin":Oe="focus",J=Xa;break;case"focusout":Oe="blur",J=Xa;break;case"beforeblur":case"afterblur":J=Xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=qc;break;case qy:case Gy:case Ky:J=Wa;break;case Yy:J=Kc;break;case"scroll":case"scrollend":J=Uc;break;case"wheel":J=eo;break;case"copy":case"cut":case"paste":J=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=jl;break;case"toggle":case"beforetoggle":J=Qc}var xe=(s&4)!==0,ut=!xe&&(r==="scroll"||r==="scrollend"),G=xe?W!==null?W+"Capture":null:W;xe=[];for(var H=X,Q;H!==null;){var ae=H;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||G===null||(ae=Hs(H,G),ae!=null&&xe.push(gu(H,ae,Q))),ut)break;H=H.return}0<xe.length&&(W=new J(W,Oe,null,o,ie),oe.push({event:W,listeners:xe}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",W&&o!==Qr&&(Oe=o.relatedTarget||o.fromElement)&&(qr(Oe)||Oe[jn]))break e;if((J||W)&&(W=ie.window===ie?ie:(W=ie.ownerDocument)?W.defaultView||W.parentWindow:window,J?(Oe=o.relatedTarget||o.toElement,J=X,Oe=Oe?qr(Oe):null,Oe!==null&&(ut=l(Oe),xe=Oe.tag,Oe!==ut||xe!==5&&xe!==27&&xe!==6)&&(Oe=null)):(J=null,Oe=X),J!==Oe)){if(xe=Fn,ae="onMouseLeave",G="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(xe=jl,ae="onPointerLeave",G="onPointerEnter",H="pointer"),ut=J==null?W:gr(J),Q=Oe==null?W:gr(Oe),W=new xe(ae,H+"leave",J,o,ie),W.target=ut,W.relatedTarget=Q,ae=null,qr(ie)===X&&(xe=new xe(G,H+"enter",Oe,o,ie),xe.target=Q,xe.relatedTarget=ut,ae=xe),ut=ae,J&&Oe)t:{for(xe=J,G=Oe,H=0,Q=xe;Q;Q=Ro(Q))H++;for(Q=0,ae=G;ae;ae=Ro(ae))Q++;for(;0<H-Q;)xe=Ro(xe),H--;for(;0<Q-H;)G=Ro(G),Q--;for(;H--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=Ro(xe),G=Ro(G)}xe=null}else xe=null;J!==null&&pE(oe,W,J,xe,!1),Oe!==null&&ut!==null&&pE(oe,ut,Oe,xe,!0)}}e:{if(W=X?gr(X):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var be=Py;else if(Mt(W))if(Vy)be=$R;else{be=zR;var je=jR}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Nl(X.elementType)&&(be=Py):be=BR;if(be&&(be=be(r,X))){ei(oe,be,o,ie);break e}je&&je(r,W,X),r==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Pi(W,"number",W.value)}switch(je=X?gr(X):window,r){case"focusin":(Mt(je)||je.contentEditable==="true")&&(to=je,Fd=X,$l=null);break;case"focusout":$l=Fd=to=null;break;case"mousedown":Hd=!0;break;case"contextmenu":case"mouseup":case"dragend":Hd=!1,Fy(oe,o,ie);break;case"selectionchange":if(HR)break;case"keydown":case"keyup":Fy(oe,o,ie)}var we;if(wr)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ge?te(r,o)&&(Ce="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(b&&o.locale!=="ko"&&(Ge||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ge&&(we=Pl()):(_r=ie,Vi="value"in _r?_r.value:_r.textContent,Ge=!0)),je=Lf(X,Ce),0<je.length&&(Ce=new Ll(Ce,r,null,o,ie),oe.push({event:Ce,listeners:je}),we?Ce.data=we:(we=me(o),we!==null&&(Ce.data=we)))),(we=y?Nt(r,o):Ke(r,o))&&(Ce=Lf(X,"onBeforeInput"),0<Ce.length&&(je=new Ll("onBeforeInput","beforeinput",null,o,ie),oe.push({event:je,listeners:Ce}),je.data=we)),Rx(oe,r,X,o,ie)}dE(oe,s)})}function gu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Lf(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Hs(r,o),d!=null&&u.unshift(gu(r,d,g)),d=Hs(r,s),d!=null&&u.push(gu(r,d,g))),r.tag===3)return u;r=r.return}return[]}function Ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pE(r,s,o,u,d){for(var g=s._reactName,T=[];o!==null&&o!==u;){var R=o,L=R.alternate,X=R.stateNode;if(R=R.tag,L!==null&&L===u)break;R!==5&&R!==26&&R!==27||X===null||(L=X,d?(X=Hs(o,g),X!=null&&T.unshift(gu(o,X,L))):d||(X=Hs(o,g),X!=null&&T.push(gu(o,X,L)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var Ox=/\r\n?/g,Dx=/\u0000|\uFFFD/g;function gE(r){return(typeof r=="string"?r:""+r).replace(Ox,`
`).replace(Dx,"")}function vE(r,s){return s=gE(s),gE(r)===s}function Uf(){}function lt(r,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||zn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&zn(r,""+u);break;case"className":vr(r,"class",u);break;case"tabIndex":vr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(r,o,u);break;case"style":Dl(r,u,g);break;case"data":if(s!=="object"){vr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ga(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&lt(r,s,"name",d.name,d,null),lt(r,s,"formEncType",d.formEncType,d,null),lt(r,s,"formMethod",d.formMethod,d,null),lt(r,s,"formTarget",d.formTarget,d,null)):(lt(r,s,"encType",d.encType,d,null),lt(r,s,"method",d.method,d,null),lt(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ga(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Uf);break;case"onScroll":u!=null&&Be("scroll",r);break;case"onScrollEnd":u!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Ga(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Be("beforetoggle",r),Be("toggle",r),Mi(r,"popover",u);break;case"xlinkActuate":Qt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Mi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kd.get(o)||o,Mi(r,o,u))}}function dp(r,s,o,u,d,g){switch(o){case"style":Dl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?zn(r,u):(typeof u=="number"||typeof u=="bigint")&&zn(r,""+u);break;case"onScroll":u!=null&&Be("scroll",r);break;case"onScrollEnd":u!=null&&Be("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Uf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Mi(r,o,u)}}}function Jt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(r,s,g,T,o,null)}}d&&lt(r,s,"srcSet",o.srcSet,o,null),u&&lt(r,s,"src",o.src,o,null);return;case"input":Be("invalid",r);var R=g=T=d=null,L=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":d=ie;break;case"type":T=ie;break;case"checked":L=ie;break;case"defaultChecked":X=ie;break;case"value":g=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:lt(r,s,u,ie,o,null)}}Bs(r,g,R,L,X,T,d,!1),qa(r);return;case"select":Be("invalid",r),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(R=o[d],R!=null))switch(d){case"value":g=R;break;case"defaultValue":T=R;break;case"multiple":u=R;default:lt(r,s,d,R,o,null)}s=g,o=T,r.multiple=!!u,s!=null?Yr(r,!!u,s,!1):o!=null&&Yr(r,!!u,o,!0);return;case"textarea":Be("invalid",r),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(R=o[T],R!=null))switch(T){case"value":u=R;break;case"defaultValue":d=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:lt(r,s,T,R,o,null)}$s(r,u,d,g),qa(r);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:lt(r,s,L,u,o,null)}return;case"dialog":Be("beforetoggle",r),Be("toggle",r),Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(u=0;u<pu.length;u++)Be(pu[u],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(r,s,X,u,o,null)}return;default:if(Nl(s)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&dp(r,s,ie,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&lt(r,s,R,u,o,null))}function Nx(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,R=null,L=null,X=null,ie=null;for(J in o){var oe=o[J];if(o.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=oe;default:u.hasOwnProperty(J)||lt(r,s,J,null,u,oe)}}for(var W in u){var J=u[W];if(oe=o[W],u.hasOwnProperty(W)&&(J!=null||oe!=null))switch(W){case"type":g=J;break;case"name":d=J;break;case"checked":X=J;break;case"defaultChecked":ie=J;break;case"value":T=J;break;case"defaultValue":R=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==oe&&lt(r,s,W,J,u,oe)}}Rn(r,T,R,L,X,ie,g,d);return;case"select":J=T=R=W=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":J=L;default:u.hasOwnProperty(g)||lt(r,s,g,null,u,L)}for(d in u)if(g=u[d],L=o[d],u.hasOwnProperty(d)&&(g!=null||L!=null))switch(d){case"value":W=g;break;case"defaultValue":R=g;break;case"multiple":T=g;default:g!==L&&lt(r,s,d,g,u,L)}s=R,o=T,u=J,W!=null?Yr(r,!!o,W,!1):!!u!=!!o&&(s!=null?Yr(r,!!o,s,!0):Yr(r,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(R in o)if(d=o[R],o.hasOwnProperty(R)&&d!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:lt(r,s,R,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":W=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&lt(r,s,T,d,u,g)}at(r,W,J);return;case"option":for(var Oe in o)if(W=o[Oe],o.hasOwnProperty(Oe)&&W!=null&&!u.hasOwnProperty(Oe))switch(Oe){case"selected":r.selected=!1;break;default:lt(r,s,Oe,null,u,W)}for(L in u)if(W=u[L],J=o[L],u.hasOwnProperty(L)&&W!==J&&(W!=null||J!=null))switch(L){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:lt(r,s,L,W,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)W=o[xe],o.hasOwnProperty(xe)&&W!=null&&!u.hasOwnProperty(xe)&&lt(r,s,xe,null,u,W);for(X in u)if(W=u[X],J=o[X],u.hasOwnProperty(X)&&W!==J&&(W!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:lt(r,s,X,W,u,J)}return;default:if(Nl(s)){for(var ut in o)W=o[ut],o.hasOwnProperty(ut)&&W!==void 0&&!u.hasOwnProperty(ut)&&dp(r,s,ut,void 0,u,W);for(ie in u)W=u[ie],J=o[ie],!u.hasOwnProperty(ie)||W===J||W===void 0&&J===void 0||dp(r,s,ie,W,u,J);return}}for(var G in o)W=o[G],o.hasOwnProperty(G)&&W!=null&&!u.hasOwnProperty(G)&&lt(r,s,G,null,u,W);for(oe in u)W=u[oe],J=o[oe],!u.hasOwnProperty(oe)||W===J||W==null&&J==null||lt(r,s,oe,W,u,J)}var mp=null,pp=null;function jf(r){return r.nodeType===9?r:r.ownerDocument}function yE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _E(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function gp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vp=null;function Mx(){var r=window.event;return r&&r.type==="popstate"?r===vp?!1:(vp=r,!0):(vp=null,!1)}var EE=typeof setTimeout=="function"?setTimeout:void 0,Px=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,Vx=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(r){return bE.resolve(null).then(r).catch(kx)}:EE;function kx(r){setTimeout(function(){throw r})}function Wi(r){return r==="head"}function TE(r,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&vu(T.documentElement),o&2&&vu(T.body),o&4)for(o=T.head,vu(o),T=o.firstChild;T;){var R=T.nextSibling,L=T.nodeName;T[Ls]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=R}}if(d===0){r.removeChild(g),Au(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Au(s)}function yp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yp(o),Ni(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function Lx(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ls])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=sr(r.nextSibling),r===null)break}return null}function Ux(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=sr(r.nextSibling),r===null))return null;return r}function _p(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function jx(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function sr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Ep=null;function wE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function SE(r,s,o){switch(s=jf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function vu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ni(r)}var Xn=new Map,AE=new Set;function zf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var di=Z.d;Z.d={f:zx,r:Bx,D:$x,C:Fx,L:Hx,m:qx,X:Kx,S:Gx,M:Yx};function zx(){var r=di.f(),s=Df();return r||s}function Bx(r){var s=pr(r);s!==null&&s.tag===5&&s.type==="form"?q0(s):di.r(r)}var xo=typeof document>"u"?null:document;function RE(r,s,o){var u=xo;if(u&&typeof s=="string"&&s){var d=Rt(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),AE.has(d)||(AE.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Jt(s,"link",r),bt(s),u.head.appendChild(s)))}}function $x(r){di.D(r),RE("dns-prefetch",r,null)}function Fx(r,s){di.C(r,s),RE("preconnect",r,s)}function Hx(r,s,o){di.L(r,s,o);var u=xo;if(u&&r&&s){var d='link[rel="preload"][as="'+Rt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Rt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Rt(o.imageSizes)+'"]')):d+='[href="'+Rt(r)+'"]';var g=d;switch(s){case"style":g=Co(r);break;case"script":g=Io(r)}Xn.has(g)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Xn.set(g,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(yu(g))||s==="script"&&u.querySelector(_u(g))||(s=u.createElement("link"),Jt(s,"link",r),bt(s),u.head.appendChild(s)))}}function qx(r,s){di.m(r,s);var o=xo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Rt(u)+'"][href="'+Rt(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Io(r)}if(!Xn.has(g)&&(r=v({rel:"modulepreload",href:r},s),Xn.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(_u(g)))return}u=o.createElement("link"),Jt(u,"link",r),bt(u),o.head.appendChild(u)}}}function Gx(r,s,o){di.S(r,s,o);var u=xo;if(u&&r){var d=mn(u).hoistableStyles,g=Co(r);s=s||"default";var T=d.get(g);if(!T){var R={loading:0,preload:null};if(T=u.querySelector(yu(g)))R.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Xn.get(g))&&bp(r,o);var L=T=u.createElement("link");bt(L),Jt(L,"link",r),L._p=new Promise(function(X,ie){L.onload=X,L.onerror=ie}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Bf(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:R},d.set(g,T)}}}function Kx(r,s){di.X(r,s);var o=xo;if(o&&r){var u=mn(o).hoistableScripts,d=Io(r),g=u.get(d);g||(g=o.querySelector(_u(d)),g||(r=v({src:r,async:!0},s),(s=Xn.get(d))&&Tp(r,s),g=o.createElement("script"),bt(g),Jt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Yx(r,s){di.M(r,s);var o=xo;if(o&&r){var u=mn(o).hoistableScripts,d=Io(r),g=u.get(d);g||(g=o.querySelector(_u(d)),g||(r=v({src:r,async:!0,type:"module"},s),(s=Xn.get(d))&&Tp(r,s),g=o.createElement("script"),bt(g),Jt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function xE(r,s,o,u){var d=(d=ve.current)?zf(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Co(o.href),o=mn(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Co(o.href);var g=mn(d).hoistableStyles,T=g.get(r);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=d.querySelector(yu(r)))&&!g._p&&(T.instance=g,T.state.loading=5),Xn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(r,o),g||Qx(d,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Io(o),o=mn(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Co(r){return'href="'+Rt(r)+'"'}function yu(r){return'link[rel="stylesheet"]['+r+"]"}function CE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Qx(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",o),bt(s),r.head.appendChild(s))}function Io(r){return'[src="'+Rt(r)+'"]'}function _u(r){return"script[async]"+r}function IE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Rt(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),Jt(u,"style",d),Bf(u,o.precedence,r),s.instance=u;case"stylesheet":d=Co(o.href);var g=r.querySelector(yu(d));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;u=CE(o),(d=Xn.get(d))&&bp(u,d),g=(r.ownerDocument||r).createElement("link"),bt(g);var T=g;return T._p=new Promise(function(R,L){T.onload=R,T.onerror=L}),Jt(g,"link",u),s.state.loading|=4,Bf(g,o.precedence,r),s.instance=g;case"script":return g=Io(o.src),(d=r.querySelector(_u(g)))?(s.instance=d,bt(d),d):(u=o,(d=Xn.get(g))&&(u=v({},o),Tp(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),bt(d),Jt(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Bf(u,o.precedence,r));return s.instance}function Bf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var R=u[T];if(R.dataset.precedence===s)g=R;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function bp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Tp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var $f=null;function OE(r,s,o){if($f===null){var u=new Map,d=$f=new Map;d.set(o,u)}else d=$f,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[Ls]||g[Dt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var R=u.get(T);R?R.push(g):u.set(T,[g])}}return u}function DE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function Xx(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function NE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Eu=null;function Wx(){}function Zx(r,s,o){if(Eu===null)throw Error(i(475));var u=Eu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Co(o.href),g=r.querySelector(yu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Ff.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,bt(g);return}g=r.ownerDocument||r,o=CE(o),(d=Xn.get(d))&&bp(o,d),g=g.createElement("link"),bt(g);var T=g;T._p=new Promise(function(R,L){T.onload=R,T.onerror=L}),Jt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Ff.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function Jx(){if(Eu===null)throw Error(i(475));var r=Eu;return r.stylesheets&&r.count===0&&wp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&wp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Ff(){if(this.count--,this.count===0){if(this.stylesheets)wp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Hf=null;function wp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Hf=new Map,s.forEach(eC,r),Hf=null,Ff.call(r))}function eC(r,s){if(!(s.state.loading&4)){var o=Hf.get(r);if(o)var u=o.get(null);else{o=new Map,Hf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=Ff.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var bu={$$typeof:$,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function tC(r,s,o,u,d,g,T,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.hiddenUpdates=Fr(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function ME(r,s,o,u,d,g,T,R,L,X,ie,oe){return r=new tC(r,s,o,T,R,L,X,oe),s=1,g===!0&&(s|=24),g=Cn(3,null,null,s),r.current=g,g.stateNode=r,s=im(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},lm(g),r}function PE(r){return r?(r=so,r):so}function VE(r,s,o,u,d,g){d=PE(d),u.context===null?u.context=d:u.pendingContext=d,u=Ui(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ji(r,u,s),o!==null&&(Mn(o,r,s),Wl(o,r,s))}function kE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Sp(r,s){kE(r,s),(r=r.alternate)&&kE(r,s)}function LE(r){if(r.tag===13){var s=io(r,67108864);s!==null&&Mn(s,r,67108864),Sp(r,67108864)}}var qf=!0;function nC(r,s,o,u){var d=z.T;z.T=null;var g=Z.p;try{Z.p=2,Ap(r,s,o,u)}finally{Z.p=g,z.T=d}}function rC(r,s,o,u){var d=z.T;z.T=null;var g=Z.p;try{Z.p=8,Ap(r,s,o,u)}finally{Z.p=g,z.T=d}}function Ap(r,s,o,u){if(qf){var d=Rp(u);if(d===null)hp(r,s,u,Gf,o),jE(r,u);else if(sC(d,r,s,o,u))u.stopPropagation();else if(jE(r,u),s&4&&-1<iC.indexOf(r)){for(;d!==null;){var g=pr(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=er(g.pendingLanes);if(T!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var L=1<<31-sn(T);R.entanglements[1]|=L,T&=~L}Ir(g),(rt&6)===0&&(If=Un()+500,mu(0))}}break;case 13:R=io(g,2),R!==null&&Mn(R,g,2),Df(),Sp(g,2)}if(g=Rp(u),g===null&&hp(r,s,u,Gf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else hp(r,s,u,null,o)}}function Rp(r){return r=Bn(r),xp(r)}var Gf=null;function xp(r){if(Gf=null,r=qr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Gf=r,null}function UE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Od()){case _l:return 2;case La:return 8;case Ns:case Dd:return 32;case Ua:return 268435456;default:return 32}default:return 32}}var Cp=!1,Zi=null,Ji=null,es=null,Tu=new Map,wu=new Map,ts=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jE(r,s){switch(r){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Tu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(s.pointerId)}}function Su(r,s,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=pr(s),s!==null&&LE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function sC(r,s,o,u,d){switch(s){case"focusin":return Zi=Su(Zi,r,s,o,u,d),!0;case"dragenter":return Ji=Su(Ji,r,s,o,u,d),!0;case"mouseover":return es=Su(es,r,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Tu.set(g,Su(Tu.get(g)||null,r,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,wu.set(g,Su(wu.get(g)||null,r,s,o,u,d)),!0}return!1}function zE(r){var s=qr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Oc(r.priority,function(){if(o.tag===13){var u=Nn();u=Ii(u);var d=io(o,u);d!==null&&Mn(d,o,u),Sp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Kf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Rp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Qr=u,o.target.dispatchEvent(u),Qr=null}else return s=pr(o),s!==null&&LE(s),r.blockedOn=o,!1;s.shift()}return!0}function BE(r,s,o){Kf(r)&&o.delete(s)}function aC(){Cp=!1,Zi!==null&&Kf(Zi)&&(Zi=null),Ji!==null&&Kf(Ji)&&(Ji=null),es!==null&&Kf(es)&&(es=null),Tu.forEach(BE),wu.forEach(BE)}function Yf(r,s){r.blockedOn===s&&(r.blockedOn=null,Cp||(Cp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aC)))}var Qf=null;function $E(r){Qf!==r&&(Qf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Qf===r&&(Qf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(xp(u||o)===null)continue;break}var g=pr(o);g!==null&&(r.splice(s,3),s-=3,xm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Au(r){function s(L){return Yf(L,r)}Zi!==null&&Yf(Zi,r),Ji!==null&&Yf(Ji,r),es!==null&&Yf(es,r),Tu.forEach(s),wu.forEach(s);for(var o=0;o<ts.length;o++){var u=ts[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ts.length&&(o=ts[0],o.blockedOn===null);)zE(o),o.blockedOn===null&&ts.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[At]||null;if(typeof g=="function")T||$E(o);else if(T){var R=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[At]||null)R=T.formAction;else if(xp(d)!==null)continue}else R=T.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),$E(o)}}}function Ip(r){this._internalRoot=r}Xf.prototype.render=Ip.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Nn();VE(o,u,r,s,null,null)},Xf.prototype.unmount=Ip.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;VE(r.current,2,null,r,null,null),Df(),s[jn]=null}};function Xf(r){this._internalRoot=r}Xf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Oi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ts.length&&s!==0&&s<ts[o].priority;o++);ts.splice(o,0,r),o===0&&zE(r)}};var FE=e.version;if(FE!=="19.1.0")throw Error(i(527,FE,"19.1.0"));Z.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var oC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{yt=Wf.inject(oC),nt=Wf}catch{}}return xu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=s_,g=a_,T=o_,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=ME(r,1,!1,null,null,o,u,d,g,T,R,null),r[jn]=s.current,fp(r),new Ip(s)},xu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",g=s_,T=a_,R=o_,L=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),s=ME(r,1,!0,s,o??null,u,d,g,T,R,L,X),s.context=PE(null),o=s.current,u=Nn(),u=Ii(u),d=Ui(u),d.callback=null,ji(o,d,u),o=u,s.current.lanes=o,Hr(s,o),Ir(s),r[jn]=s.current,fp(r),new Xf(s)},xu.version="19.1.0",xu}var JE;function yC(){if(JE)return Np.exports;JE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Np.exports=vC(),Np.exports}var _C=yC(),Cu={},eb;function EC(){if(eb)return Cu;eb=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.parse=c,Cu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,S){const A=new l,I=_.length;if(I<2)return A;const O=(S==null?void 0:S.decode)||v;let j=0;do{const B=_.indexOf("=",j);if(B===-1)break;const $=_.indexOf(";",j),K=$===-1?I:$;if(B>K){j=_.lastIndexOf(";",B-1)+1;continue}const q=h(_,j,B),ne=m(_,B,q),P=_.slice(q,ne);if(A[P]===void 0){let x=h(_,B+1,K),D=m(_,K,x);const N=O(_.slice(x,D));A[P]=N}j=K+1}while(j<I);return A}function h(_,S,A){do{const I=_.charCodeAt(S);if(I!==32&&I!==9)return S}while(++S<A);return A}function m(_,S,A){for(;S>A;){const I=_.charCodeAt(--S);if(I!==32&&I!==9)return S+1}return A}function p(_,S,A){const I=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const O=I(S);if(!e.test(O))throw new TypeError(`argument val is invalid: ${S}`);let j=_+"="+O;if(!A)return j;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);j+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);j+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);j+="; Path="+A.path}if(A.expires){if(!E(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);j+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(j+="; HttpOnly"),A.secure&&(j+="; Secure"),A.partitioned&&(j+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return j}function v(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function E(_){return a.call(_)==="[object Date]"}return Cu}EC();var tb="popstate";function bC(n={}){function e(a,l){let{pathname:c="/",search:h="",hash:m=""}=Oa(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),fg("",{pathname:c,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");h=p===-1?m:m.slice(0,p)}return h+"#"+(typeof l=="string"?l:qu(l))}function i(a,l){Zn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return wC(e,t,i,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TC(){return Math.random().toString(36).substring(2,10)}function nb(n,e){return{usr:n.state,key:n.key,idx:e}}function fg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Oa(e):e,state:t,key:e&&e.key||i||TC()}}function qu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Oa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function wC(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function E(){h="POP";let O=v(),j=O==null?null:O-p;p=O,m&&m({action:h,location:I.location,delta:j})}function _(O,j){h="PUSH";let B=fg(I.location,O,j);t&&t(B,O),p=v()+1;let $=nb(B,p),K=I.createHref(B);try{c.pushState($,"",K)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(K)}l&&m&&m({action:h,location:I.location,delta:1})}function S(O,j){h="REPLACE";let B=fg(I.location,O,j);t&&t(B,O),p=v();let $=nb(B,p),K=I.createHref(B);c.replaceState($,"",K),l&&m&&m({action:h,location:I.location,delta:0})}function A(O){return SC(O)}let I={get action(){return h},get location(){return n(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(tb,E),m=O,()=>{a.removeEventListener(tb,E),m=null}},createHref(O){return e(a,O)},createURL:A,encodeLocation(O){let j=A(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:S,go(O){return c.go(O)}};return I}function SC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:qu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function yw(n,e,t="/"){return AC(n,e,t,!1)}function AC(n,e,t,i){let a=typeof e=="string"?Oa(e):e,l=Ei(a.pathname||"/",t);if(l==null)return null;let c=_w(n);RC(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let p=LC(l);h=VC(c[m],p,i)}return h}function _w(n,e=[],t=[],i=""){let a=(l,c,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(pt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=_i([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(pt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),_w(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:MC(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,c);else for(let m of Ew(l.path))a(l,c,m)}),e}function Ew(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Ew(i.join("/")),h=[];return h.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&h.push(...c),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function RC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:PC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var xC=/^:[\w-]+$/,CC=3,IC=2,OC=1,DC=10,NC=-2,rb=n=>n==="*";function MC(n,e){let t=n.split("/"),i=t.length;return t.some(rb)&&(i+=NC),e&&(i+=IC),t.filter(a=>!rb(a)).reduce((a,l)=>a+(xC.test(l)?CC:l===""?OC:DC),i)}function PC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function VC(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let h=0;h<i.length;++h){let m=i[h],p=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=bh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),_=m.route;if(!E&&p&&t&&!i[i.length-1].route.index&&(E=bh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:_i([l,E.pathname]),pathnameBase:BC(_i([l,E.pathnameBase])),route:_}),E.pathnameBase!=="/"&&(l=_i([l,E.pathnameBase]))}return c}function bh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=kC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:E},_)=>{if(v==="*"){let A=h[_]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const S=h[_];return E&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function kC(n,e=!1,t=!0){Zn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function LC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ei(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function UC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Oa(n):n;return{pathname:t?t.startsWith("/")?t:jC(t,e):e,search:$C(i),hash:FC(a)}}function jC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function kp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nv(n){let e=zC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function rv(n,e,t,i=!1){let a;typeof n=="string"?a=Oa(n):(a={...n},pt(!a.pathname||!a.pathname.includes("?"),kp("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),kp("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),kp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),E-=1;a.pathname=_.join("/")}h=E>=0?e[E]:"/"}let m=UC(a,h),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var _i=n=>n.join("/").replace(/\/\/+/g,"/"),BC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$C=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,FC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var bw=["POST","PUT","PATCH","DELETE"];new Set(bw);var qC=["GET",...bw];new Set(qC);var nl=w.createContext(null);nl.displayName="DataRouter";var Yh=w.createContext(null);Yh.displayName="DataRouterState";var Tw=w.createContext({isTransitioning:!1});Tw.displayName="ViewTransition";var GC=w.createContext(new Map);GC.displayName="Fetchers";var KC=w.createContext(null);KC.displayName="Await";var hr=w.createContext(null);hr.displayName="Navigation";var sc=w.createContext(null);sc.displayName="Location";var dr=w.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var iv=w.createContext(null);iv.displayName="RouteError";function YC(n,{relative:e}={}){pt(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(hr),{hash:a,pathname:l,search:c}=ac(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:_i([t,l])),i.createHref({pathname:h,search:c,hash:a})}function rl(){return w.useContext(sc)!=null}function As(){return pt(rl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(sc).location}var ww="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sw(n){w.useContext(hr).static||w.useLayoutEffect(n)}function il(){let{isDataRoute:n}=w.useContext(dr);return n?uI():QC()}function QC(){pt(rl(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(nl),{basename:e,navigator:t}=w.useContext(hr),{matches:i}=w.useContext(dr),{pathname:a}=As(),l=JSON.stringify(nv(i)),c=w.useRef(!1);return Sw(()=>{c.current=!0}),w.useCallback((m,p={})=>{if(Zn(c.current,ww),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=rv(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:_i([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}var XC=w.createContext(null);function WC(n){let e=w.useContext(dr).outlet;return e&&w.createElement(XC.Provider,{value:n},e)}function ac(n,{relative:e}={}){let{matches:t}=w.useContext(dr),{pathname:i}=As(),a=JSON.stringify(nv(t));return w.useMemo(()=>rv(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function ZC(n,e){return Aw(n,e)}function Aw(n,e,t,i){var j;pt(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(hr),{matches:l}=w.useContext(dr),c=l[l.length-1],h=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let B=v&&v.path||"";Rw(m,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=As(),_;if(e){let B=typeof e=="string"?Oa(e):e;pt(p==="/"||((j=B.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${B.pathname}" was given in the \`location\` prop.`),_=B}else _=E;let S=_.pathname||"/",A=S;if(p!=="/"){let B=p.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=yw(n,{pathname:A});Zn(v||I!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Zn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=rI(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:_i([p,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:_i([p,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,i);return e&&O?w.createElement(sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},O):O}function JC(){let n=lI(),e=HC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,c)}var eI=w.createElement(JC,null),tI=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(dr.Provider,{value:this.props.routeContext},w.createElement(iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nI({routeContext:n,match:e,children:t}){let i=w.useContext(nl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(dr.Provider,{value:n},t)}function rI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);pt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,h=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:v,errors:E}=t,_=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||_){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((m,p,v)=>{let E,_=!1,S=null,A=null;t&&(E=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||eI,c&&(h<0&&v===0?(Rw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):h===v&&(_=!0,A=p.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,v+1)),O=()=>{let j;return E?j=S:_?j=A:p.route.Component?j=w.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,w.createElement(nI,{match:p,routeContext:{outlet:m,matches:I,isDataRoute:t!=null},children:j})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?w.createElement(tI,{location:t.location,revalidation:t.revalidation,component:S,error:E,children:O(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):O()},null)}function sv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iI(n){let e=w.useContext(nl);return pt(e,sv(n)),e}function sI(n){let e=w.useContext(Yh);return pt(e,sv(n)),e}function aI(n){let e=w.useContext(dr);return pt(e,sv(n)),e}function av(n){let e=aI(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oI(){return av("useRouteId")}function lI(){var i;let n=w.useContext(iv),e=sI("useRouteError"),t=av("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function uI(){let{router:n}=iI("useNavigate"),e=av("useNavigate"),t=w.useRef(!1);return Sw(()=>{t.current=!0}),w.useCallback(async(a,l={})=>{Zn(t.current,ww),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var ib={};function Rw(n,e,t){!e&&!ib[n]&&(ib[n]=!0,Zn(!1,t))}w.memo(cI);function cI({routes:n,future:e,state:t}){return Aw(n,void 0,t,e)}function ov({to:n,replace:e,state:t,relative:i}){pt(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(hr);Zn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(dr),{pathname:c}=As(),h=il(),m=rv(n,nv(l),c,i==="path"),p=JSON.stringify(m);return w.useEffect(()=>{h(JSON.parse(p),{replace:e,state:t,relative:i})},[h,p,i,e,t]),null}function fI(n){return WC(n.context)}function Do(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){pt(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Oa(t));let{pathname:m="/",search:p="",hash:v="",state:E=null,key:_="default"}=t,S=w.useMemo(()=>{let A=Ei(m,c);return A==null?null:{location:{pathname:A,search:p,hash:v,state:E,key:_},navigationType:i}},[c,m,p,v,E,_,i]);return Zn(S!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(hr.Provider,{value:h},w.createElement(sc.Provider,{children:e,value:S}))}function dI({children:n,location:e}){return ZC(hg(n),e)}function hg(n,e=[]){let t=[];return w.Children.forEach(n,(i,a)=>{if(!w.isValidElement(i))return;let l=[...e,a];if(i.type===w.Fragment){t.push.apply(t,hg(i.props.children,l));return}pt(i.type===Do,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=hg(i.props.children,l)),t.push(c)}),t}var lh="get",uh="application/x-www-form-urlencoded";function Qh(n){return n!=null&&typeof n.tagName=="string"}function mI(n){return Qh(n)&&n.tagName.toLowerCase()==="button"}function pI(n){return Qh(n)&&n.tagName.toLowerCase()==="form"}function gI(n){return Qh(n)&&n.tagName.toLowerCase()==="input"}function vI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yI(n,e){return n.button===0&&(!e||e==="_self")&&!vI(n)}var Zf=null;function _I(){if(Zf===null)try{new FormData(document.createElement("form"),0),Zf=!1}catch{Zf=!0}return Zf}var EI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(n){return n!=null&&!EI.has(n)?(Zn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):n}function bI(n,e){let t,i,a,l,c;if(pI(n)){let h=n.getAttribute("action");i=h?Ei(h,e):null,t=n.getAttribute("method")||lh,a=Lp(n.getAttribute("enctype"))||uh,l=new FormData(n)}else if(mI(n)||gI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(i=m?Ei(m,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||lh,a=Lp(n.getAttribute("formenctype"))||Lp(h.getAttribute("enctype"))||uh,l=new FormData(h,n),!_I()){let{name:p,type:v,value:E}=n;if(v==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,E)}}else{if(Qh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lh,i=null,a=uh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function lv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function TI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await TI(l,t);return c.links?c.links():[]}return[]}));return CI(i.flat(1).filter(wI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function sb(n,e,t,i,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,h=(m,p)=>{var v;return t[p].pathname!==m.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||h(m,p)):l==="data"?e.filter((m,p)=>{var E;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function AI(n,e,{includeHydrateFallback:t}={}){return RI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function RI(n){return[...new Set(n)]}function xI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function CI(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(xI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var II=new Set([100,101,204,205]);function OI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ei(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function xw(){let n=w.useContext(nl);return lv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function DI(){let n=w.useContext(Yh);return lv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var uv=w.createContext(void 0);uv.displayName="FrameworkContext";function Cw(){let n=w.useContext(uv);return lv(n,"You must render this element inside a <HydratedRouter> element"),n}function NI(n,e){let t=w.useContext(uv),[i,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:E}=e,_=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=j=>{j.forEach(B=>{c(B.isIntersecting)})},O=new IntersectionObserver(I,{threshold:.5});return _.current&&O.observe(_.current),()=>{O.disconnect()}}},[n]),w.useEffect(()=>{if(i){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[i]);let S=()=>{a(!0)},A=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,_,{}]:[l,_,{onFocus:Iu(h,S),onBlur:Iu(m,A),onMouseEnter:Iu(p,S),onMouseLeave:Iu(v,A),onTouchStart:Iu(E,S)}]:[!1,_,{}]}function Iu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function MI({page:n,...e}){let{router:t}=xw(),i=w.useMemo(()=>yw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(VI,{page:n,matches:i,...e}):null}function PI(n){let{manifest:e,routeModules:t}=Cw(),[i,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return SI(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function VI({page:n,matches:e,...t}){let i=As(),{manifest:a,routeModules:l}=Cw(),{basename:c}=xw(),{loaderData:h,matches:m}=DI(),p=w.useMemo(()=>sb(n,e,m,a,i,"data"),[n,e,m,a,i]),v=w.useMemo(()=>sb(n,e,m,a,i,"assets"),[n,e,m,a,i]),E=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,I=!1;if(e.forEach(j=>{var $;let B=a.routes[j.route.id];!B||!B.hasLoader||(!p.some(K=>K.route.id===j.route.id)&&j.route.id in h&&(($=l[j.route.id])!=null&&$.shouldRevalidate)||B.hasClientLoader?I=!0:A.add(j.route.id))}),A.size===0)return[];let O=OI(n,c);return I&&A.size>0&&O.searchParams.set("_routes",e.filter(j=>A.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[c,h,i,a,p,e,n,l]),_=w.useMemo(()=>AI(v,a),[v,a]),S=PI(v);return w.createElement(w.Fragment,null,E.map(A=>w.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),_.map(A=>w.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),S.map(({key:A,link:I})=>w.createElement("link",{key:A,...I})))}function kI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iw&&(window.__reactRouterVersion="7.6.2")}catch{}function LI({basename:n,children:e,window:t}){let i=w.useRef();i.current==null&&(i.current=bC({window:t,v5Compat:!0}));let a=i.current,[l,c]=w.useState({action:a.action,location:a.location}),h=w.useCallback(m=>{w.startTransition(()=>c(m))},[c]);return w.useLayoutEffect(()=>a.listen(h),[a,h]),w.createElement(hI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cv=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:m,to:p,preventScrollReset:v,viewTransition:E,..._},S){let{basename:A}=w.useContext(hr),I=typeof p=="string"&&Ow.test(p),O,j=!1;if(typeof p=="string"&&I&&(O=p,Iw))try{let D=new URL(window.location.href),N=p.startsWith("//")?new URL(D.protocol+p):new URL(p),V=Ei(N.pathname,A);N.origin===D.origin&&V!=null?p=V+N.search+N.hash:j=!0}catch{Zn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=YC(p,{relative:a}),[$,K,q]=NI(i,_),ne=BI(p,{replace:c,state:h,target:m,preventScrollReset:v,relative:a,viewTransition:E});function P(D){e&&e(D),D.defaultPrevented||ne(D)}let x=w.createElement("a",{..._,...q,href:O||B,onClick:j||l?e:P,ref:kI(S,K),target:m,"data-discover":!I&&t==="render"?"true":void 0});return $&&!I?w.createElement(w.Fragment,null,x,w.createElement(MI,{page:B})):x});cv.displayName="Link";var UI=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:m,...p},v){let E=ac(c,{relative:p.relative}),_=As(),S=w.useContext(Yh),{navigator:A,basename:I}=w.useContext(hr),O=S!=null&&GI(E)&&h===!0,j=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,B=_.pathname,$=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(B=B.toLowerCase(),$=$?$.toLowerCase():null,j=j.toLowerCase()),$&&I&&($=Ei($,I)||$);const K=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let q=B===j||!a&&B.startsWith(j)&&B.charAt(K)==="/",ne=$!=null&&($===j||!a&&$.startsWith(j)&&$.charAt(j.length)==="/"),P={isActive:q,isPending:ne,isTransitioning:O},x=q?e:void 0,D;typeof i=="function"?D=i(P):D=[i,q?"active":null,ne?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(P):l;return w.createElement(cv,{...p,"aria-current":x,className:D,ref:v,style:N,to:c,viewTransition:h},typeof m=="function"?m(P):m)});UI.displayName="NavLink";var jI=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=lh,action:h,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:E,..._},S)=>{let A=HI(),I=qI(h,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&Ow.test(h),B=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let K=$.nativeEvent.submitter,q=(K==null?void 0:K.getAttribute("formmethod"))||c;A(K||$.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:E})};return w.createElement("form",{ref:S,method:O,action:I,onSubmit:i?m:B,..._,"data-discover":!j&&n==="render"?"true":void 0})});jI.displayName="Form";function zI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dw(n){let e=w.useContext(nl);return pt(e,zI(n)),e}function BI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let h=il(),m=As(),p=ac(n,{relative:l});return w.useCallback(v=>{if(yI(v,e)){v.preventDefault();let E=t!==void 0?t:qu(m)===qu(p);h(n,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,h,p,t,i,e,n,a,l,c])}var $I=0,FI=()=>`__${String(++$I)}__`;function HI(){let{router:n}=Dw("useSubmit"),{basename:e}=w.useContext(hr),t=oI();return w.useCallback(async(i,a={})=>{let{action:l,method:c,encType:h,formData:m,body:p}=bI(i,e);if(a.navigate===!1){let v=a.fetcherKey||FI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function qI(n,{relative:e}={}){let{basename:t}=w.useContext(hr),i=w.useContext(dr);pt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ac(n||".",{relative:e})},c=As();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(v=>v==="")){h.delete("index"),m.filter(E=>E).forEach(E=>h.append("index",E));let v=h.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:_i([t,l.pathname])),qu(l)}function GI(n,e={}){let t=w.useContext(Tw);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Dw("useViewTransitionState"),a=ac(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ei(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ei(t.nextLocation.pathname,i)||t.nextLocation.pathname;return bh(a.pathname,c)!=null||bh(a.pathname,l)!=null}[...II];var Gt=vw();const KI=()=>{};var ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},YI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],h=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=l>>2,E=(l&3)<<4|h>>4;let _=(h&15)<<2|p>>6,S=p&63;m||(S=64,c||(_=64)),i.push(t[v],t[E],t[_],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Nw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||E==null)throw new QI;const _=l<<2|h>>4;if(i.push(_),p!==64){const S=h<<4&240|p>>2;if(i.push(S),E!==64){const A=p<<6&192|E;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XI=function(n){const e=Nw(n);return Mw.encodeByteArray(e,!0)},Th=function(n){return XI(n).replace(/\./g,"")},Pw=function(n){try{return Mw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=()=>WI().__FIREBASE_DEFAULTS__,JI=()=>{if(typeof process>"u"||typeof ab>"u")return;const n=ab.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},eO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Pw(n[1]);return e&&JSON.parse(e)},Xh=()=>{try{return KI()||ZI()||JI()||eO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Vw=n=>{var e,t;return(t=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},tO=n=>{const e=Vw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},kw=()=>{var n;return(n=Xh())===null||n===void 0?void 0:n.config},Lw=n=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n){return n.endsWith(".cloudworkstations.dev")}async function Uw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Th(JSON.stringify(t)),Th(JSON.stringify(c)),""].join(".")}const Vu={};function iO(){const n={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?n.emulator.push(e):n.prod.push(e);return n}function sO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ob=!1;function jw(n,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||Vu[n]===e||Vu[n]||ob)return;Vu[n]=e;function t(_){return`__firebase__banner__${_}`}const i="__firebase__banner",l=iO().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{ob=!0,c()},_}function v(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function E(){const _=sO(i),S=t("text"),A=document.getElementById(S)||document.createElement("span"),I=t("learnmore"),O=document.getElementById(I)||document.createElement("a"),j=t("preprendIcon"),B=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const $=_.element;h($),v(O,I);const K=p();m(B,j),$.append(B,A,O,K),document.body.appendChild($)}l?(A.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function oO(){var n;const e=(n=Xh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fO(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hO(){return!oO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dO(){try{return typeof indexedDB=="object"}catch{return!1}}function mO(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="FirebaseError";class Ai extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=pO,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?gO(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Ai(a,h,i)}}function gO(n,e){return n.replace(vO,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const vO=/\{\$([^}]+)}/g;function yO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ba(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(lb(l)&&lb(c)){if(!ba(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function lb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _O(n,e){const t=new EO(n,e);return t.subscribe.bind(t)}class EO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");bO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Up),a.error===void 0&&(a.error=Up),a.complete===void 0&&(a.complete=Up);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n){return n&&n._delegate?n._delegate:n}class Ta{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new nO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SO(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wO(n){return n===ha?void 0:n}function SO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const RO={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},xO=Fe.INFO,CO={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},IO=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=CO[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fv{constructor(e){this.name=e,this._logLevel=xO,this._logHandler=IO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const OO=(n,e)=>e.some(t=>n instanceof t);let ub,cb;function DO(){return ub||(ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NO(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zw=new WeakMap,dg=new WeakMap,Bw=new WeakMap,jp=new WeakMap,hv=new WeakMap;function MO(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(cs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&zw.set(t,n)}).catch(()=>{}),hv.set(e,n),e}function PO(n){if(dg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});dg.set(n,e)}let mg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Bw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function VO(n){mg=n(mg)}function kO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(zp(this),e,...t);return Bw.set(i,e.sort?e.sort():[e]),cs(i)}:NO().includes(n)?function(...e){return n.apply(zp(this),e),cs(zw.get(this))}:function(...e){return cs(n.apply(zp(this),e))}}function LO(n){return typeof n=="function"?kO(n):(n instanceof IDBTransaction&&PO(n),OO(n,DO())?new Proxy(n,mg):n)}function cs(n){if(n instanceof IDBRequest)return MO(n);if(jp.has(n))return jp.get(n);const e=LO(n);return e!==n&&(jp.set(n,e),hv.set(e,n)),e}const zp=n=>hv.get(n);function UO(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),h=cs(c);return i&&c.addEventListener("upgradeneeded",m=>{i(cs(c.result),m.oldVersion,m.newVersion,cs(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const jO=["get","getKey","getAll","getAllKeys","count"],zO=["put","add","delete","clear"],Bp=new Map;function fb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bp.get(e))return Bp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=zO.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||jO.includes(t)))return;const l=async function(c,...h){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&m.done]))[0]};return Bp.set(e,l),l}VO(n=>({...n,get:(e,t,i)=>fb(e,t)||n.get(e,t,i),has:(e,t)=>!!fb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($O(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function $O(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pg="@firebase/app",hb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new fv("@firebase/app"),FO="@firebase/app-compat",HO="@firebase/analytics-compat",qO="@firebase/analytics",GO="@firebase/app-check-compat",KO="@firebase/app-check",YO="@firebase/auth",QO="@firebase/auth-compat",XO="@firebase/database",WO="@firebase/data-connect",ZO="@firebase/database-compat",JO="@firebase/functions",e2="@firebase/functions-compat",t2="@firebase/installations",n2="@firebase/installations-compat",r2="@firebase/messaging",i2="@firebase/messaging-compat",s2="@firebase/performance",a2="@firebase/performance-compat",o2="@firebase/remote-config",l2="@firebase/remote-config-compat",u2="@firebase/storage",c2="@firebase/storage-compat",f2="@firebase/firestore",h2="@firebase/ai",d2="@firebase/firestore-compat",m2="firebase",p2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",g2={[pg]:"fire-core",[FO]:"fire-core-compat",[qO]:"fire-analytics",[HO]:"fire-analytics-compat",[KO]:"fire-app-check",[GO]:"fire-app-check-compat",[YO]:"fire-auth",[QO]:"fire-auth-compat",[XO]:"fire-rtdb",[WO]:"fire-data-connect",[ZO]:"fire-rtdb-compat",[JO]:"fire-fn",[e2]:"fire-fn-compat",[t2]:"fire-iid",[n2]:"fire-iid-compat",[r2]:"fire-fcm",[i2]:"fire-fcm-compat",[s2]:"fire-perf",[a2]:"fire-perf-compat",[o2]:"fire-rc",[l2]:"fire-rc-compat",[u2]:"fire-gcs",[c2]:"fire-gcs-compat",[f2]:"fire-fst",[d2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[m2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,v2=new Map,vg=new Map;function db(n,e){try{n.container.addComponent(e)}catch(t){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ho(n){const e=n.name;if(vg.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,n);for(const t of wh.values())db(t,n);for(const t of v2.values())db(t,n);return!0}function dv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ar(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new oc("app","Firebase",y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=p2;function $w(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:gg,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw fs.create("bad-app-name",{appName:String(a)});if(t||(t=kw()),!t)throw fs.create("no-options");const l=wh.get(a);if(l){if(ba(t,l.options)&&ba(i,l.config))return l;throw fs.create("duplicate-app",{appName:a})}const c=new AO(a);for(const m of vg.values())c.addComponent(m);const h=new _2(t,i,c);return wh.set(a,h),h}function Fw(n=gg){const e=wh.get(n);if(!e&&n===gg&&kw())return $w();if(!e)throw fs.create("no-app",{appName:n});return e}function hs(n,e,t){var i;let a=(i=g2[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(h.join(" "));return}Ho(new Ta(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="firebase-heartbeat-database",b2=1,Gu="firebase-heartbeat-store";let $p=null;function Hw(){return $p||($p=UO(E2,b2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw fs.create("idb-open",{originalErrorMessage:n.message})})),$p}async function T2(n){try{const t=(await Hw()).transaction(Gu),i=await t.objectStore(Gu).get(qw(n));return await t.done,i}catch(e){if(e instanceof Ai)bi.warn(e.message);else{const t=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(t.message)}}}async function mb(n,e){try{const i=(await Hw()).transaction(Gu,"readwrite");await i.objectStore(Gu).put(e,qw(n)),await i.done}catch(t){if(t instanceof Ai)bi.warn(t.message);else{const i=fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bi.warn(i.message)}}}function qw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=1024,S2=30;class A2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new x2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=pb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>S2){const c=C2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pb(),{heartbeatsToSend:i,unsentEntries:a}=R2(this._heartbeatsCache.heartbeats),l=Th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return bi.warn(t),""}}}function pb(){return new Date().toISOString().substring(0,10)}function R2(n,e=w2){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),gb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),gb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class x2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dO()?mO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await T2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return mb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return mb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function gb(n){return Th(JSON.stringify({version:2,heartbeats:n})).length}function C2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(n){Ho(new Ta("platform-logger",e=>new BO(e),"PRIVATE")),Ho(new Ta("heartbeat",e=>new A2(e),"PRIVATE")),hs(pg,hb,n),hs(pg,hb,"esm2017"),hs("fire-js","")}I2("");function mv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function Gw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O2=Gw,Kw=new oc("auth","Firebase",Gw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new fv("@firebase/auth");function D2(n,...e){Sh.logLevel<=Fe.WARN&&Sh.warn(`Auth (${al}): ${n}`,...e)}function ch(n,...e){Sh.logLevel<=Fe.ERROR&&Sh.error(`Auth (${al}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(n,...e){throw gv(n,...e)}function lr(n,...e){return gv(n,...e)}function pv(n,e,t){const i=Object.assign(Object.assign({},O2()),{[e]:t});return new oc("auth","Firebase",i).create(e,{appName:n.name})}function _a(n){return pv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N2(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Lr(n,"argument-error"),pv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Kw.create(n,...e)}function De(n,e,...t){if(!n)throw gv(e,...t)}function gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ch(e),new Error(e)}function Ti(n,e){n||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function M2(){return vb()==="http:"||vb()==="https:"}function vb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M2()||uO()||"connection"in navigator)?navigator.onLine:!0}function V2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ti(t>e,"Short delay should be less than long delay!"),this.isMobile=aO()||cO()}get(){return P2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n,e){Ti(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],U2=new uc(3e4,6e4);function yv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ol(n,e,t,i,a={}){return Qw(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=lc(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},l);return lO()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&sl(n.emulatorConfig.host)&&(p.credentials="include"),Yw.fetch()(await Xw(n,n.config.apiHost,t,h),p)})}async function Qw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},k2),e);try{const a=new z2(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Jf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Jf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Jf(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw pv(n,v,p);Lr(n,v)}}catch(a){if(a instanceof Ai)throw a;Lr(n,"network-request-failed",{message:String(a)})}}async function j2(n,e,t,i,a={}){const l=await ol(n,e,t,i,a);return"mfaPendingCredential"in l&&Lr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Xw(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?vv(n.config,a):`${n.config.apiScheme}://${a}`;return L2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class z2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(lr(this.auth,"network-request-failed")),U2.get())})}}function Jf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=lr(n,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(n,e){return ol(n,"POST","/v1/accounts:delete",e)}async function Ah(n,e){return ol(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $2(n,e=!1){const t=nn(n),i=await t.getIdToken(e),a=_v(i);De(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:ku(Fp(a.auth_time)),issuedAtTime:ku(Fp(a.iat)),expirationTime:ku(Fp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Fp(n){return Number(n)*1e3}function _v(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const a=Pw(t);return a?JSON.parse(a):(ch("Failed to decode base64 JWT payload"),null)}catch(a){return ch("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function yb(n){const e=_v(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ai&&F2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function F2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Ku(n,Ah(t,{idToken:i}));De(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Ww(l.providerUserInfo):[],h=G2(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),v=m?p:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new _g(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function q2(n){const e=nn(n);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G2(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Ww(n){return n.map(e=>{var{providerId:t}=e,i=mv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(n,e){const t=await Qw(n,{},async()=>{const i=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Xw(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return n.emulatorConfig&&sl(n.emulatorConfig.host)&&(m.credentials="include"),Yw.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Y2(n,e){return ol(n,"POST","/v2/accounts:revokeToken",yv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=yb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await K2(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Uo;return i&&(De(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(De(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(De(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=mv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _g(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $2(this,e)}reload(){return q2(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Rh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(_a(this.auth));const e=await this.getIdToken();return await Ku(this,B2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,h,m,p,v;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(a=t.email)!==null&&a!==void 0?a:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,A=(c=t.photoURL)!==null&&c!==void 0?c:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,O=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,j=(p=t.createdAt)!==null&&p!==void 0?p:void 0,B=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:K,isAnonymous:q,providerData:ne,stsTokenManager:P}=t;De($&&P,e,"internal-error");const x=Uo.fromJSON(this.name,P);De(typeof $=="string",e,"internal-error"),rs(E,e.name),rs(_,e.name),De(typeof K=="boolean",e,"internal-error"),De(typeof q=="boolean",e,"internal-error"),rs(S,e.name),rs(A,e.name),rs(I,e.name),rs(O,e.name),rs(j,e.name),rs(B,e.name);const D=new or({uid:$,auth:e,email:_,emailVerified:K,displayName:E,isAnonymous:q,photoURL:A,phoneNumber:S,tenantId:I,stsTokenManager:x,createdAt:j,lastLoginAt:B});return ne&&Array.isArray(ne)&&(D.providerData=ne.map(N=>Object.assign({},N))),O&&(D._redirectEventId=O),D}static async _fromIdTokenResponse(e,t,i=!1){const a=new Uo;a.updateFromServerResponse(t);const l=new or({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Rh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];De(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Ww(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new Uo;h.updateFromIdToken(i);const m=new or({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new _g(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;function vi(n){Ti(n instanceof Function,"Expected a class definition");let e=_b.get(n);return e?(Ti(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_b.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Zw.type="NONE";const Eb=Zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(n,e,t){return`firebase:${n}:${e}:${t}`}class jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=fh(this.userKey,a.apiKey,l),this.fullPersistenceKey=fh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ah(this.auth,{idToken:e}).catch(()=>{});return t?or._fromGetAccountInfoResponse(this.auth,t,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new jo(vi(Eb),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||vi(Eb);const c=fh(i,e.config.apiKey,e.name);let h=null;for(const p of t)try{const v=await p._get(c);if(v){let E;if(typeof v=="string"){const _=await Ah(e,{idToken:v}).catch(()=>{});if(!_)break;E=await or._fromGetAccountInfoResponse(e,_,v)}else E=or._fromJSON(e,v);p!==l&&(h=E),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new jo(l,e,i):(l=m[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new jo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iS(e))return"Blackberry";if(sS(e))return"Webos";if(eS(e))return"Safari";if((e.includes("chrome/")||tS(e))&&!e.includes("edge/"))return"Chrome";if(rS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Jw(n=hn()){return/firefox\//i.test(n)}function eS(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tS(n=hn()){return/crios\//i.test(n)}function nS(n=hn()){return/iemobile/i.test(n)}function rS(n=hn()){return/android/i.test(n)}function iS(n=hn()){return/blackberry/i.test(n)}function sS(n=hn()){return/webos/i.test(n)}function Ev(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Q2(n=hn()){var e;return Ev(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X2(){return fO()&&document.documentMode===10}function aS(n=hn()){return Ev(n)||rS(n)||sS(n)||iS(n)||/windows phone/i.test(n)||nS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n,e=[]){let t;switch(n){case"Browser":t=bb(hn());break;case"Worker":t=`${bb(hn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${al}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const m=e(l);c(m)}catch(m){h(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(n,e={}){return ol(n,"GET","/v2/passwordPolicy",yv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=6;class eD{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:J2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tb(this),this.idTokenSubscription=new Tb(this),this.beforeStateQueue=new W2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ah(this,{idToken:e}),i=await or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ar(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(_a(this));const t=e?nn(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z2(this),t=new eD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Y2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vi(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&D2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Wh(n){return nn(n)}class Tb{constructor(e){this.auth=e,this.observer=null,this.addObserver=_O(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nD(n){bv=n}function rD(n){return bv.loadJS(n)}function iD(){return bv.gapiScript}function sD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n,e){const t=dv(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ba(l,e??{}))return a;Lr(a,"already-initialized")}return t.initialize({options:e})}function oD(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(vi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function lD(n,e,t){const i=Wh(n);De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=lS(e),{host:c,port:h}=uD(e),m=h===null?"":`:${h}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){De(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),De(ba(p,i.config.emulator)&&ba(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,sl(c)?(Uw(`${l}//${c}${m}`),jw("Auth",!0)):cD()}function lS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uD(n){const e=lS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:wb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:wb(c)}}}function wb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function cD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,t){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(n,e){return j2(n,"POST","/v1/accounts:signInWithIdp",yv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="http://localhost";class wa extends uS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=mv(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new wa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return zo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,zo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zo(e,t)}buildRequest(){const e={requestUri:fD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Tv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends cc{constructor(){super("facebook.com")}static credential(e){return wa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wa._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return mi.credential(t,i)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends cc{constructor(){super("github.com")}static credential(e){return wa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends cc{constructor(){super("twitter.com")}static credential(e,t){return wa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return os.credential(t,i)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await or._fromIdTokenResponse(e,i,a),c=Sb(i);return new qo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Sb(i);return new qo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Sb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Ai{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new xh(e,t,i,a)}}function cS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(n,l,e,i):l})}async function hD(n,e,t=!1){const i=await Ku(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e,t=!1){const{auth:i}=n;if(ar(i.app))return Promise.reject(_a(i));const a="reauthenticate";try{const l=await Ku(n,cS(i,a,e,n),t);De(l.idToken,i,"internal-error");const c=_v(l.idToken);De(c,i,"internal-error");const{sub:h}=c;return De(n.uid===h,i,"user-mismatch"),qo._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Lr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(n,e,t=!1){if(ar(n.app))return Promise.reject(_a(n));const i="signIn",a=await cS(n,i,e),l=await qo._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}function pD(n,e,t,i){return nn(n).onIdTokenChanged(e,t,i)}function gD(n,e,t){return nn(n).beforeAuthStateChanged(e,t)}function vD(n,e,t,i){return nn(n).onAuthStateChanged(e,t,i)}function yD(n){return nn(n).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=1e3,ED=10;class hS extends fS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);X2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ED):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},_D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hS.type="LOCAL";const bD=hS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends fS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dS.type="SESSION";const mS=dS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Zh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(t.origin,l)),m=await TD(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,m)=>{const p=wv("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const _=E;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(_.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function SD(n){Mr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function AD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function xD(){return pS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebaseLocalStorageDb",CD=1,Ih="firebaseLocalStorage",vS="fbase_key";class fc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jh(n,e){return n.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function ID(){const n=indexedDB.deleteDatabase(gS);return new fc(n).toPromise()}function Eg(){const n=indexedDB.open(gS,CD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ih,{keyPath:vS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ih)?e(i):(i.close(),await ID(),e(await Eg()))})})}async function Ab(n,e,t){const i=Jh(n,!0).put({[vS]:e,value:t});return new fc(i).toPromise()}async function OD(n,e){const t=Jh(n,!1).get(e),i=await new fc(t).toPromise();return i===void 0?null:i.value}function Rb(n,e){const t=Jh(n,!0).delete(e);return new fc(t).toPromise()}const DD=800,ND=3;class yS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>ND)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(xD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await AD(),!this.activeServiceWorker)return;this.sender=new wD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await Ab(e,Ch,"1"),await Rb(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ab(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>OD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Jh(a,!1).getAll();return new fc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yS.type="LOCAL";const MD=yS;new uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(n,e){return e?vi(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends uS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PD(n){return mD(n.auth,new Sv(n),n.bypassAuthState)}function VD(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),dD(t,new Sv(n),n.bypassAuthState)}async function kD(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),hD(t,new Sv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PD;case"linkViaPopup":case"linkViaRedirect":return kD;case"reauthViaPopup":case"reauthViaRedirect":return VD;default:Lr(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new uc(2e3,1e4);async function UD(n,e,t){if(ar(n.app))return Promise.reject(lr(n,"operation-not-supported-in-this-environment"));const i=Wh(n);N2(n,e,Tv);const a=_S(i,t);return new ma(i,"signInViaPopup",e,a).executeNotNull()}class ma extends ES{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LD.get())};e()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="pendingRedirect",hh=new Map;class zD extends ES{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const i=await BD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BD(n,e){const t=HD(e),i=FD(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function $D(n,e){hh.set(n._key(),e)}function FD(n){return vi(n._redirectPersistence)}function HD(n){return fh(jD,n.config.apiKey,n.name)}async function qD(n,e,t=!1){if(ar(n.app))return Promise.reject(_a(n));const i=Wh(n),a=_S(i,e),c=await new zD(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=10*60*1e3;class KD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!bS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(lr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GD&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(e))}saveEventToCache(e){this.cachedEventUids.add(xb(e)),this.lastProcessedEventTime=Date.now()}}function xb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(n,e={}){return ol(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WD=/^https?/;async function ZD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await QD(n);for(const t of e)try{if(JD(t))return}catch{}Lr(n,"unauthorized-domain")}function JD(n){const e=yg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!WD.test(t))return!1;if(XD.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new uc(3e4,6e4);function Cb(){const n=Mr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function tN(n){return new Promise((e,t)=>{var i,a,l;function c(){Cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cb(),t(lr(n,"network-request-failed"))},timeout:eN.get()})}if(!((a=(i=Mr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Mr().gapi)===null||l===void 0)&&l.load)c();else{const h=sD("iframefcb");return Mr()[h]=()=>{gapi.load?c():t(lr(n,"network-request-failed"))},rD(`${iD()}?onload=${h}`).catch(m=>t(m))}}).catch(e=>{throw dh=null,e})}let dh=null;function nN(n){return dh=dh||tN(n),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new uc(5e3,15e3),iN="__/auth/iframe",sN="emulator/auth/iframe",aN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lN(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vv(e,sN):`https://${n.config.authDomain}/${iN}`,i={apiKey:e.apiKey,appName:n.name,v:al},a=oN.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${lc(i).slice(1)}`}async function uN(n){const e=await nN(n),t=Mr().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:lN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aN,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=lr(n,"network-request-failed"),h=Mr().setTimeout(()=>{l(c)},rN.get());function m(){Mr().clearTimeout(h),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fN=500,hN=600,dN="_blank",mN="http://localhost";class Ib{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pN(n,e,t,i=fN,a=hN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m=Object.assign(Object.assign({},cN),{width:i.toString(),height:a.toString(),top:l,left:c}),p=hn().toLowerCase();t&&(h=tS(p)?dN:t),Jw(p)&&(e=e||mN,m.scrollbars="yes");const v=Object.entries(m).reduce((_,[S,A])=>`${_}${S}=${A},`,"");if(Q2(p)&&h!=="_self")return gN(e||"",h),new Ib(null);const E=window.open(e||"",h,v);De(E,n,"popup-blocked");try{E.focus()}catch{}return new Ib(E)}function gN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="__/auth/handler",yN="emulator/auth/handler",_N=encodeURIComponent("fac");async function Ob(n,e,t,i,a,l){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:al,eventId:a};if(e instanceof Tv){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",yO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof cc){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const m=await n._getAppCheckToken(),p=m?`#${_N}=${encodeURIComponent(m)}`:"";return`${EN(n)}?${lc(h).slice(1)}${p}`}function EN({config:n}){return n.emulator?vv(n,yN):`https://${n.authDomain}/${vN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="webStorageSupport";class bN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mS,this._completeRedirectFn=qD,this._overrideRedirectResult=$D}async _openPopup(e,t,i,a){var l;Ti((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Ob(e,t,i,yg(),a);return pN(e,c,wv())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await Ob(e,t,i,yg(),a);return SD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ti(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await uN(e),i=new KD(e);return t.register("authEvent",a=>(De(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hp,{type:Hp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Hp];c!==void 0&&t(!!c),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aS()||eS()||Ev()}}const TN=bN;var Db="@firebase/auth",Nb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AN(n){Ho(new Ta("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;De(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oS(n)},p=new tD(i,a,l,m);return oD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ho(new Ta("auth-internal",e=>{const t=Wh(e.getProvider("auth").getImmediate());return(i=>new wN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(Db,Nb,SN(n)),hs(Db,Nb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=5*60,xN=Lw("authIdTokenMaxAge")||RN;let Mb=null;const CN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>xN)return;const a=t==null?void 0:t.token;Mb!==a&&(Mb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function IN(n=Fw()){const e=dv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aD(n,{popupRedirectResolver:TN,persistence:[MD,bD,mS]}),i=Lw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=CN(l.toString());gD(t,c,()=>c(t.currentUser)),pD(t,h=>c(h))}}const a=Vw("auth");return a&&lD(t,`http://${a}`),t}function ON(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=lr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",ON().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AN("Browser");var DN="firebase",NN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(DN,NN,"app");var Pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,TS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function D(){}D.prototype=x.prototype,P.D=x.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(N,V,U){for(var M=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)M[_e-2]=arguments[_e];return x.prototype[V].apply(N,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,x,D){D||(D=0);var N=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)N[V]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(V=0;16>V;++V)N[V]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=P.g[0],D=P.g[1],V=P.g[2];var U=P.g[3],M=x+(U^D&(V^U))+N[0]+3614090360&4294967295;x=D+(M<<7&4294967295|M>>>25),M=U+(V^x&(D^V))+N[1]+3905402710&4294967295,U=x+(M<<12&4294967295|M>>>20),M=V+(D^U&(x^D))+N[2]+606105819&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(x^V&(U^x))+N[3]+3250441966&4294967295,D=V+(M<<22&4294967295|M>>>10),M=x+(U^D&(V^U))+N[4]+4118548399&4294967295,x=D+(M<<7&4294967295|M>>>25),M=U+(V^x&(D^V))+N[5]+1200080426&4294967295,U=x+(M<<12&4294967295|M>>>20),M=V+(D^U&(x^D))+N[6]+2821735955&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(x^V&(U^x))+N[7]+4249261313&4294967295,D=V+(M<<22&4294967295|M>>>10),M=x+(U^D&(V^U))+N[8]+1770035416&4294967295,x=D+(M<<7&4294967295|M>>>25),M=U+(V^x&(D^V))+N[9]+2336552879&4294967295,U=x+(M<<12&4294967295|M>>>20),M=V+(D^U&(x^D))+N[10]+4294925233&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(x^V&(U^x))+N[11]+2304563134&4294967295,D=V+(M<<22&4294967295|M>>>10),M=x+(U^D&(V^U))+N[12]+1804603682&4294967295,x=D+(M<<7&4294967295|M>>>25),M=U+(V^x&(D^V))+N[13]+4254626195&4294967295,U=x+(M<<12&4294967295|M>>>20),M=V+(D^U&(x^D))+N[14]+2792965006&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(x^V&(U^x))+N[15]+1236535329&4294967295,D=V+(M<<22&4294967295|M>>>10),M=x+(V^U&(D^V))+N[1]+4129170786&4294967295,x=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(x^D))+N[6]+3225465664&4294967295,U=x+(M<<9&4294967295|M>>>23),M=V+(x^D&(U^x))+N[11]+643717713&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^x&(V^U))+N[0]+3921069994&4294967295,D=V+(M<<20&4294967295|M>>>12),M=x+(V^U&(D^V))+N[5]+3593408605&4294967295,x=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(x^D))+N[10]+38016083&4294967295,U=x+(M<<9&4294967295|M>>>23),M=V+(x^D&(U^x))+N[15]+3634488961&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^x&(V^U))+N[4]+3889429448&4294967295,D=V+(M<<20&4294967295|M>>>12),M=x+(V^U&(D^V))+N[9]+568446438&4294967295,x=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(x^D))+N[14]+3275163606&4294967295,U=x+(M<<9&4294967295|M>>>23),M=V+(x^D&(U^x))+N[3]+4107603335&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^x&(V^U))+N[8]+1163531501&4294967295,D=V+(M<<20&4294967295|M>>>12),M=x+(V^U&(D^V))+N[13]+2850285829&4294967295,x=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(x^D))+N[2]+4243563512&4294967295,U=x+(M<<9&4294967295|M>>>23),M=V+(x^D&(U^x))+N[7]+1735328473&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^x&(V^U))+N[12]+2368359562&4294967295,D=V+(M<<20&4294967295|M>>>12),M=x+(D^V^U)+N[5]+4294588738&4294967295,x=D+(M<<4&4294967295|M>>>28),M=U+(x^D^V)+N[8]+2272392833&4294967295,U=x+(M<<11&4294967295|M>>>21),M=V+(U^x^D)+N[11]+1839030562&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^x)+N[14]+4259657740&4294967295,D=V+(M<<23&4294967295|M>>>9),M=x+(D^V^U)+N[1]+2763975236&4294967295,x=D+(M<<4&4294967295|M>>>28),M=U+(x^D^V)+N[4]+1272893353&4294967295,U=x+(M<<11&4294967295|M>>>21),M=V+(U^x^D)+N[7]+4139469664&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^x)+N[10]+3200236656&4294967295,D=V+(M<<23&4294967295|M>>>9),M=x+(D^V^U)+N[13]+681279174&4294967295,x=D+(M<<4&4294967295|M>>>28),M=U+(x^D^V)+N[0]+3936430074&4294967295,U=x+(M<<11&4294967295|M>>>21),M=V+(U^x^D)+N[3]+3572445317&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^x)+N[6]+76029189&4294967295,D=V+(M<<23&4294967295|M>>>9),M=x+(D^V^U)+N[9]+3654602809&4294967295,x=D+(M<<4&4294967295|M>>>28),M=U+(x^D^V)+N[12]+3873151461&4294967295,U=x+(M<<11&4294967295|M>>>21),M=V+(U^x^D)+N[15]+530742520&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^x)+N[2]+3299628645&4294967295,D=V+(M<<23&4294967295|M>>>9),M=x+(V^(D|~U))+N[0]+4096336452&4294967295,x=D+(M<<6&4294967295|M>>>26),M=U+(D^(x|~V))+N[7]+1126891415&4294967295,U=x+(M<<10&4294967295|M>>>22),M=V+(x^(U|~D))+N[14]+2878612391&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~x))+N[5]+4237533241&4294967295,D=V+(M<<21&4294967295|M>>>11),M=x+(V^(D|~U))+N[12]+1700485571&4294967295,x=D+(M<<6&4294967295|M>>>26),M=U+(D^(x|~V))+N[3]+2399980690&4294967295,U=x+(M<<10&4294967295|M>>>22),M=V+(x^(U|~D))+N[10]+4293915773&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~x))+N[1]+2240044497&4294967295,D=V+(M<<21&4294967295|M>>>11),M=x+(V^(D|~U))+N[8]+1873313359&4294967295,x=D+(M<<6&4294967295|M>>>26),M=U+(D^(x|~V))+N[15]+4264355552&4294967295,U=x+(M<<10&4294967295|M>>>22),M=V+(x^(U|~D))+N[6]+2734768916&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~x))+N[13]+1309151649&4294967295,D=V+(M<<21&4294967295|M>>>11),M=x+(V^(D|~U))+N[4]+4149444226&4294967295,x=D+(M<<6&4294967295|M>>>26),M=U+(D^(x|~V))+N[11]+3174756917&4294967295,U=x+(M<<10&4294967295|M>>>22),M=V+(x^(U|~D))+N[2]+718787259&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~x))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+U&4294967295}i.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var D=x-this.blockSize,N=this.B,V=this.h,U=0;U<x;){if(V==0)for(;U<=D;)a(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<x;)if(N[V++]=P.charCodeAt(U++),V==this.blockSize){a(this,N),V=0;break}}else for(;U<x;)if(N[V++]=P[U++],V==this.blockSize){a(this,N),V=0;break}}this.h=V,this.o+=x},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var D=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=D&255,D/=256;for(this.u(P),P=Array(16),x=D=0;4>x;++x)for(var N=0;32>N;N+=8)P[D++]=this.g[x]>>>N&255;return P};function l(P,x){var D=h;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=x(P)}function c(P,x){this.h=x;for(var D=[],N=!0,V=P.length-1;0<=V;V--){var U=P[V]|0;N&&U==x||(D[V]=U,N=!1)}this.g=D}var h={};function m(P){return-128<=P&&128>P?l(P,function(x){return new c([x|0],0>x?-1:0)}):new c([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return E;if(0>P)return O(p(-P));for(var x=[],D=1,N=0;P>=D;N++)x[N]=P/D|0,D*=4294967296;return new c(x,0)}function v(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return O(v(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(x,8)),N=E,V=0;V<P.length;V+=8){var U=Math.min(8,P.length-V),M=parseInt(P.substring(V,V+U),x);8>U?(U=p(Math.pow(x,U)),N=N.j(U).add(p(M))):(N=N.j(D),N=N.add(p(M)))}return N}var E=m(0),_=m(1),S=m(16777216);n=c.prototype,n.m=function(){if(I(this))return-O(this).m();for(var P=0,x=1,D=0;D<this.g.length;D++){var N=this.i(D);P+=(0<=N?N:4294967296+N)*x,x*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A(this))return"0";if(I(this))return"-"+O(this).toString(P);for(var x=p(Math.pow(P,6)),D=this,N="";;){var V=K(D,x).g;D=j(D,V.j(x));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=V,A(D))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function A(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function I(P){return P.h==-1}n.l=function(P){return P=j(this,P),I(P)?-1:A(P)?0:1};function O(P){for(var x=P.g.length,D=[],N=0;N<x;N++)D[N]=~P.g[N];return new c(D,~P.h).add(_)}n.abs=function(){return I(this)?O(this):this},n.add=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],N=0,V=0;V<=x;V++){var U=N+(this.i(V)&65535)+(P.i(V)&65535),M=(U>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);N=M>>>16,U&=65535,M&=65535,D[V]=M<<16|U}return new c(D,D[D.length-1]&-2147483648?-1:0)};function j(P,x){return P.add(O(x))}n.j=function(P){if(A(this)||A(P))return E;if(I(this))return I(P)?O(this).j(O(P)):O(O(this).j(P));if(I(P))return O(this.j(O(P)));if(0>this.l(S)&&0>P.l(S))return p(this.m()*P.m());for(var x=this.g.length+P.g.length,D=[],N=0;N<2*x;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<P.g.length;V++){var U=this.i(N)>>>16,M=this.i(N)&65535,_e=P.i(V)>>>16,he=P.i(V)&65535;D[2*N+2*V]+=M*he,B(D,2*N+2*V),D[2*N+2*V+1]+=U*he,B(D,2*N+2*V+1),D[2*N+2*V+1]+=M*_e,B(D,2*N+2*V+1),D[2*N+2*V+2]+=U*_e,B(D,2*N+2*V+2)}for(N=0;N<x;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=x;N<2*x;N++)D[N]=0;return new c(D,0)};function B(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function $(P,x){this.g=P,this.h=x}function K(P,x){if(A(x))throw Error("division by zero");if(A(P))return new $(E,E);if(I(P))return x=K(O(P),x),new $(O(x.g),O(x.h));if(I(x))return x=K(P,O(x)),new $(O(x.g),x.h);if(30<P.g.length){if(I(P)||I(x))throw Error("slowDivide_ only works with positive integers.");for(var D=_,N=x;0>=N.l(P);)D=q(D),N=q(N);var V=ne(D,1),U=ne(N,1);for(N=ne(N,2),D=ne(D,2);!A(N);){var M=U.add(N);0>=M.l(P)&&(V=V.add(D),U=M),N=ne(N,1),D=ne(D,1)}return x=j(P,V.j(x)),new $(V,x)}for(V=E;0<=P.l(x);){for(D=Math.max(1,Math.floor(P.m()/x.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=p(D),M=U.j(x);I(M)||0<M.l(P);)D-=N,U=p(D),M=U.j(x);A(U)&&(U=_),V=V.add(U),P=j(P,M)}return new $(V,P)}n.A=function(P){return K(this,P).h},n.and=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],N=0;N<x;N++)D[N]=this.i(N)&P.i(N);return new c(D,this.h&P.h)},n.or=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],N=0;N<x;N++)D[N]=this.i(N)|P.i(N);return new c(D,this.h|P.h)},n.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],N=0;N<x;N++)D[N]=this.i(N)^P.i(N);return new c(D,this.h^P.h)};function q(P){for(var x=P.g.length+1,D=[],N=0;N<x;N++)D[N]=P.i(N)<<1|P.i(N-1)>>>31;return new c(D,P.h)}function ne(P,x){var D=x>>5;x%=32;for(var N=P.g.length-D,V=[],U=0;U<N;U++)V[U]=0<x?P.i(U+D)>>>x|P.i(U+D+1)<<32-x:P.i(U+D);return new c(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,TS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,ds=c}).apply(typeof Pb<"u"?Pb:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wS,Ou,SS,mh,bg,AS,RS,xS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,b){return f==Array.prototype||f==Object.prototype||(f[y]=b.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<f.length;++y){var b=f[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function a(f,y){if(y)e:{var b=i;f=f.split(".");for(var C=0;C<f.length-1;C++){var Y=f[C];if(!(Y in b))break e;b=b[Y]}f=f[f.length-1],C=b[f],y=y(C),y!=C&&y!=null&&e(b,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var b=0,C=!1,Y={next:function(){if(!C&&b<f.length){var te=b++;return{value:y(te,f[te]),done:!1}}return C=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function m(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,b){return f.call.apply(f.bind,arguments)}function E(f,y,b){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,C),f.apply(y,Y)}}return function(){return f.apply(y,arguments)}}function _(f,y,b){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,_.apply(null,arguments)}function S(f,y){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function A(f,y){function b(){}b.prototype=y.prototype,f.aa=y.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(C,Y,te){for(var me=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)me[Ge-2]=arguments[Ge];return y.prototype[Y].apply(C,me)}}function I(f){const y=f.length;if(0<y){const b=Array(y);for(let C=0;C<y;C++)b[C]=f[C];return b}return[]}function O(f,y){for(let b=1;b<arguments.length;b++){const C=arguments[b];if(m(C)){const Y=f.length||0,te=C.length||0;f.length=Y+te;for(let me=0;me<te;me++)f[Y+me]=C[me]}else f.push(C)}}class j{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(f){return/^[\s\xa0]*$/.test(f)}function $(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function K(f){return K[" "](f),f}K[" "]=function(){};var q=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ne(f,y,b){for(const C in f)y.call(b,f[C],C,f)}function P(f,y){for(const b in f)y.call(void 0,f[b],b,f)}function x(f){const y={};for(const b in f)y[b]=f[b];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let b,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(b in C)f[b]=C[b];for(let te=0;te<D.length;te++)b=D[te],Object.prototype.hasOwnProperty.call(C,b)&&(f[b]=C[b])}}function V(f){var y=1;f=f.split(":");const b=[];for(;0<y&&f.length;)b.push(f.shift()),y--;return f.length&&b.push(f.join(":")),b}function U(f){h.setTimeout(()=>{throw f},0)}function M(){var f=pe;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class _e{constructor(){this.h=this.g=null}add(y,b){const C=he.get();C.set(y,b),this.h?this.h.next=C:this.g=C,this.h=C}}var he=new j(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ee=!1,pe=new _e,k=()=>{const f=h.Promise.resolve(void 0);Z=()=>{f.then(re)}};var re=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(b){U(b)}var y=he;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ee=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};h.addEventListener("test",b,y),h.removeEventListener("test",b,y)}catch{}return f}();function Te(f,y){if(se.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(q){e:{try{K(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else b=="mouseover"?y=f.fromElement:b=="mouseout"&&(y=f.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ve[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Te.aa.h.call(this)}}A(Te,se);var ve={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),de=0;function Pe(f,y,b,C,Y){this.listener=f,this.proxy=null,this.src=y,this.type=b,this.capture=!!C,this.ha=Y,this.key=++de,this.da=this.fa=!1}function $e(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function $r(f){this.src=f,this.g={},this.h=0}$r.prototype.add=function(f,y,b,C,Y){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var me=Os(f,y,C,Y);return-1<me?(y=f[me],b||(y.fa=!1)):(y=new Pe(y,this.src,te,!!C,Y),y.fa=b,f.push(y)),y};function Is(f,y){var b=y.type;if(b in f.g){var C=f.g[b],Y=Array.prototype.indexOf.call(C,y,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(C,Y,1),te&&($e(y),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Os(f,y,b,C){for(var Y=0;Y<f.length;++Y){var te=f[Y];if(!te.da&&te.listener==y&&te.capture==!!b&&te.ha==C)return Y}return-1}var Ds="closure_lm_"+(1e6*Math.random()|0),yl={};function xc(f,y,b,C,Y){if(Array.isArray(y)){for(var te=0;te<y.length;te++)xc(f,y[te],b,C,Y);return null}return b=Cc(b),f&&f[ge]?f.K(y,b,p(C)?!!C.capture:!1,Y):Un(f,y,b,!1,C,Y)}function Un(f,y,b,C,Y,te){if(!y)throw Error("Invalid event type");var me=p(Y)?!!Y.capture:!!Y,Ge=Ua(f);if(Ge||(f[Ds]=Ge=new $r(f)),b=Ge.add(y,b,C,me,te),b.proxy)return b;if(C=Od(),b.proxy=C,C.src=f,C.listener=b,f.addEventListener)ce||(Y=me),Y===void 0&&(Y=!1),f.addEventListener(y.toString(),C,Y);else if(f.attachEvent)f.attachEvent(Ns(y.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Od(){function f(b){return y.call(f.src,f.listener,b)}const y=Dd;return f}function _l(f,y,b,C,Y){if(Array.isArray(y))for(var te=0;te<y.length;te++)_l(f,y[te],b,C,Y);else C=p(C)?!!C.capture:!!C,b=Cc(b),f&&f[ge]?(f=f.i,y=String(y).toString(),y in f.g&&(te=f.g[y],b=Os(te,b,C,Y),-1<b&&($e(te[b]),Array.prototype.splice.call(te,b,1),te.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ua(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Os(y,b,C,Y)),(b=-1<f?y[f]:null)&&La(b))}function La(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[ge])Is(y.i,f);else{var b=f.type,C=f.proxy;y.removeEventListener?y.removeEventListener(b,C,f.capture):y.detachEvent?y.detachEvent(Ns(b),C):y.addListener&&y.removeListener&&y.removeListener(C),(b=Ua(y))?(Is(b,f),b.h==0&&(b.src=null,y[Ds]=null)):$e(f)}}}function Ns(f){return f in yl?yl[f]:yl[f]="on"+f}function Dd(f,y){if(f.da)f=!0;else{y=new Te(y,this);var b=f.listener,C=f.ha||f.src;f.fa&&La(f),f=b.call(C,y)}return f}function Ua(f){return f=f[Ds],f instanceof $r?f:null}var El="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cc(f){return typeof f=="function"?f:(f[El]||(f[El]=function(y){return f.handleEvent(y)}),f[El])}function yt(){fe.call(this),this.i=new $r(this),this.M=this,this.F=null}A(yt,fe),yt.prototype[ge]=!0,yt.prototype.removeEventListener=function(f,y,b,C){_l(this,f,y,b,C)};function nt(f,y){var b,C=f.F;if(C)for(b=[];C;C=C.F)b.push(C);if(f=f.M,C=y.type||y,typeof y=="string")y=new se(y,f);else if(y instanceof se)y.target=y.target||f;else{var Y=y;y=new se(C,f),N(y,Y)}if(Y=!0,b)for(var te=b.length-1;0<=te;te--){var me=y.g=b[te];Y=An(me,C,!0,y)&&Y}if(me=y.g=f,Y=An(me,C,!0,y)&&Y,Y=An(me,C,!1,y)&&Y,b)for(te=0;te<b.length;te++)me=y.g=b[te],Y=An(me,C,!1,y)&&Y}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var b=f.g[y],C=0;C<b.length;C++)$e(b[C]);delete f.g[y],f.h--}}this.F=null},yt.prototype.K=function(f,y,b,C){return this.i.add(String(f),y,!1,b,C)},yt.prototype.L=function(f,y,b,C){return this.i.add(String(f),y,!0,b,C)};function An(f,y,b,C){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,te=0;te<y.length;++te){var me=y[te];if(me&&!me.da&&me.capture==b){var Ge=me.listener,Nt=me.ha||me.src;me.fa&&Is(f.i,me),Y=Ge.call(Nt,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function sn(f,y,b){if(typeof f=="function")b&&(f=_(f,b));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function Ic(f){f.g=sn(()=>{f.g=null,f.i&&(f.i=!1,Ic(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Nd extends fe{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ic(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(f){fe.call(this),this.h=f,this.g={}}A(Ms,fe);var Ps=[];function Vs(f){ne(f.g,function(y,b){this.g.hasOwnProperty(b)&&La(y)},f),f.g={}}Ms.prototype.N=function(){Ms.aa.N.call(this),Vs(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=h.JSON.stringify,ja=h.JSON.parse,ks=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function bl(){}bl.prototype.h=null;function Tl(f){return f.h||(f.h=f.i())}function wl(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hr(){se.call(this,"d")}A(Hr,se);function Sl(){se.call(this,"c")}A(Sl,se);var mr={},Al=null;function Ii(){return Al=Al||new yt}mr.La="serverreachability";function za(f){se.call(this,mr.La,f)}A(za,se);function Oi(f){const y=Ii();nt(y,new za(y))}mr.STAT_EVENT="statevent";function Oc(f,y){se.call(this,mr.STAT_EVENT,f),this.stat=y}A(Oc,se);function dt(f){const y=Ii();nt(y,new Oc(y,f))}mr.Ma="timingevent";function Dt(f,y){se.call(this,mr.Ma,f),this.size=y}A(Dt,se);function At(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function Rl(f,y,b,C,Y,te){f.info(function(){if(f.g)if(te)for(var me="",Ge=te.split("&"),Nt=0;Nt<Ge.length;Nt++){var Ke=Ge[Nt].split("=");if(1<Ke.length){var zt=Ke[0];Ke=Ke[1];var Mt=zt.split("_");me=2<=Mt.length&&Mt[1]=="type"?me+(zt+"="+Ke+"&"):me+(zt+"=redacted&")}}else me=null;else me=te;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+y+`
`+b+`
`+me})}function Md(f,y,b,C,Y,te,me){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+y+`
`+b+`
`+te+" "+me})}function Di(f,y,b,C){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ls(f,b)+(C?" "+C:"")})}function Dc(f,y){f.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function Ls(f,y){if(!f.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var C=b[f];if(!(2>C.length)){var Y=C[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var me=1;me<Y.length;me++)Y[me]=""}}}}return er(b)}catch{return y}}var Ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function gr(){}A(gr,bl),gr.prototype.g=function(){return new XMLHttpRequest},gr.prototype.i=function(){return{}},pr=new gr;function mn(f,y,b,C){this.j=f,this.i=y,this.l=b,this.R=C||1,this.U=new Ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var xl={},Ba={};function tr(f,y,b){f.L=1,f.v=$s(Rn(y)),f.m=b,f.P=!0,Gr(f,null)}function Gr(f,y){f.F=Date.now(),Us(f),f.A=Rn(f.v);var b=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),Ml(b.i,"t",C),f.C=0,b=f.j.J,f.h=new bt,f.g=Kc(f.j,b?y:null,!f.m),0<f.O&&(f.M=new Nd(_(f.Y,f,f.g),f.O)),y=f.U,b=f.g,C=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ps[0]=Y.toString()),Y=Ps);for(var te=0;te<Y.length;te++){var me=xc(b,Y[te],C||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Oi(),Rl(f.i,f.u,f.A,f.l,f.R,f.m)}mn.prototype.ca=function(f){f=f.target;const y=this.M;y&&Fn(f)==3?y.j():this.Y(f)},mn.prototype.Y=function(f){try{if(f==this.g)e:{const Mt=Fn(this.g);var y=this.g.Ba();const ei=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||jc(this.g)))){this.J||Mt!=4||y==7||(y==8||0>=ei?Oi(3):Oi(2)),Mi(this);var b=this.g.Z();this.X=b;t:if(Nc(this)){var C=jc(this.g);f="";var Y=C.length,te=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),vr(this);var me="";break t}this.h.i=new h.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,f+=this.h.i.decode(C[y],{stream:!(te&&y==Y-1)});C.length=0,this.h.g+=f,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=b==200,Md(this.i,this.u,this.A,this.l,this.R,Mt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Nt=this.g;if((Ge=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ge)){var Ke=Ge;break t}}Ke=null}if(b=Ke)Di(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,js(this,b);else{this.o=!1,this.s=3,dt(12),Qt(this),vr(this);break e}}if(this.P){b=!0;let Xt;for(;!this.J&&this.C<me.length;)if(Xt=Mc(this,me),Xt==Ba){Mt==4&&(this.s=4,dt(14),b=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==xl){this.s=4,dt(15),Di(this.i,this.l,me,"[Invalid Chunk]"),b=!1;break}else Di(this.i,this.l,Xt,null),js(this,Xt);if(Nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||me.length!=0||this.h.h||(this.s=1,dt(16),b=!1),this.o=this.o&&b,!b)Di(this.i,this.l,me,"[Invalid Chunked Response]"),Qt(this),vr(this);else if(0<me.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Xs(zt),zt.M=!0,dt(11))}}else Di(this.i,this.l,me,null),js(this,me);Mt==4&&Qt(this),this.o&&!this.J&&(Mt==4?Hc(this.j,this):(this.o=!1,Us(this)))}else Ud(this.g),b==400&&0<me.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Qt(this),vr(this)}}}catch{}finally{}};function Nc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Mc(f,y){var b=f.C,C=y.indexOf(`
`,b);return C==-1?Ba:(b=Number(y.substring(b,C)),isNaN(b)?xl:(C+=1,C+b>y.length?Ba:(y=y.slice(C,C+b),f.C=C+b,y)))}mn.prototype.cancel=function(){this.J=!0,Qt(this)};function Us(f){f.S=Date.now()+f.I,Pc(f,f.I)}function Pc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=At(_(f.ba,f),y)}function Mi(f){f.B&&(h.clearTimeout(f.B),f.B=null)}mn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Dc(this.i,this.A),this.L!=2&&(Oi(),dt(17)),Qt(this),this.s=2,vr(this)):Pc(this,this.S-f)};function vr(f){f.j.G==0||f.J||Hc(f.j,f)}function Qt(f){Mi(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Vs(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function js(f,y){try{var b=f.j;if(b.G!=0&&(b.g==f||Cl(b.h,f))){if(!f.K&&Cl(b.h,f)&&b.G==3){try{var C=b.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Ja(b),Wa(b);else break e;Ul(b),dt(18)}}else b.za=Y[1],0<b.za-b.T&&37500>Y[2]&&b.F&&b.v==0&&!b.C&&(b.C=At(_(b.Za,b),6e3));if(1>=Fa(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Jr(b,11)}else if((f.K||b.g==f)&&Ja(b),!B(y))for(Y=b.Da.g.parse(y),y=0;y<Y.length;y++){let Ke=Y[y];if(b.T=Ke[0],Ke=Ke[1],b.G==2)if(Ke[0]=="c"){b.K=Ke[1],b.ia=Ke[2];const zt=Ke[3];zt!=null&&(b.la=zt,b.j.info("VER="+b.la));const Mt=Ke[4];Mt!=null&&(b.Aa=Mt,b.j.info("SVER="+b.Aa));const ei=Ke[5];ei!=null&&typeof ei=="number"&&0<ei&&(C=1.5*ei,b.L=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const Xt=f.g;if(Xt){const Sr=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var te=C.h;te.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Ha(te,te.h),te.h=null))}if(C.D){const zl=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(C.ya=zl,at(C.I,C.D,zl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),C=b;var me=f;if(C.qa=Gc(C,C.J?C.ia:null,C.W),me.K){pn(C.h,me);var Ge=me,Nt=C.L;Nt&&(Ge.I=Nt),Ge.B&&(Mi(Ge),Us(Ge)),C.g=me}else $c(C);0<b.i.length&&Za(b)}else Ke[0]!="stop"&&Ke[0]!="close"||Jr(b,7);else b.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Jr(b,7):kl(b):Ke[0]!="noop"&&b.l&&b.l.ta(Ke),b.v=0)}}Oi(4)}catch{}}var Vc=class{constructor(f,y){this.g=f,this.map=y}};function Kr(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $a(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Fa(f){return f.h?1:f.g?f.g.size:0}function Cl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Ha(f,y){f.g?f.g.add(y):f.h=y}function pn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Kr.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Il(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const b of f.g.values())y=y.concat(b.D);return y}return I(f.i)}function Pd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var y=[],b=f.length,C=0;C<b;C++)y.push(f[C]);return y}y=[],b=0;for(C in f)y[b++]=f[C];return y}function qa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var y=[];f=f.length;for(var b=0;b<f;b++)y.push(b);return y}y=[],b=0;for(const C in f)y[b++]=C;return y}}}function Ol(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var b=qa(f),C=Pd(f),Y=C.length,te=0;te<Y;te++)y.call(void 0,C[te],b&&b[te],f)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vd(f,y){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var C=f[b].indexOf("="),Y=null;if(0<=C){var te=f[b].substring(0,C);Y=f[b].substring(C+1)}else te=f[b];y(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Rt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Rt){this.h=f.h,Bs(this,f.j),this.o=f.o,this.g=f.g,Pi(this,f.s),this.l=f.l;var y=f.i,b=new Qr;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Yr(this,b),this.m=f.m}else f&&(y=String(f).match(zs))?(this.h=!1,Bs(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),Pi(this,y[4]),this.l=zn(y[5]||"",!0),Yr(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Qr(null,this.h))}Rt.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Fs(y,Dl,!0),":");var b=this.g;return(b||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Fs(y,Dl,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Fs(b,b.charAt(0)=="/"?kd:Nl,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Fs(b,Ga)),f.join("")};function Rn(f){return new Rt(f)}function Bs(f,y,b){f.j=b?zn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Pi(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Yr(f,y,b){y instanceof Qr?(f.i=y,Lc(f.i,f.h)):(b||(y=Fs(y,Ld)),f.i=new Qr(y,f.h))}function at(f,y,b){f.i.set(y,b)}function $s(f){return at(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function zn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Fs(f,y,b){return typeof f=="string"?(f=encodeURI(f).replace(y,kc),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function kc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Dl=/[#\/\?@]/g,Nl=/[#\?:]/g,kd=/[#\?]/g,Ld=/[#\?@]/g,Ga=/#/g;function Qr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Bn(f){f.g||(f.g=new Map,f.h=0,f.i&&Vd(f.i,function(y,b){f.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}n=Qr.prototype,n.add=function(f,y){Bn(this),this.i=null,f=yr(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(y),this.h+=1,this};function Xr(f,y){Bn(f),y=yr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Wr(f,y){return Bn(f),y=yr(f,y),f.g.has(y)}n.forEach=function(f,y){Bn(this),this.g.forEach(function(b,C){b.forEach(function(Y){f.call(y,Y,C,this)},this)},this)},n.na=function(){Bn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let C=0;C<y.length;C++){const Y=f[C];for(let te=0;te<Y.length;te++)b.push(y[C])}return b},n.V=function(f){Bn(this);let y=[];if(typeof f=="string")Wr(this,f)&&(y=y.concat(this.g.get(yr(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)y=y.concat(f[b])}return y},n.set=function(f,y){return Bn(this),this.i=null,f=yr(this,f),Wr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Ml(f,y,b){Xr(f,y),0<b.length&&(f.i=null,f.g.set(yr(f,y),I(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var C=y[b];const te=encodeURIComponent(String(C)),me=this.V(C);for(C=0;C<me.length;C++){var Y=te;me[C]!==""&&(Y+="="+encodeURIComponent(String(me[C]))),f.push(Y)}}return this.i=f.join("&")};function yr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Lc(f,y){y&&!f.j&&(Bn(f),f.i=null,f.g.forEach(function(b,C){var Y=C.toLowerCase();C!=Y&&(Xr(this,C),Ml(this,Y,b))},f)),f.j=y}function Hs(f,y){const b=new jn;if(h.Image){const C=new Image;C.onload=S($n,b,"TestLoadImage: loaded",!0,y,C),C.onerror=S($n,b,"TestLoadImage: error",!1,y,C),C.onabort=S($n,b,"TestLoadImage: abort",!1,y,C),C.ontimeout=S($n,b,"TestLoadImage: timeout",!1,y,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else y(!1)}function nr(f,y){const b=new jn,C=new AbortController,Y=setTimeout(()=>{C.abort(),$n(b,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:C.signal}).then(te=>{clearTimeout(Y),te.ok?$n(b,"TestPingServer: ok",!0,y):$n(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),$n(b,"TestPingServer: error",!1,y)})}function $n(f,y,b,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(b)}catch{}}function qs(){this.g=new ks}function _r(f,y,b){const C=b||"";try{Ol(f,function(Y,te){let me=Y;p(Y)&&(me=er(Y)),y.push(C+te+"="+encodeURIComponent(me))})}catch(Y){throw y.push(C+"type="+encodeURIComponent("_badmap")),Y}}function Vi(f){this.l=f.Ub||null,this.j=f.eb||!1}A(Vi,bl),Vi.prototype.g=function(){return new Zr(this.l,this.j)},Vi.prototype.i=function(f){return function(){return f}}({});function Zr(f,y){yt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Zr,yt),n=Zr.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,br(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Er(this):br(this),this.readyState==3&&Pl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Er(this))},n.Qa=function(f){this.g&&(this.response=f,Er(this))},n.ga=function(){this.g&&Er(this)};function Er(f){f.readyState=4,f.l=null,f.j=null,f.v=null,br(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=y.next();return f.join(`\r
`)};function br(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Vl(f){let y="";return ne(f,function(b,C){y+=C,y+=":",y+=b,y+=`\r
`}),y}function jt(f,y,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=Vl(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):at(f,y,b))}function et(f){yt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(et,yt);var Ka=/^https?$/i,Gs=["POST","PUT"];n=et.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?Tl(this.o):Tl(pr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(te){Uc(this,te);return}if(f=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)b.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const te of C.keys())b.set(te,C.get(te));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(te=>te.toLowerCase()=="content-type"),Y=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Gs,y,void 0))||C||Y||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,me]of b)this.g.setRequestHeader(te,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){Uc(this,te)}};function Uc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Ya(f),Tr(f)}function Ya(f){f.A||(f.A=!0,nt(f,"complete"),nt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,nt(this,"complete"),nt(this,"abort"),Tr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Fn(f)!=4||f.Z()!=2)){if(f.u&&Fn(f)==4)sn(f.Ea,0,f);else if(nt(f,"readystatechange"),Fn(f)==4){f.h=!1;try{const me=f.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var C;if(C=me===0){var Y=String(f.D).match(zs)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),C=!Ka.test(Y?Y.toLowerCase():"")}b=C}if(b)nt(f,"complete"),nt(f,"success");else{f.m=6;try{var te=2<Fn(f)?f.g.statusText:""}catch{te=""}f.l=te+" ["+f.Z()+"]",Ya(f)}}finally{Tr(f)}}}}function Tr(f,y){if(f.g){Ks(f);const b=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||nt(f,"ready");try{b.onreadystatechange=C}catch{}}}function Ks(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Fn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),ja(y)}};function jc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ud(f){const y={};f=(f.g&&2<=Fn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(B(f[C]))continue;var b=V(f[C]);const Y=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const te=y[Y]||[];y[Y]=te,te.push(b)}P(y,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(f,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||y}function Xa(f){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,f),this.cb=Ys("retryDelaySeedMs",1e4,f),this.Wa=Ys("forwardChannelMaxRetries",2,f),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Kr(f&&f.concurrentRequestLimit),this.Da=new qs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xa.prototype,n.la=8,n.G=1,n.connect=function(f,y,b,C){dt(0),this.W=f,this.H=y||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.I=Gc(this,null,this.W),Za(this)};function kl(f){if(zc(f),f.G==3){var y=f.U++,b=Rn(f.I);if(at(b,"SID",f.K),at(b,"RID",y),at(b,"TYPE","terminate"),Qs(f,b),y=new mn(f,f.j,y),y.L=2,y.v=$s(Rn(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&h.Image&&(new Image().src=y.v,b=!0),b||(y.g=Kc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Us(y)}qc(f)}function Wa(f){f.g&&(Xs(f),f.g.cancel(),f.g=null)}function zc(f){Wa(f),f.u&&(h.clearTimeout(f.u),f.u=null),Ja(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Za(f){if(!$a(f.h)&&!f.s){f.s=!0;var y=f.Ga;Z||k(),ee||(Z(),ee=!0),pe.add(y,f),f.B=0}}function jd(f,y){return Fa(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=At(_(f.Ga,f,y),jl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new mn(this,this.j,f);let te=this.o;if(this.S&&(te?(te=x(te),N(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Bc(this,Y,y),b=Rn(this.I),at(b,"RID",f),at(b,"CVER",22),this.D&&at(b,"X-HTTP-Session-Id",this.D),Qs(this,b),te&&(this.O?y="headers="+encodeURIComponent(String(Vl(te)))+"&"+y:this.m&&jt(b,this.m,te)),Ha(this.h,Y),this.Ua&&at(b,"TYPE","init"),this.P?(at(b,"$req",y),at(b,"SID","null"),Y.T=!0,tr(Y,b,null)):tr(Y,b,y),this.G=2}}else this.G==3&&(f?Ll(this,f):this.i.length==0||$a(this.h)||Ll(this))};function Ll(f,y){var b;y?b=y.l:b=f.U++;const C=Rn(f.I);at(C,"SID",f.K),at(C,"RID",b),at(C,"AID",f.T),Qs(f,C),f.m&&f.o&&jt(C,f.m,f.o),b=new mn(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Bc(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ha(f.h,b),tr(b,C,y)}function Qs(f,y){f.H&&ne(f.H,function(b,C){at(y,C,b)}),f.l&&Ol({},function(b,C){at(y,C,b)})}function Bc(f,y,b){b=Math.min(f.i.length,b);var C=f.l?_(f.l.Na,f.l,f):null;e:{var Y=f.i;let te=-1;for(;;){const me=["count="+b];te==-1?0<b?(te=Y[0].g,me.push("ofs="+te)):te=0:me.push("ofs="+te);let Ge=!0;for(let Nt=0;Nt<b;Nt++){let Ke=Y[Nt].g;const zt=Y[Nt].map;if(Ke-=te,0>Ke)te=Math.max(0,Y[Nt].g-100),Ge=!1;else try{_r(zt,me,"req"+Ke+"_")}catch{C&&C(zt)}}if(Ge){C=me.join("&");break e}}}return f=f.i.splice(0,b),y.D=f,C}function $c(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;Z||k(),ee||(Z(),ee=!0),pe.add(y,f),f.v=0}}function Ul(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=At(_(f.Fa,f),jl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=At(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Wa(this),Fc(this))};function Xs(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Fc(f){f.g=new mn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Rn(f.qa);at(y,"RID","rpc"),at(y,"SID",f.K),at(y,"AID",f.T),at(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&at(y,"TO",f.ja),at(y,"TYPE","xmlhttp"),Qs(f,y),f.m&&f.o&&jt(y,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=$s(Rn(y)),b.m=null,b.P=!0,Gr(b,f)}n.Za=function(){this.C!=null&&(this.C=null,Wa(this),Ul(this),dt(19))};function Ja(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Hc(f,y){var b=null;if(f.g==y){Ja(f),Xs(f),f.g=null;var C=2}else if(Cl(f.h,y))b=y.D,pn(f.h,y),C=1;else return;if(f.G!=0){if(y.o)if(C==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var Y=f.B;C=Ii(),nt(C,new Dt(C,b)),Za(f)}else $c(f);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(C==1&&jd(f,y)||C==2&&Ul(f)))switch(b&&0<b.length&&(y=f.h,y.i=y.i.concat(b)),Y){case 1:Jr(f,5);break;case 4:Jr(f,10);break;case 3:Jr(f,6);break;default:Jr(f,2)}}}function jl(f,y){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*y}function Jr(f,y){if(f.j.info("Error code "+y),y==2){var b=_(f.fb,f),C=f.Xa;const Y=!C;C=new Rt(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bs(C,"https"),$s(C),Y?Hs(C.toString(),b):nr(C.toString(),b)}else dt(2);f.G=0,f.l&&f.l.sa(y),qc(f),zc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function qc(f){if(f.G=0,f.ka=[],f.l){const y=Il(f.h);(y.length!=0||f.i.length!=0)&&(O(f.ka,y),O(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function Gc(f,y,b){var C=b instanceof Rt?Rn(b):new Rt(b);if(C.g!="")y&&(C.g=y+"."+C.g),Pi(C,C.s);else{var Y=h.location;C=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new Rt(null);C&&Bs(te,C),y&&(te.g=y),Y&&Pi(te,Y),b&&(te.l=b),C=te}return b=f.D,y=f.ya,b&&y&&at(C,b,y),at(C,"VER",f.la),Qs(f,C),C}function Kc(f,y,b){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new et(new Vi({eb:b})):new et(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}n=Yc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eo(){}eo.prototype.g=function(f,y){return new gn(f,y)};function gn(f,y){yt.call(this),this.g=new Xa(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!B(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new wr(this)}A(gn,yt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){kl(this.g)},gn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=er(f),f=b);y.i.push(new Vc(y.Ya++,f)),y.G==3&&Za(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,gn.aa.N.call(this)};function Qc(f){Hr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const b in y){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}A(Qc,Hr);function Xc(){Sl.call(this),this.status=1}A(Xc,Sl);function wr(f){this.g=f}A(wr,Yc),wr.prototype.ua=function(){nt(this.g,"a")},wr.prototype.ta=function(f){nt(this.g,new Qc(f))},wr.prototype.sa=function(f){nt(this.g,new Xc)},wr.prototype.ra=function(){nt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,xS=function(){return new eo},RS=function(){return Ii()},AS=mr,bg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ni.NO_ERROR=0,Ni.TIMEOUT=8,Ni.HTTP_ERROR=6,mh=Ni,qr.COMPLETE="complete",SS=qr,wl.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Ou=wl,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,wS=et}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const Vb="@firebase/firestore",kb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new fv("@firebase/firestore");function No(){return Sa.logLevel}function ye(n,...e){if(Sa.logLevel<=Fe.DEBUG){const t=e.map(Av);Sa.debug(`Firestore (${ll}): ${n}`,...t)}}function wi(n,...e){if(Sa.logLevel<=Fe.ERROR){const t=e.map(Av);Sa.error(`Firestore (${ll}): ${n}`,...t)}}function Go(n,...e){if(Sa.logLevel<=Fe.WARN){const t=e.map(Av);Sa.warn(`Firestore (${ll}): ${n}`,...t)}}function Av(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,CS(n,i,t)}function CS(n,e,t){let i=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw wi(i),new Error(i)}function tt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||CS(e,a,i)}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class PN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VN{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ms,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},h=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>h(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ms)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new IS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class kN{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LN{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new kN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=jN(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ue(n,e){return n<e?-1:n>e?1:0}function Tg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Ue(i,a);{const l=OS(),c=zN(l.encode(Ub(n,t)),l.encode(Ub(e,t)));return c!==0?c:Ue(i,a)}}t+=i>65535?2:1}return Ue(n.length,e.length)}function Ub(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function zN(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ue(n[t],e[t]);return Ue(n.length,e.length)}function Ko(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=-62135596800,zb=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*zb);return new kt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jb)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zb}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new kt(0,0))}static max(){return new Ne(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__name__";class Dr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ie(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Dr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ue(e.length,t.length)}static compareSegments(e,t){const i=Dr.isNumericId(e),a=Dr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Dr.extractNumericId(e).compare(Dr.extractNumericId(t)):Tg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class ht extends Dr{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const BN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Dr{construct(e,t,i){return new tn(e,t,i)}static isValidIdentifier(e){return BN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bb}static keyField(){return new tn([Bb])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Ee(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new Ee(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ht.fromString(e))}static fromName(e){return new Re(ht.fromString(e).popFirst(5))}static empty(){return new Re(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=-1;function $N(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(i===1e9?new kt(t+1,0):new kt(t,i));return new vs(a,Re.empty(),e)}function FN(n){return new vs(n.readTime,n.key,Yu)}class vs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new vs(Ne.min(),Re.empty(),Yu)}static max(){return new vs(Ne.max(),Re.empty(),Yu)}}function HN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==qN)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let a=0,l=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(a=>a?le.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new le((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(v=>{c[p]=v,++h,h===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new le((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function KN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ed.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-1;function td(n){return n==null}function Oh(n){return n===0&&1/n==-1/0}function YN(n){return typeof n=="number"&&Number.isInteger(n)&&!Oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="";function QN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$b(e)),e=XN(n.get(t),e);return $b(e)}function XN(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case NS:t+="";break;default:t+=l}}return t}function $b(n){return n+NS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new en(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hb(this.data.getIterator())}getIteratorFrom(e){return new Hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class Hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Lt(tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new PS("Invalid base64 string: "+l):l}}(e);return new rn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const WN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(n){if(tt(!!n,39018),typeof n=="string"){let e=0;const t=WN.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _s(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="server_timestamp",kS="__type__",LS="__previous_value__",US="__local_write_time__";function xv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kS])===null||t===void 0?void 0:t.stringValue)===VS}function nd(n){const e=n.mapValue.fields[LS];return xv(e)?nd(e):e}function Qu(n){const e=ys(n.mapValue.fields[US].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t,i,a,l,c,h,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const Dh="(default)";class Xu{constructor(e,t){this.projectId=e,this.database=t||Dh}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="__type__",JN="__max__",nh={mapValue:{}},zS="__vector__",Nh="value";function Es(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xv(n)?4:tM(n)?9007199254740991:eM(n)?10:11:Ie(28295,{value:n})}function Ur(n,e){if(n===e)return!0;const t=Es(n);if(t!==Es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qu(n).isEqual(Qu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ys(a.timestampValue),h=ys(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return _s(a.bytesValue).isEqual(_s(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),h=St(l.doubleValue);return c===h?Oh(c)===Oh(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Fb(c)!==Fb(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!Ur(c[m],h[m])))return!1;return!0}(n,e);default:return Ie(52216,{left:n})}}function Wu(n,e){return(n.values||[]).find(t=>Ur(t,e))!==void 0}function Yo(n,e){if(n===e)return 0;const t=Es(n),i=Es(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=St(l.integerValue||l.doubleValue),m=St(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return qb(n.timestampValue,e.timestampValue);case 4:return qb(Qu(n),Qu(e));case 5:return Tg(n.stringValue,e.stringValue);case 6:return function(l,c){const h=_s(l),m=_s(c);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),m=c.split("/");for(let p=0;p<h.length&&p<m.length;p++){const v=Ue(h[p],m[p]);if(v!==0)return v}return Ue(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=Ue(St(l.latitude),St(c.latitude));return h!==0?h:Ue(St(l.longitude),St(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Gb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,m,p,v;const E=l.fields||{},_=c.fields||{},S=(h=E[Nh])===null||h===void 0?void 0:h.arrayValue,A=(m=_[Nh])===null||m===void 0?void 0:m.arrayValue,I=Ue(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((v=A==null?void 0:A.values)===null||v===void 0?void 0:v.length)||0);return I!==0?I:Gb(S,A)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===nh.mapValue&&c===nh.mapValue)return 0;if(l===nh.mapValue)return 1;if(c===nh.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const _=Tg(m[E],v[E]);if(_!==0)return _;const S=Yo(h[m[E]],p[v[E]]);if(S!==0)return S}return Ue(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Ie(23264,{Pe:t})}}function qb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=ys(n),i=ys(e),a=Ue(t.seconds,i.seconds);return a!==0?a:Ue(t.nanos,i.nanos)}function Gb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Yo(t[a],i[a]);if(l)return l}return Ue(t.length,i.length)}function Qo(n){return wg(n)}function wg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ys(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _s(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=wg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${wg(t.fields[c])}`;return a+"}"}(n.mapValue):Ie(61005,{value:n})}function ph(n){switch(Es(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nd(n);return e?16+ph(e):16;case 5:return 2*n.stringValue.length;case 6:return _s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+ph(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Rs(i.fields,(l,c)=>{a+=l.length+ph(c)}),a}(n.mapValue);default:throw Ie(13486,{value:n})}}function Kb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sg(n){return!!n&&"integerValue"in n}function Cv(n){return!!n&&"arrayValue"in n}function Yb(n){return!!n&&"nullValue"in n}function Qb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gh(n){return!!n&&"mapValue"in n}function eM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[jS])===null||t===void 0?void 0:t.stringValue)===zS}function Lu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Lu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=tn.emptyPath(),i={},a=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=h.popLast()}c?i[h.lastSegment()]=Lu(c):a.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];gh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Rs(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Sn(Lu(this.value))}}function BS(n){const e=[];return Rs(n.fields,(t,i)=>{const a=new tn([t]);if(gh(i)){const l=BS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,i,a,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new cn(e,0,Ne.min(),Ne.min(),Ne.min(),Sn.empty(),0)}static newFoundDocument(e,t,i,a){return new cn(e,1,t,Ne.min(),i,a,0)}static newNoDocument(e,t){return new cn(e,2,t,Ne.min(),Ne.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Ne.min(),Ne.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.position=e,this.inclusive=t}}function Xb(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(c.referenceValue),t.key):i=Yo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Wb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ur(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t="asc"){this.field=e,this.dir=t}}function nM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{}class Ot extends $S{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new iM(e,t,i):t==="array-contains"?new oM(e,i):t==="in"?new lM(e,i):t==="not-in"?new uM(e,i):t==="array-contains-any"?new cM(e,i):new Ot(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new sM(e,i):new aM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Yo(t,this.value)):t!==null&&Es(this.value)===Es(t)&&this.matchesComparison(Yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends $S{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new cr(e,t)}matches(e){return FS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function FS(n){return n.op==="and"}function HS(n){return rM(n)&&FS(n)}function rM(n){for(const e of n.filters)if(e instanceof cr)return!1;return!0}function Ag(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(HS(n))return n.filters.map(e=>Ag(e)).join(",");{const e=n.filters.map(t=>Ag(t)).join(",");return`${n.op}(${e})`}}function qS(n,e){return n instanceof Ot?function(i,a){return a instanceof Ot&&i.op===a.op&&i.field.isEqual(a.field)&&Ur(i.value,a.value)}(n,e):n instanceof cr?function(i,a){return a instanceof cr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,h)=>l&&qS(c,a.filters[h]),!0):!1}(n,e):void Ie(19439)}function GS(n){return n instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(n):n instanceof cr?function(t){return t.op.toString()+" {"+t.getFilters().map(GS).join(" ,")+"}"}(n):"Filter"}class iM extends Ot{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class sM extends Ot{constructor(e,t){super(e,"in",t),this.keys=KS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aM extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=KS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function KS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class oM extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cv(t)&&Wu(t.arrayValue,this.value)}}class lM extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}}class uM extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wu(this.value.arrayValue,t)}}class cM extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Wu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Ie=null}}function Zb(n,e=null,t=[],i=[],a=null,l=null,c=null){return new fM(n,e,t,i,a,l,c)}function Iv(n){const e=Me(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ag(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Qo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Qo(i)).join(",")),e.Ie=t}return e.Ie}function Ov(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wb(n.startAt,e.startAt)&&Wb(n.endAt,e.endAt)}function Rg(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t=null,i=[],a=[],l=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function hM(n,e,t,i,a,l,c,h){return new fl(n,e,t,i,a,l,c,h)}function YS(n){return new fl(n)}function Jb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function QS(n){return n.collectionGroup!==null}function Uu(n){const e=Me(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Lt(tn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Zu(l,i))}),t.has(tn.keyField().canonicalString())||e.Ee.push(new Zu(tn.keyField(),i))}return e.Ee}function Pr(n){const e=Me(n);return e.de||(e.de=dM(e,Uu(n))),e.de}function dM(n,e){if(n.limitType==="F")return Zb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Zu(a.field,l)});const t=n.endAt?new Mh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Mh(n.startAt.position,n.startAt.inclusive):null;return Zb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function xg(n,e){const t=n.filters.concat([e]);return new fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Cg(n,e,t){return new fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rd(n,e){return Ov(Pr(n),Pr(e))&&n.limitType===e.limitType}function XS(n){return`${Iv(Pr(n))}|lt:${n.limitType}`}function Mo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>GS(a)).join(", ")}]`),td(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Qo(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Qo(a)).join(",")),`Target(${i})`}(Pr(n))}; limitType=${n.limitType})`}function id(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Uu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,h,m){const p=Xb(c,h,m);return c.inclusive?p<=0:p<0}(i.startAt,Uu(i),a)||i.endAt&&!function(c,h,m){const p=Xb(c,h,m);return c.inclusive?p>=0:p>0}(i.endAt,Uu(i),a))}(n,e)}function mM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WS(n){return(e,t)=>{let i=!1;for(const a of Uu(n)){const l=pM(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function pM(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):function(l,c,h){const m=c.data.field(l),p=h.data.field(l);return m!==null&&p!==null?Yo(m,p):Ie(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return MS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new vt(Re.comparator);function Si(){return gM}const ZS=new vt(Re.comparator);function Du(...n){let e=ZS;for(const t of n)e=e.insert(t.key,t);return e}function JS(n){let e=ZS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function pa(){return ju()}function e1(){return ju()}function ju(){return new Da(n=>n.toString(),(n,e)=>n.isEqual(e))}const vM=new vt(Re.comparator),yM=new Lt(Re.comparator);function He(...n){let e=yM;for(const t of n)e=e.add(t);return e}const _M=new Lt(Ue);function EM(){return _M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function t1(n){return{integerValue:""+n}}function bM(n,e){return YN(e)?t1(e):Dv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function TM(n,e,t){return n instanceof Ju?function(a,l){const c={fields:{[kS]:{stringValue:VS},[US]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&xv(l)&&(l=nd(l)),l&&(c.fields[LS]=l),{mapValue:c}}(t,e):n instanceof ec?r1(n,e):n instanceof tc?i1(n,e):function(a,l){const c=n1(a,l),h=eT(c)+eT(a.Re);return Sg(c)&&Sg(a.Re)?t1(h):Dv(a.serializer,h)}(n,e)}function wM(n,e,t){return n instanceof ec?r1(n,e):n instanceof tc?i1(n,e):t}function n1(n,e){return n instanceof Ph?function(i){return Sg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Ju extends sd{}class ec extends sd{constructor(e){super(),this.elements=e}}function r1(n,e){const t=s1(e);for(const i of n.elements)t.some(a=>Ur(a,i))||t.push(i);return{arrayValue:{values:t}}}class tc extends sd{constructor(e){super(),this.elements=e}}function i1(n,e){let t=s1(e);for(const i of n.elements)t=t.filter(a=>!Ur(a,i));return{arrayValue:{values:t}}}class Ph extends sd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function eT(n){return St(n.integerValue||n.doubleValue)}function s1(n){return Cv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,t){this.field=e,this.transform=t}}function AM(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof ec&&a instanceof ec||i instanceof tc&&a instanceof tc?Ko(i.elements,a.elements,Ur):i instanceof Ph&&a instanceof Ph?Ur(i.Re,a.Re):i instanceof Ju&&a instanceof Ju}(n.transform,e.transform)}class RM{constructor(e,t){this.version=e,this.transformResults=t}}class ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ad{}function a1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nv(n.key,ur.none()):new hc(n.key,n.data,ur.none());{const t=n.data,i=Sn.empty();let a=new Lt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new xs(n.key,i,new Vn(a.toArray()),ur.none())}}function xM(n,e,t){n instanceof hc?function(a,l,c){const h=a.value.clone(),m=nT(a.fieldTransforms,l,c.transformResults);h.setAll(m),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof xs?function(a,l,c){if(!vh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=nT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(o1(a)),m.setAll(h),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function zu(n,e,t,i){return n instanceof hc?function(l,c,h,m){if(!vh(l.precondition,c))return h;const p=l.value.clone(),v=rT(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof xs?function(l,c,h,m){if(!vh(l.precondition,c))return h;const p=rT(l.fieldTransforms,m,c),v=c.data;return v.setAll(o1(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,h){return vh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function CM(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=n1(i.transform,a||null);l!=null&&(t===null&&(t=Sn.empty()),t.set(i.field,l))}return t||null}function tT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Ko(i,a,(l,c)=>AM(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hc extends ad{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class xs extends ad{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function o1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function nT(n,e,t){const i=new Map;tt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,wM(c,h,t[a]))}return i}function rT(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,TM(l,c,e))}return i}class Nv extends ad{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IM extends ad{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&xM(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=e1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(a.key)?null:h;const m=a1(c,h);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(t,i)=>tT(t,i))&&Ko(this.baseMutations,e.baseMutations,(t,i)=>tT(t,i))}}class Mv{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){tt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return vM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Mv(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Qe;function MM(n){switch(n){case ue.OK:return Ie(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function l1(n){if(n===void 0)return wi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case It.OK:return ue.OK;case It.CANCELLED:return ue.CANCELLED;case It.UNKNOWN:return ue.UNKNOWN;case It.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case It.INTERNAL:return ue.INTERNAL;case It.UNAVAILABLE:return ue.UNAVAILABLE;case It.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case It.NOT_FOUND:return ue.NOT_FOUND;case It.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case It.ABORTED:return ue.ABORTED;case It.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case It.DATA_LOSS:return ue.DATA_LOSS;default:return Ie(39323,{code:n})}}(Qe=It||(It={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new ds([4294967295,4294967295],0);function iT(n){const e=OS().encode(n),t=new TS;return t.update(e),new Uint8Array(t.digest())}function sT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ds([t,i],0),new ds([a,l],0)]}class Pv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Nu(`Invalid padding: ${t}`);if(i<0)throw new Nu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ds.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(ds.fromNumber(i)));return a.compare(PM)===1&&(a=new ds([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=iT(e),[i,a]=sT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Pv(l,a,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const t=iT(e),[i,a]=sT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new od(Ne.min(),a,new vt(Ue),Si(),He())}}class dc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new dc(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class u1{constructor(e,t){this.targetId=e,this.Ce=t}}class c1{constructor(e,t,i=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class aT{constructor(){this.Fe=0,this.Me=oT(),this.xe=rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=He(),t=He(),i=He();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:l})}}),new dc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=oT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class VM{constructor(e){this.ze=e,this.je=new Map,this.He=Si(),this.Je=rh(),this.Ye=rh(),this.Ze=new vt(Ue)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Rg(l))if(i===0){const c=new Re(l.path);this.tt(t,c,cn.newNoDocument(c,Ne.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const h=this.ct(e),m=h?this.lt(h,e,c):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,h;try{c=_s(i).toUint8Array()}catch(m){if(m instanceof PS)return Go("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new Pv(c,a,l)}catch(m){return Go(m instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.pe===0?null:h}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const h=this._t(c);if(h){if(l.current&&Rg(h.target)){const m=new Re(h.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,cn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=He();this.Ye.forEach((l,c)=>{let h=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new od(e,t,this.Ze,this.He,i);return this.He=Si(),this.Je=rh(),this.Ye=rh(),this.Ze=new vt(Ue),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new aT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Lt(Ue),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Lt(Ue),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new aT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function rh(){return new vt(Re.comparator)}function oT(){return new vt(Re.comparator)}const kM={asc:"ASCENDING",desc:"DESCENDING"},LM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UM={and:"AND",or:"OR"};class jM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ig(n,e){return n.useProto3Json||td(e)?e:{value:e}}function Vh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zM(n,e){return Vh(n,e.toTimestamp())}function Vr(n){return tt(!!n,49232),Ne.fromTimestamp(function(t){const i=ys(t);return new kt(i.seconds,i.nanos)}(n))}function Vv(n,e){return Og(n,e).canonicalString()}function Og(n,e){const t=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function h1(n){const e=ht.fromString(n);return tt(v1(e),10190,{key:e.toString()}),e}function Dg(n,e){return Vv(n.databaseId,e.path)}function qp(n,e){const t=h1(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(m1(t))}function d1(n,e){return Vv(n.databaseId,e)}function BM(n){const e=h1(n);return e.length===4?ht.emptyPath():m1(e)}function Ng(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function m1(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function lT(n,e,t){return{name:Dg(n,e),fields:t.value.mapValue.fields}}function $M(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(tt(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const v=p.code===void 0?ue.UNKNOWN:l1(p.code);return new Ee(v,p.message||"")}(c);t=new c1(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=qp(n,i.document.name),l=Vr(i.document.updateTime),c=i.document.createTime?Vr(i.document.createTime):Ne.min(),h=new Sn({mapValue:{fields:i.document.fields}}),m=cn.newFoundDocument(a,l,c,h),p=i.targetIds||[],v=i.removedTargetIds||[];t=new yh(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=qp(n,i.document),l=i.readTime?Vr(i.readTime):Ne.min(),c=cn.newNoDocument(a,l),h=i.removedTargetIds||[];t=new yh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=qp(n,i.document),l=i.removedTargetIds||[];t=new yh([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new NM(a,l),h=i.targetId;t=new u1(h,c)}}return t}function FM(n,e){let t;if(e instanceof hc)t={update:lT(n,e.key,e.value)};else if(e instanceof Nv)t={delete:Dg(n,e.key)};else if(e instanceof xs)t={update:lT(n,e.key,e.data),updateMask:ZM(e.fieldMask)};else{if(!(e instanceof IM))return Ie(16599,{ft:e.type});t={verify:Dg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof Ju)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ec)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof tc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ph)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw Ie(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:zM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)}(n,e.precondition)),t}function HM(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Vr(a.updateTime):Vr(l);return c.isEqual(Ne.min())&&(c=Vr(l)),new RM(c,a.transformResults||[])}(t,e))):[]}function qM(n,e){return{documents:[d1(n,e.path)]}}function GM(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=d1(n,a);const l=function(p){if(p.length!==0)return g1(cr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(_){return{field:Po(_.field),direction:QM(_.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Ig(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function KM(n){let e=BM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){tt(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(E){const _=p1(E);return _ instanceof cr&&HS(_)?_.getFilters():[_]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(_=>function(A){return new Zu(Vo(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(t.orderBy));let h=null;t.limit&&(h=function(E){let _;return _=typeof E=="object"?E.value:E,td(_)?null:_}(t.limit));let m=null;t.startAt&&(m=function(E){const _=!!E.before,S=E.values||[];return new Mh(S,_)}(t.startAt));let p=null;return t.endAt&&(p=function(E){const _=!E.before,S=E.values||[];return new Mh(S,_)}(t.endAt)),hM(e,a,c,l,h,"F",m,p)}function YM(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function p1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Vo(t.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Vo(t.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(t.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(t.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ot.create(Vo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return cr.create(t.compositeFilter.filters.map(i=>p1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(t.compositeFilter.op))}(n):Ie(30097,{filter:n})}function QM(n){return kM[n]}function XM(n){return LM[n]}function WM(n){return UM[n]}function Po(n){return{fieldPath:n.canonicalString()}}function Vo(n){return tn.fromServerFormat(n.fieldPath)}function g1(n){return n instanceof Ot?function(t){if(t.op==="=="){if(Qb(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(Yb(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Qb(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(Yb(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:XM(t.op),value:t.value}}}(n):n instanceof cr?function(t){const i=t.getFilters().map(a=>g1(a));return i.length===1?i[0]:{compositeFilter:{op:WM(t.op),filters:i}}}(n):Ie(54877,{filter:n})}function ZM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function v1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,i,a,l=Ne.min(),c=Ne.min(),h=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.wt=e}}function eP(n){const e=KM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.Cn=new nP}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(vs.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class nP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Lt(ht.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Lt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y1=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(y1,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Xo(0)}static lr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LruGarbageCollector",rP=1048576;function fT([n,e],[t,i]){const a=Ue(n,t);return a===0?Ue(e,i):a}class iP{constructor(e){this.Er=e,this.buffer=new Lt(fT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();fT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ye(cT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){cl(t)?ye(cT,"Ignoring IndexedDB error during garbage collection: ",t):await ul(t)}await this.mr(3e5)})}}class aP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return le.resolve(ed.le);const i=new iP(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(uT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,c,h,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(i=E,h=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(p=Date.now(),No()<=Fe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${E} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function oP(n,e){return new aP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.changes=new Da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&zu(i.mutation,a,Vn.empty(),kt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){const a=pa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=Du();return l.forEach((h,m)=>{c=c.insert(h,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,a){let l=Si();const c=ju(),h=function(){return ju()}();return t.forEach((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof xs)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),zu(v.mutation,p,v.mutation.getFieldMask(),kt.now())):c.set(p.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var E;return h.set(p,new uP(v,(E=c.get(p))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const i=ju();let a=new vt((c,h)=>c-h),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let v=i.get(m)||Vn.empty();v=h.applyToLocalView(p,v),i.set(m,v);const E=(a.get(h.batchId)||He()).add(m);a=a.insert(h.batchId,E)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,v=m.value,E=e1();v.forEach(_=>{if(!l.has(_)){const S=a1(t.get(_),i.get(_));S!==null&&E.set(_,S),l=l.add(_)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,E))}return le.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):le.resolve(pa());let h=Yu,m=l;return c.next(p=>le.forEach(p,(v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),l.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next(_=>{m=m.insert(v,_)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,He())).next(v=>({batchId:h,changes:JS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let a=Du();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Du();return this.indexManager.getCollectionParents(e,l).next(h=>le.forEach(h,m=>{const p=function(E,_){return new fl(_,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(v=>{v.forEach((E,_)=>{c=c.insert(E,_)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,cn.newInvalidDocument(v)))});let h=Du();return c.forEach((m,p)=>{const v=l.get(m);v!==void 0&&zu(v.mutation,p,Vn.empty(),kt.now()),id(t,p)&&(h=h.insert(m,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return le.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Vr(a.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:eP(a.bundledQuery),readTime:Vr(a.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.overlays=new vt(Re.comparator),this.Qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=pa();return le.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const a=pa(),l=t.length+1,c=new Re(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return le.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new vt((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=pa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>h.set(p,v)),!(h.size()>=a)););return le.resolve(h)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new DM(t,i));let l=this.Qr.get(t);l===void 0&&(l=He(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.$r=new Lt(Ht.Ur),this.Kr=new Lt(Ht.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Ht(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Re(new ht([])),i=new Ht(t,e),a=new Ht(t,e+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Re(new ht([])),i=new Ht(t,e),a=new Ht(t,e+1);let l=He();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ht(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Re.comparator(e.key,t.key)||Ue(e.Zr,t.Zr)}static Wr(e,t){return Ue(e.Zr,t.Zr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Lt(Ht.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new OM(l,t,i,a);this.mutationQueue.push(c);for(const h of a)this.Xr=this.Xr.add(new Ht(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Rv:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),a=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const h=this.ei(c.Zr);l.push(h)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(Ue);return t.forEach(a=>{const l=new Ht(a,0),c=new Ht(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],h=>{i=i.add(h.Zr)})}),le.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const c=new Ht(new Re(l),0);let h=new Lt(Ue);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Zr)),!0)},c),le.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){tt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return le.forEach(t.mutations,a=>{const l=new Ht(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Ht(t,0),a=this.Xr.firstAfterOrEqual(i);return le.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.ii=e,this.docs=function(){return new vt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let i=Si();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Si();const c=t.path,h=new Re(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||HN(FN(v),i)<=0||(a.has(v.key)||id(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ie(9500)}si(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gP(this)}getSize(e){return le.resolve(this.size)}}class gP extends lP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.persistence=e,this.oi=new Da(t=>Iv(t),Ov),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this._i=0,this.ai=new kv,this.targetCount=0,this.ui=Xo.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),le.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Tr(t),le.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),le.waitFor(l).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),le.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,t){this.ci={},this.overlays={},this.li=new ed(0),this.hi=!1,this.hi=!0,this.Pi=new dP,this.referenceDelegate=e(this),this.Ti=new vP(this),this.indexManager=new tP,this.remoteDocumentCache=function(a){return new pP(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new JM(t),this.Ei=new fP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new mP(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const a=new yP(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return le.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class yP extends GN{constructor(e){super(),this.currentSequenceNumber=e}}class Lv{constructor(e){this.persistence=e,this.Vi=new kv,this.mi=null}static fi(e){return new Lv(e)}get gi(){if(this.mi)return this.mi;throw Ie(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,i=>{const a=Re.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Ne.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return le.or([()=>le.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class kh{constructor(e,t){this.persistence=e,this.yi=new Da(i=>QN(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=oP(this,t)}static fi(e,t){return new kh(e,t)}di(){}Ai(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return le.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?le.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(h=>{h||(i++,l.removeEntry(c,Ne.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),le.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ph(e.data.value)),t}Dr(e,t,i){return le.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=He(),a=He();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Uv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return hO()?8:KN(hn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new _P;return this.Ss(e,t,c).next(h=>{if(l.result=h,this.fs)return this.Ds(e,t,c,h.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(No()<=Fe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(No()<=Fe.DEBUG&&ye("QueryEngine","Query:",Mo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(No()<=Fe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):le.resolve())}ws(e,t){if(Jb(t))return le.resolve(null);let i=Pr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Cg(t,null,"F"),i=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=He(...l);return this.ys.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.vs(t,h);return this.Cs(t,p,c,m.readTime)?this.ws(e,Cg(t,null,"F")):this.Fs(e,p,t,m)}))})))}bs(e,t,i,a){return Jb(t)||a.isEqual(Ne.min())?le.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,a)?le.resolve(null):(No()<=Fe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(t)),this.Fs(e,c,t,$N(a,Yu)).next(h=>h))})}vs(e,t){let i=new Lt(WS(e));return t.forEach((a,l)=>{id(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return No()<=Fe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Mo(t)),this.ys.getDocumentsMatchingQuery(e,t,vs.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LocalStore",bP=3e8;class TP{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new vt(Ue),this.Os=new Da(l=>Iv(l),Ov),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function wP(n,e,t,i){return new TP(n,e,t,i)}async function E1(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let m=He();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){h.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:h}))})})}function SP(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,m,p,v){const E=p.batch,_=E.keys();let S=le.resolve();return _.forEach(A=>{S=S.next(()=>v.getEntry(m,A)).next(I=>{const O=p.docVersions.get(A);tt(O!==null,48541),I.version.compareTo(O)<0&&(E.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),v.addEntry(I)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(m,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let m=He();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function b1(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function AP(n,e){const t=Me(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const h=[];e.targetChanges.forEach((v,E)=>{const _=a.get(E);if(!_)return;h.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,E).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,E)));let S=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?S=S.withResumeToken(rn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(E,S),function(I,O,j){return I.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=bP?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(_,S,v)&&h.push(t.Ti.updateTargetData(l,S))});let m=Si(),p=He();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),h.push(RP(l,c,e.documentUpdates).next(v=>{m=v.qs,p=v.Qs})),!i.isEqual(Ne.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(E=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(v)}return le.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.xs=a,l))}function RP(n,e,t){let i=He(),a=He();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Si();return t.forEach((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):ye(jv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function xP(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Rv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function CP(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,le.resolve(a)):t.Ti.allocateTargetId(i).next(c=>(a=new ls(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Mg(n,e,t){const i=Me(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!cl(c))throw c;ye(jv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function hT(n,e,t){const i=Me(n);let a=Ne.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const E=Me(m),_=E.Os.get(v);return _!==void 0?le.resolve(E.xs.get(_)):E.Ti.getTargetData(p,v)}(i,c,Pr(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,h.targetId).next(m=>{l=m})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?a:Ne.min(),t?l:He())).next(h=>(IP(i,mM(e),h),{documents:h,$s:l})))}function IP(n,e,t){let i=n.Ns.get(e)||Ne.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class dT{constructor(){this.activeTargetIds=EM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OP{constructor(){this.xo=new dT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new dT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="ConnectivityMonitor";class pT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ye(mT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ye(mT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function Pg(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="RestConnection",NP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===Dh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const c=Pg(),h=this.jo(e,t.toUriEncodedString());ye(Gp,`Sending RPC '${e}' ${c}:`,h,i);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(h),v=sl(p);return this.Jo(e,h,m,i,v).then(E=>(ye(Gp,`Received RPC '${e}' ${c}: `,E),E),E=>{throw Go(Gp,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",i),E})}Yo(e,t,i,a,l,c){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=NP[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class VP extends MP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=Pg();return new Promise((h,m)=>{const p=new wS;p.setWithCredentials(!0),p.listenOnce(SS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case mh.NO_ERROR:const E=p.getResponseJson();ye(ln,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case mh.TIMEOUT:ye(ln,`RPC '${e}' ${c} timed out`),m(new Ee(ue.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const _=p.getStatus();if(ye(ln,`RPC '${e}' ${c} failed with status:`,_,"response text:",p.getResponseText()),_>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S==null?void 0:S.error;if(A&&A.status&&A.message){const I=function(j){const B=j.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(B)>=0?B:ue.UNKNOWN}(A.status);m(new Ee(I,A.message))}else m(new Ee(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ee(ue.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{ye(ln,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);ye(ln,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",v,i,15)})}I_(e,t,i){const a=Pg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=xS(),h=RS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");ye(ln,`Creating RPC '${e}' stream ${a}: ${v}`,m);const E=c.createWebChannel(v,m);this.E_(E);let _=!1,S=!1;const A=new PP({Zo:O=>{S?ye(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(_||(ye(ln,`Opening RPC '${e}' stream ${a} transport.`),E.open(),_=!0),ye(ln,`RPC '${e}' stream ${a} sending:`,O),E.send(O))},Xo:()=>E.close()}),I=(O,j,B)=>{O.listen(j,$=>{try{B($)}catch(K){setTimeout(()=>{throw K},0)}})};return I(E,Ou.EventType.OPEN,()=>{S||(ye(ln,`RPC '${e}' stream ${a} transport opened.`),A.__())}),I(E,Ou.EventType.CLOSE,()=>{S||(S=!0,ye(ln,`RPC '${e}' stream ${a} transport closed`),A.u_(),this.d_(E))}),I(E,Ou.EventType.ERROR,O=>{S||(S=!0,Go(ln,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),A.u_(new Ee(ue.UNAVAILABLE,"The operation could not be completed")))}),I(E,Ou.EventType.MESSAGE,O=>{var j;if(!S){const B=O.data[0];tt(!!B,16349);const $=B,K=($==null?void 0:$.error)||((j=$[0])===null||j===void 0?void 0:j.error);if(K){ye(ln,`RPC '${e}' stream ${a} received error:`,K);const q=K.status;let ne=function(D){const N=It[D];if(N!==void 0)return l1(N)}(q),P=K.message;ne===void 0&&(ne=ue.INTERNAL,P="Unknown error status: "+q+" with message "+K.message),S=!0,A.u_(new Ee(ne,P)),E.close()}else ye(ln,`RPC '${e}' stream ${a} received:`,B),A.c_(B)}}),I(h,AS.STAT_EVENT,O=>{O.stat===bg.PROXY?ye(ln,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===bg.NOPROXY&&ye(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(n){return new jM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="PersistentStream";class w1{constructor(e,t,i,a,l,c,h,m){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new T1(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(wi(t.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new Ee(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ye(gT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ye(gT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kP extends w1{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=$M(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?Vr(c.readTime):Ne.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=Ng(this.serializer),t.addTarget=function(l,c){let h;const m=c.target;if(h=Rg(m)?{documents:qM(l,m)}:{query:GM(l,m).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=f1(l,c.resumeToken);const p=Ig(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ne.min())>0){h.readTime=Vh(l,c.snapshotVersion.toTimestamp());const p=Ig(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=YM(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=Ng(this.serializer),t.removeTarget=e,this.Q_(t)}}class LP extends w1{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=HM(e.writeResults,e.commitTime),i=Vr(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=Ng(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>FM(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{}class jP extends UP{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,Og(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ue.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Yo(e,Og(t,i),a,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(ue.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class zP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(wi(t),this.ua=!1):ye("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class BP{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Na(this)&&(ye(Aa,"Restarting streams for network reachability change."),await async function(m){const p=Me(m);p.da.add(4),await mc(p),p.Va.set("Unknown"),p.da.delete(4),await ud(p)}(this))})}),this.Va=new zP(i,a)}}async function ud(n){if(Na(n))for(const e of n.Aa)await e(!0)}async function mc(n){for(const e of n.Aa)await e(!1)}function S1(n,e){const t=Me(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Fv(t)?$v(t):hl(t).N_()&&Bv(t,e))}function zv(n,e){const t=Me(n),i=hl(t);t.Ea.delete(e),i.N_()&&A1(t,e),t.Ea.size===0&&(i.N_()?i.k_():Na(t)&&t.Va.set("Unknown"))}function Bv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hl(n).Z_(e)}function A1(n,e){n.ma.Ke(e),hl(n).X_(e)}function $v(n){n.ma=new VM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),hl(n).start(),n.Va.ca()}function Fv(n){return Na(n)&&!hl(n).O_()&&n.Ea.size>0}function Na(n){return Me(n).da.size===0}function R1(n){n.ma=void 0}async function $P(n){n.Va.set("Online")}async function FP(n){n.Ea.forEach((e,t)=>{Bv(n,e)})}async function HP(n,e){R1(n),Fv(n)?(n.Va.Pa(e),$v(n)):n.Va.set("Unknown")}async function qP(n,e,t){if(n.Va.set("Online"),e instanceof c1&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ea.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ea.delete(h),a.ma.removeTarget(h))}(n,e)}catch(i){ye(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Lh(n,i)}else if(e instanceof yh?n.ma.Xe(e):e instanceof u1?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ne.min()))try{const i=await b1(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.ma.It(c);return h.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ea.get(p);v&&l.Ea.set(p,v.withResumeToken(m.resumeToken,c))}}),h.targetMismatches.forEach((m,p)=>{const v=l.Ea.get(m);if(!v)return;l.Ea.set(m,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),A1(l,m);const E=new ls(v.target,m,p,v.sequenceNumber);Bv(l,E)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ye(Aa,"Failed to raise snapshot:",i),await Lh(n,i)}}async function Lh(n,e,t){if(!cl(e))throw e;n.da.add(1),await mc(n),n.Va.set("Offline"),t||(t=()=>b1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Aa,"Retrying IndexedDB access"),await t(),n.da.delete(1),await ud(n)})}function x1(n,e){return e().catch(t=>Lh(n,t,e))}async function cd(n){const e=Me(n),t=bs(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Rv;for(;GP(e);)try{const a=await xP(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,KP(e,a)}catch(a){await Lh(e,a)}C1(e)&&I1(e)}function GP(n){return Na(n)&&n.Ia.length<10}function KP(n,e){n.Ia.push(e);const t=bs(n);t.N_()&&t.ea&&t.ta(e.mutations)}function C1(n){return Na(n)&&!bs(n).O_()&&n.Ia.length>0}function I1(n){bs(n).start()}async function YP(n){bs(n).ia()}async function QP(n){const e=bs(n);for(const t of n.Ia)e.ta(t.mutations)}async function XP(n,e,t){const i=n.Ia.shift(),a=Mv.from(i,e,t);await x1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await cd(n)}async function WP(n,e){e&&bs(n).ea&&await async function(i,a){if(function(c){return MM(c)&&c!==ue.ABORTED}(a.code)){const l=i.Ia.shift();bs(i).L_(),await x1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await cd(i)}}(n,e),C1(n)&&I1(n)}async function vT(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),ye(Aa,"RemoteStore received new credentials");const i=Na(t);t.da.add(3),await mc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await ud(t)}async function ZP(n,e){const t=Me(n);e?(t.da.delete(2),await ud(t)):e||(t.da.add(2),await mc(t),t.Va.set("Unknown"))}function hl(n){return n.fa||(n.fa=function(t,i,a){const l=Me(t);return l.oa(),new kP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:$P.bind(null,n),n_:FP.bind(null,n),i_:HP.bind(null,n),Y_:qP.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Fv(n)?$v(n):n.Va.set("Unknown")):(await n.fa.stop(),R1(n))})),n.fa}function bs(n){return n.ga||(n.ga=function(t,i,a){const l=Me(t);return l.oa(),new LP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:YP.bind(null,n),i_:WP.bind(null,n),na:QP.bind(null,n),ra:XP.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await cd(n)):(await n.ga.stop(),n.Ia.length>0&&(ye(Aa,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,h=new Hv(e,t,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qv(n,e){if(wi("AsyncQueue",`${e}: ${n}`),cl(n))return new Ee(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=Du(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.pa=new vt(Re.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ie(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Wo{constructor(e,t,i,a,l,c,h,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Wo(e,t,Bo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class e4{constructor(){this.queries=_T(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Me(t),l=a.queries;a.queries=_T(),l.forEach((c,h)=>{for(const m of h.Sa)m.onError(i)})})(this,new Ee(ue.ABORTED,"Firestore shutting down"))}}function _T(){return new Da(n=>XS(n),rd)}async function t4(n,e){const t=Me(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new JP,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=qv(c,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Gv(t)}async function n4(n,e){const t=Me(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function r4(n,e){const t=Me(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const h of c.Sa)h.Ma(a)&&(i=!0);c.ba=a}}i&&Gv(t)}function i4(n,e,t){const i=Me(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Gv(n){n.Ca.forEach(e=>{e.next()})}var Vg,ET;(ET=Vg||(Vg={})).xa="default",ET.Cache="cache";class s4{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.key=e}}class D1{constructor(e){this.key=e}}class a4{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.Za=WS(e),this.Xa=new Bo(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new yT,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,E)=>{const _=a.get(v),S=id(this.query,E)?E:null,A=!!_&&this.mutatedKeys.has(_.key),I=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let O=!1;_&&S?_.data.isEqual(S.data)?A!==I&&(i.track({type:3,doc:S}),O=!0):this.ru(_,S)||(i.track({type:2,doc:S}),O=!0,(m&&this.Za(S,m)>0||p&&this.Za(S,p)<0)&&(h=!0)):!_&&S?(i.track({type:0,doc:S}),O=!0):_&&!S&&(i.track({type:1,doc:_}),O=!0,(m||p)&&(h=!0)),O&&(S?(c=c.add(S),l=I?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:c,nu:i,Cs:h,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,E)=>function(S,A){const I=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:O})}};return I(S)-I(A)}(v.type,E.type)||this.Za(v.doc,E.doc)),this.iu(i),a=a!=null&&a;const h=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new Wo(this.query,e.Xa,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new yT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new D1(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new O1(i))}),t}au(e){this.Ha=e.$s,this.Ya=He();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Wo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Kv="SyncEngine";class o4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class l4{constructor(e){this.key=e,this.cu=!1}}class u4{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Da(h=>XS(h),rd),this.Pu=new Map,this.Tu=new Set,this.Iu=new vt(Re.comparator),this.Eu=new Map,this.du=new kv,this.Au={},this.Ru=new Map,this.Vu=Xo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function c4(n,e,t=!0){const i=L1(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await N1(i,e,t,!0),a}async function f4(n,e){const t=L1(n);await N1(t,e,!0,!1)}async function N1(n,e,t,i){const a=await CP(n.localStore,Pr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await h4(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&S1(n.remoteStore,a),h}async function h4(n,e,t,i,a){n.fu=(E,_,S)=>async function(I,O,j,B){let $=O.view.tu(j);$.Cs&&($=await hT(I.localStore,O.query,!1).then(({documents:P})=>O.view.tu(P,$)));const K=B&&B.targetChanges.get(O.targetId),q=B&&B.targetMismatches.get(O.targetId)!=null,ne=O.view.applyChanges($,I.isPrimaryClient,K,q);return TT(I,O.targetId,ne.ou),ne.snapshot}(n,E,_,S);const l=await hT(n.localStore,e,!0),c=new a4(e,l.$s),h=c.tu(l.documents),m=dc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(h,n.isPrimaryClient,m);TT(n,t,p.ou);const v=new o4(e,t,c);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function d4(n,e,t){const i=Me(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(c=>!rd(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Mg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&zv(i.remoteStore,a.targetId),kg(i,a.targetId)}).catch(ul)):(kg(i,a.targetId),await Mg(i.localStore,a.targetId,!0))}async function m4(n,e){const t=Me(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),zv(t.remoteStore,i.targetId))}async function p4(n,e,t){const i=T4(n);try{const a=await function(c,h){const m=Me(c),p=kt.now(),v=h.reduce((S,A)=>S.add(A.key),He());let E,_;return m.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=Si(),I=He();return m.Bs.getEntries(S,v).next(O=>{A=O,A.forEach((j,B)=>{B.isValidDocument()||(I=I.add(j))})}).next(()=>m.localDocuments.getOverlayedDocuments(S,A)).next(O=>{E=O;const j=[];for(const B of h){const $=CM(B,E.get(B.key).overlayedDocument);$!=null&&j.push(new xs(B.key,$,BS($.value.mapValue),ur.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,j,h)}).next(O=>{_=O;const j=O.applyToLocalDocumentSet(E,I);return m.documentOverlayCache.saveOverlays(S,O.batchId,j)})}).then(()=>({batchId:_.batchId,changes:JS(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,h,m){let p=c.Au[c.currentUser.toKey()];p||(p=new vt(Ue)),p=p.insert(h,m),c.Au[c.currentUser.toKey()]=p}(i,a.batchId,t),await pc(i,a.changes),await cd(i.remoteStore)}catch(a){const l=qv(a,"Failed to persist write");t.reject(l)}}async function M1(n,e){const t=Me(n);try{const i=await AP(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?tt(c.cu,14607):a.removedDocuments.size>0&&(tt(c.cu,42227),c.cu=!1))}),await pc(t,i,e)}catch(i){await ul(i)}}function bT(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,c)=>{const h=c.view.Fa(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const m=Me(c);m.onlineState=h;let p=!1;m.queries.forEach((v,E)=>{for(const _ of E.Sa)_.Fa(h)&&(p=!0)}),p&&Gv(m)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function g4(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new vt(Re.comparator);c=c.insert(l,cn.newNoDocument(l,Ne.min()));const h=He().add(l),m=new od(Ne.min(),new Map,new vt(Ue),c,h);await M1(i,m),i.Iu=i.Iu.remove(l),i.Eu.delete(e),Yv(i)}else await Mg(i.localStore,e,!1).then(()=>kg(i,e,t)).catch(ul)}async function v4(n,e){const t=Me(n),i=e.batch.batchId;try{const a=await SP(t.localStore,e);V1(t,i,null),P1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await pc(t,a)}catch(a){await ul(a)}}async function y4(n,e,t){const i=Me(n);try{const a=await function(c,h){const m=Me(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,h).next(E=>(tt(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(p,E))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,h)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(i.localStore,e);V1(i,e,t),P1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await pc(i,a)}catch(a){await ul(a)}}function P1(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function V1(n,e,t){const i=Me(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function kg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||k1(n,i)})}function k1(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(zv(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Yv(n))}function TT(n,e,t){for(const i of t)i instanceof O1?(n.du.addReference(i.key,e),_4(n,i)):i instanceof D1?(ye(Kv,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||k1(n,i.key)):Ie(19791,{pu:i})}function _4(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ye(Kv,"New document in limbo: "+t),n.Tu.add(i),Yv(n))}function Yv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Re(ht.fromString(e)),i=n.Vu.next();n.Eu.set(i,new l4(t)),n.Iu=n.Iu.insert(t,i),S1(n.remoteStore,new ls(Pr(YS(t.path)),i,"TargetPurposeLimboResolution",ed.le))}}async function pc(n,e,t){const i=Me(n),a=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((h,m)=>{c.push(i.fu(m,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const E=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(p){a.push(p);const E=Uv.Rs(m.targetId,p);l.push(E)}}))}),await Promise.all(c),i.lu.Y_(a),await async function(m,p){const v=Me(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>le.forEach(p,_=>le.forEach(_.ds,S=>v.persistence.referenceDelegate.addReference(E,_.targetId,S)).next(()=>le.forEach(_.As,S=>v.persistence.referenceDelegate.removeReference(E,_.targetId,S)))))}catch(E){if(!cl(E))throw E;ye(jv,"Failed to update sequence numbers: "+E)}for(const E of p){const _=E.targetId;if(!E.fromCache){const S=v.xs.get(_),A=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(A);v.xs=v.xs.insert(_,I)}}}(i.localStore,l))}async function E4(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){ye(Kv,"User change. New user:",e.toKey());const i=await E1(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(h=>{h.forEach(m=>{m.reject(new Ee(ue.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await pc(t,i.ks)}}function b4(n,e){const t=Me(n),i=t.Eu.get(e);if(i&&i.cu)return He().add(i.key);{let a=He();const l=t.Pu.get(e);if(!l)return a;for(const c of l){const h=t.hu.get(c);a=a.unionWith(h.view.eu)}return a}}function L1(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g4.bind(null,e),e.lu.Y_=r4.bind(null,e.eventManager),e.lu.gu=i4.bind(null,e.eventManager),e}function T4(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y4.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return wP(this.persistence,new EP,e.initialUser,this.serializer)}Su(e){return new _1(Lv.fi,this.serializer)}bu(e){return new OP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class w4 extends Uh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){tt(this.persistence.referenceDelegate instanceof kh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new sP(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new _1(i=>kh.fi(i,t),this.serializer)}}class Lg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),await ZP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new e4}()}createDatastore(e){const t=ld(e.databaseInfo.databaseId),i=function(l){return new VP(l)}(e.databaseInfo);return function(l,c,h,m){return new jP(l,c,h,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,h){return new BP(i,a,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>bT(this.syncEngine,t,0),function(){return pT.C()?new pT:new DP}())}createSyncEngine(e,t){return function(a,l,c,h,m,p,v){const E=new u4(a,l,c,h,m,p);return v&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Me(a);ye(Aa,"RemoteStore shutting down."),l.da.add(5),await mc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class A4{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=DS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ye(Ts,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ye(Ts,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=qv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Yp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Ts,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await E1(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await R4(n);ye(Ts,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>vT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>vT(e.remoteStore,a)),n._onlineComponents=e}async function R4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Ts,"Using user provided OfflineComponentProvider");try{await Yp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await Yp(n,new Uh)}}else ye(Ts,"Using default OfflineComponentProvider"),await Yp(n,new w4(void 0));return n._offlineComponents}async function U1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Ts,"Using user provided OnlineComponentProvider"),await wT(n,n._uninitializedComponentsProvider._online)):(ye(Ts,"Using default OnlineComponentProvider"),await wT(n,new Lg))),n._onlineComponents}function x4(n){return U1(n).then(e=>e.syncEngine)}async function C4(n){const e=await U1(n),t=e.eventManager;return t.onListen=c4.bind(null,e.syncEngine),t.onUnlisten=d4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m4.bind(null,e.syncEngine),t}function I4(n,e,t={}){const i=new ms;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,m,p){const v=new S4({next:_=>{v.xu(),c.enqueueAndForget(()=>n4(l,E)),_.fromCache&&m.source==="server"?p.reject(new Ee(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),E=new s4(h,v,{includeMetadataChanges:!0,Qa:!0});return t4(l,E)}(await C4(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(n,e,t){if(!t)throw new Ee(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function O4(n,e,t,i){if(e===!0&&i===!0)throw new Ee(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function AT(n){if(!Re.isDocumentKey(n))throw new Ee(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RT(n){if(Re.isDocumentKey(n))throw new Ee(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Ra(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fd(n);throw new Ee(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firestore.googleapis.com",xT=!0;class CT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B1,this.ssl=xT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:xT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rP)throw new Ee(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new MN;switch(i.type){case"firstParty":return new LN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=ST.get(t);i&&(ye("ComponentProvider","Removing Datastore"),ST.delete(t),i.terminate())}(this),Promise.resolve()}}function D4(n,e,t,i={}){var a;n=Ra(n,hd);const l=sl(e),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(Uw(`https://${m}`),jw("Firestore",!0)),c.host!==B1&&c.host!==m&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!ba(p,h)&&(n._setSettings(p),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=un.MOCK_USER;else{v=rO(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ee(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(_)}n._authCredentials=new PN(new IS(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class kn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class ps extends Ma{constructor(e,t,i){super(e,t,YS(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new Re(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Qv(n,e,...t){if(n=nn(n),z1("collection","path",e),n instanceof hd){const i=ht.fromString(e,...t);return RT(i),new ps(n,null,i)}{if(!(n instanceof kn||n instanceof ps))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return RT(i),new ps(n.firestore,null,i)}}function Pa(n,e,...t){if(n=nn(n),arguments.length===1&&(e=DS.newId()),z1("doc","path",e),n instanceof hd){const i=ht.fromString(e,...t);return AT(i),new kn(n,null,new Re(i))}{if(!(n instanceof kn||n instanceof ps))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return AT(i),new kn(n.firestore,n instanceof ps?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="AsyncQueue";class OT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new T1(this,"async_queue_retry"),this.rc=()=>{const i=Kp();i&&ye(IT,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Kp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Kp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new ms;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!cl(e))throw e;ye(IT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,wi("INTERNAL UNHANDLED ERROR: ",DT(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=Hv.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Ie(47125,{cc:DT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function DT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class gc extends hd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new OT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OT(e),this._firestoreClient=void 0,await e}}}function N4(n,e){const t=typeof n=="object"?n:Fw(),i=typeof n=="string"?n:Dh,a=dv(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=tO("firestore");l&&D4(a,...l)}return a}function $1(n){if(n._terminated)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||M4(n),n._firestoreClient}function M4(n){var e,t,i;const a=n._freezeSettings(),l=function(h,m,p,v){return new ZN(h,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,j1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new A4(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const m=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(rn.fromBase64String(e))}catch(t){throw new Ee(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=/^__.*__$/;class V4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new hc(e,this.data,t,this.fieldTransforms)}}class F1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function H1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ic:n})}}class Zv{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return jh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(H1(this.Ic)&&P4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class k4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ld(e)}bc(e,t,i,a=!1){return new Zv({Ic:e,methodName:t,wc:i,path:tn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jv(n){const e=n._freezeSettings(),t=ld(n._databaseId);return new k4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function L4(n,e,t,i,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,a);ty("Data must be an object, but it was:",c,i);const h=q1(i,c);let m,p;if(l.merge)m=new Vn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const _=Ug(e,E,t);if(!c.contains(_))throw new Ee(ue.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);K1(v,_)||v.push(_)}m=new Vn(v),p=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,p=c.fieldTransforms;return new V4(new Sn(h),m,p)}class pd extends md{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pd}}class ey extends md{_toFieldTransform(e){return new SM(e.path,new Ju)}isEqual(e){return e instanceof ey}}function U4(n,e,t,i){const a=n.bc(1,e,t);ty("Data must be an object, but it was:",a,i);const l=[],c=Sn.empty();Rs(i,(m,p)=>{const v=ny(e,m,t);p=nn(p);const E=a.mc(v);if(p instanceof pd)l.push(v);else{const _=vc(p,E);_!=null&&(l.push(v),c.set(v,_))}});const h=new Vn(l);return new F1(c,h,a.fieldTransforms)}function j4(n,e,t,i,a,l){const c=n.bc(1,e,t),h=[Ug(e,i,t)],m=[a];if(l.length%2!=0)throw new Ee(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)h.push(Ug(e,l[_])),m.push(l[_+1]);const p=[],v=Sn.empty();for(let _=h.length-1;_>=0;--_)if(!K1(p,h[_])){const S=h[_];let A=m[_];A=nn(A);const I=c.mc(S);if(A instanceof pd)p.push(S);else{const O=vc(A,I);O!=null&&(p.push(S),v.set(S,O))}}const E=new Vn(p);return new F1(v,E,c.fieldTransforms)}function z4(n,e,t,i=!1){return vc(t,n.bc(i?4:3,e))}function vc(n,e){if(G1(n=nn(n)))return ty("Unsupported field value:",e,n),q1(n,e);if(n instanceof md)return function(i,a){if(!H1(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const h of i){let m=vc(h,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=nn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=kt.fromDate(i);return{timestampValue:Vh(a.serializer,l)}}if(i instanceof kt){const l=new kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vh(a.serializer,l)}}if(i instanceof Xv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zo)return{bytesValue:f1(a.serializer,i._byteString)};if(i instanceof kn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Wv)return function(c,h){return{mapValue:{fields:{[jS]:{stringValue:zS},[Nh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.gc("VectorValues must only contain numeric values.");return Dv(h.serializer,p)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${fd(i)}`)}(n,e)}function q1(n,e){const t={};return MS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(n,(i,a)=>{const l=vc(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function G1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof Xv||n instanceof Zo||n instanceof kn||n instanceof md||n instanceof Wv)}function ty(n,e,t){if(!G1(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=fd(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function Ug(n,e,t){if((e=nn(e))instanceof dd)return e._internalPath;if(typeof e=="string")return ny(n,e);throw jh("Field path arguments must be of type string or ",n,!1,void 0,t)}const B4=new RegExp("[~\\*/\\[\\]]");function ny(n,e,t){if(e.search(B4)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dd(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new Ee(ue.INVALID_ARGUMENT,h+n+m)}function K1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $4 extends Y1{data(){return super.data()}}function gd(n,e){return typeof e=="string"?ny(n,e):e instanceof dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class Q1 extends ry{}function X1(n,e,...t){let i=[];e instanceof ry&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof iy).length,h=l.filter(m=>m instanceof vd).length;if(c>1||c>0&&h>0)throw new Ee(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class vd extends Q1{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new vd(e,t,i)}_apply(e){const t=this._parse(e);return W1(e._query,t),new Ma(e.firestore,e.converter,xg(e._query,t))}_parse(e){const t=Jv(e.firestore);return function(l,c,h,m,p,v,E){let _;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){MT(E,v);const A=[];for(const I of E)A.push(NT(m,l,I));_={arrayValue:{values:A}}}else _=NT(m,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||MT(E,v),_=z4(h,c,E,v==="in"||v==="not-in");return Ot.create(p,v,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jg(n,e,t){const i=e,a=gd("where",n);return vd._create(a,i,t)}class iy extends ry{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const h=l.getFlattenedFilters();for(const m of h)W1(c,m),c=xg(c,m)}(e._query,t),new Ma(e.firestore,e.converter,xg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sy extends Q1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sy(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zu(l,c)}(e._query,this._field,this._direction);return new Ma(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new fl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function H4(n,e="asc"){const t=e,i=gd("orderBy",n);return sy._create(i,t)}function NT(n,e,t){if(typeof(t=nn(t))=="string"){if(t==="")throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QS(e)&&t.indexOf("/")!==-1)throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!Re.isDocumentKey(i))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Kb(n,new Re(i))}if(t instanceof kn)return Kb(n,t._key);throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(t)}.`)}function MT(n,e){if(!Array.isArray(n)||n.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W1(n,e){const t=function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class q4{convertValue(e,t="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Rs(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Nh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>St(c.doubleValue));return new Wv(l)}convertGeoPoint(e){return new Xv(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=nd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const t=ys(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);tt(v1(i),9688,{name:e});const a=new Xu(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return a.isEqual(t)||wi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class K4 extends Y1{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(gd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class _h extends K4{data(e={}){return super.data(e)}}class Y4{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new sh(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _h(this._firestore,this._userDataWriter,i.key,i,new sh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const m=new _h(a._firestore,a._userDataWriter,h.doc.key,h.doc,new sh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const m=new _h(a._firestore,a._userDataWriter,h.doc.key,h.doc,new sh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:Q4(h.type),doc:m,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Q4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}class X4 extends q4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function Z1(n){n=Ra(n,Ma);const e=Ra(n.firestore,gc),t=$1(e),i=new X4(e);return F4(n._query),I4(t,n._query).then(a=>new Y4(e,i,n,a))}function yc(n,e,t,...i){n=Ra(n,kn);const a=Ra(n.firestore,gc),l=Jv(a);let c;return c=typeof(e=nn(e))=="string"||e instanceof dd?j4(l,"updateDoc",n._key,e,t,i):U4(l,"updateDoc",n._key,e),ay(a,[c.toMutation(n._key,ur.exists(!0))])}function J1(n){return ay(Ra(n.firestore,gc),[new Nv(n._key,ur.none())])}function W4(n,e){const t=Ra(n.firestore,gc),i=Pa(n),a=G4(n.converter,e);return ay(t,[L4(Jv(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,ur.exists(!1))]).then(()=>i)}function ay(n,e){return function(i,a){const l=new ms;return i.asyncQueue.enqueueAndForget(async()=>p4(await x4(i),a,l)),l.promise}($1(n),e)}function Z4(){return new ey("serverTimestamp")}(function(e,t=!0){(function(a){ll=a})(al),Ho(new Ta("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new gc(new VN(i.getProvider("auth-internal")),new UN(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(p.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),hs(Vb,kb,e),hs(Vb,kb,"esm2017")})();const J4={apiKey:"AIzaSyArURi7dCYWXLNdlvqIUZwZjfdrUrd1V08",authDomain:"todo-react-40ef5.firebaseapp.com",projectId:"todo-react-40ef5",storageBucket:"todo-react-40ef5.firebasestorage.app",messagingSenderId:"481520769068",appId:"1:481520769068:web:716a9365c0c3f2d693d989"},eA=$w(J4),zg=IN(eA),Ri=N4(eA),eV={user:null,setUser:()=>{},logout:()=>{}},Va=w.createContext(eV),tV=({children:n})=>{const[e,t]=w.useState(null);w.useEffect(()=>{const l=vD(zg,c=>{if(c){const h={id:c.uid,name:c.displayName||"User",email:c.email||"no-email",picture:c.photoURL||"",isLoggedIn:!0};localStorage.removeItem("anonymous_todos"),localStorage.setItem("user",JSON.stringify(h)),t(h)}else localStorage.removeItem("user"),t(null)});return()=>l()},[]);const a={user:e,setUser:t,logout:async()=>{try{await yD(zg)}catch(l){console.error("登出時發生錯誤",l)}}};return F.jsx(Va.Provider,{value:a,children:n})},nV=()=>{const{user:n,logout:e}=w.useContext(Va),t=il(),i=async()=>{n&&await e(),localStorage.removeItem("anonymous_todos"),t("/dashboard")};return F.jsxs("div",{className:"max-w-screen-lg mx-auto px-4 py-8",children:[F.jsxs("div",{className:"text-center mb-8",children:[F.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"待辦事項管理系統"}),F.jsx("p",{className:"text-xl text-gray-600",children:"最簡單有效的任務管理工具"})]}),F.jsxs("div",{className:"flex justify-center gap-4 mb-10",children:[F.jsx(cv,{to:"/login",className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"登入"}),F.jsx("button",{onClick:i,className:"px-6 py-3 bg-gray-200 text-gray-800 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:"不登入直接使用"})]}),F.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg shadow-md",children:[F.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"功能特點"}),F.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[F.jsx("li",{className:"text-gray-700",children:"使用 Google 帳號登入，同步您的待辦事項"}),F.jsx("li",{className:"text-gray-700",children:"創建、編輯、刪除和標記待辦事項"}),F.jsx("li",{className:"text-gray-700",children:"設置待辦事項優先級（低、中、高）"}),F.jsx("li",{className:"text-gray-700",children:"過濾顯示所有、未完成或已完成的待辦事項"}),F.jsx("li",{className:"text-gray-700",children:"按優先級或字母順序排序待辦事項"})]})]})]})},rV=()=>{const n=il(),e=async()=>{try{const t=new mi;await UD(zg,t),n("/dashboard")}catch(t){console.error("登入過程中發生錯誤",t)}};return F.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow-md",children:[F.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"登入您的帳戶"}),F.jsx("p",{className:"mb-6 text-gray-600",children:"使用您的 Google 帳號登入以同步您的待辦事項"}),F.jsx("div",{className:"w-full flex justify-center",children:F.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 rounded-md px-4 py-2 text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[F.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[F.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),F.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),F.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),F.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"使用 Google 登入"]})})]})},iV=()=>{const{user:n}=w.useContext(Va);return n?F.jsx(ov,{to:"/dashboard",replace:!0}):F.jsxs("div",{className:"max-w-md mx-auto px-4 py-16",children:[F.jsxs("div",{className:"text-center mb-8",children:[F.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"登入帳戶"}),F.jsx("p",{className:"text-gray-600",children:"使用您的 Google 帳號繼續"})]}),F.jsx(rV,{})]})},tA=typeof document<"u"?Ae.useLayoutEffect:()=>{};function sV(n){const e=w.useRef(null);return tA(()=>{e.current=n},[n]),w.useCallback((...t)=>{const i=e.current;return i==null?void 0:i(...t)},[])}const Cs=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},ga=n=>n&&"window"in n&&n.window===n?n:Cs(n).defaultView||window;function aV(n){return n!==null&&typeof n=="object"&&"nodeType"in n&&typeof n.nodeType=="number"}function oV(n){return aV(n)&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in n}let lV=!1;function oy(){return lV}function nA(n,e){if(!oy())return e&&n?n.contains(e):!1;if(!n||!e)return!1;let t=e;for(;t!==null;){if(t===n)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:oV(t)?t=t.host:t=t.parentNode}return!1}const Bg=(n=document)=>{var e;if(!oy())return n.activeElement;let t=n.activeElement;for(;t&&"shadowRoot"in t&&(!((e=t.shadowRoot)===null||e===void 0)&&e.activeElement);)t=t.shadowRoot.activeElement;return t};function rA(n){return oy()&&n.target.shadowRoot&&n.composedPath?n.composedPath()[0]:n.target}function uV(n){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>n.test(t.brand)))||n.test(window.navigator.userAgent)}function cV(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function iA(n){let e=null;return()=>(e==null&&(e=n()),e)}const fV=iA(function(){return cV(/^Mac/i)}),hV=iA(function(){return uV(/Android/i)});function sA(){let n=w.useRef(new Map),e=w.useCallback((a,l,c,h)=>{let m=h!=null&&h.once?(...p)=>{n.current.delete(c),c(...p)}:c;n.current.set(c,{type:l,eventTarget:a,fn:m,options:h}),a.addEventListener(l,m,h)},[]),t=w.useCallback((a,l,c,h)=>{var m;let p=((m=n.current.get(c))===null||m===void 0?void 0:m.fn)||c;a.removeEventListener(l,p,h),n.current.delete(c)},[]),i=w.useCallback(()=>{n.current.forEach((a,l)=>{t(a.eventTarget,a.type,l,a.options)})},[t]);return w.useEffect(()=>i,[i]),{addGlobalListener:e,removeGlobalListener:t,removeAllGlobalListeners:i}}function dV(n){return n.mozInputSource===0&&n.isTrusted?!0:hV()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function aA(n){let e=n;return e.nativeEvent=n,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function mV(n,e){Object.defineProperty(n,"target",{value:e}),Object.defineProperty(n,"currentTarget",{value:e})}function oA(n){let e=w.useRef({isFocused:!1,observer:null});tA(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let t=sV(i=>{n==null||n(i)});return w.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let a=i.target,l=c=>{if(e.current.isFocused=!1,a.disabled){let h=aA(c);t(h)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};a.addEventListener("focusout",l,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&a.disabled){var c;(c=e.current.observer)===null||c===void 0||c.disconnect();let h=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:h})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:h}))}}),e.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let pV=!1,_c=null,$g=new Set,Bu=new Map,xa=!1,Fg=!1;const gV={Tab:!0,Escape:!0};function ly(n,e){for(let t of $g)t(n,e)}function vV(n){return!(n.metaKey||!fV()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function zh(n){xa=!0,vV(n)&&(_c="keyboard",ly("keyboard",n))}function $o(n){_c="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(xa=!0,ly("pointer",n))}function lA(n){dV(n)&&(xa=!0,_c="virtual")}function uA(n){n.target===window||n.target===document||pV||!n.isTrusted||(!xa&&!Fg&&(_c="virtual",ly("virtual",n)),xa=!1,Fg=!1)}function cA(){xa=!1,Fg=!0}function Hg(n){if(typeof window>"u"||typeof document>"u"||Bu.get(ga(n)))return;const e=ga(n),t=Cs(n);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){xa=!0,i.apply(this,arguments)},t.addEventListener("keydown",zh,!0),t.addEventListener("keyup",zh,!0),t.addEventListener("click",lA,!0),e.addEventListener("focus",uA,!0),e.addEventListener("blur",cA,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",$o,!0),t.addEventListener("pointermove",$o,!0),t.addEventListener("pointerup",$o,!0)),e.addEventListener("beforeunload",()=>{fA(n)},{once:!0}),Bu.set(e,{focus:i})}const fA=(n,e)=>{const t=ga(n),i=Cs(n);e&&i.removeEventListener("DOMContentLoaded",e),Bu.has(t)&&(t.HTMLElement.prototype.focus=Bu.get(t).focus,i.removeEventListener("keydown",zh,!0),i.removeEventListener("keyup",zh,!0),i.removeEventListener("click",lA,!0),t.removeEventListener("focus",uA,!0),t.removeEventListener("blur",cA,!1),typeof PointerEvent<"u"&&(i.removeEventListener("pointerdown",$o,!0),i.removeEventListener("pointermove",$o,!0),i.removeEventListener("pointerup",$o,!0)),Bu.delete(t))};function yV(n){const e=Cs(n);let t;return e.readyState!=="loading"?Hg(n):(t=()=>{Hg(n)},e.addEventListener("DOMContentLoaded",t)),()=>fA(n,t)}typeof document<"u"&&yV();function hA(){return _c!=="pointer"}const _V=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function EV(n,e,t){let i=Cs(t==null?void 0:t.target);const a=typeof window<"u"?ga(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?ga(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?ga(t==null?void 0:t.target).HTMLElement:HTMLElement,h=typeof window<"u"?ga(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||i.activeElement instanceof a&&!_V.has(i.activeElement.type)||i.activeElement instanceof l||i.activeElement instanceof c&&i.activeElement.isContentEditable,!(n&&e==="keyboard"&&t instanceof h&&!gV[t.key])}function bV(n,e,t){Hg(),w.useEffect(()=>{let i=(a,l)=>{EV(!!(t!=null&&t.isTextInput),a,l)&&n(hA())};return $g.add(i),()=>{$g.delete(i)}},e)}function TV(n){let{isDisabled:e,onFocus:t,onBlur:i,onFocusChange:a}=n;const l=w.useCallback(m=>{if(m.target===m.currentTarget)return i&&i(m),a&&a(!1),!0},[i,a]),c=oA(l),h=w.useCallback(m=>{const p=Cs(m.target),v=p?Bg(p):Bg();m.target===m.currentTarget&&v===rA(m.nativeEvent)&&(t&&t(m),a&&a(!0),c(m))},[a,t,c]);return{focusProps:{onFocus:!e&&(t||a||i)?h:void 0,onBlur:!e&&(i||a)?l:void 0}}}function wV(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:i,onFocusWithinChange:a}=n,l=w.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:h}=sA(),m=w.useCallback(E=>{E.currentTarget.contains(E.target)&&l.current.isFocusWithin&&!E.currentTarget.contains(E.relatedTarget)&&(l.current.isFocusWithin=!1,h(),t&&t(E),a&&a(!1))},[t,a,l,h]),p=oA(m),v=w.useCallback(E=>{if(!E.currentTarget.contains(E.target))return;const _=Cs(E.target),S=Bg(_);if(!l.current.isFocusWithin&&S===rA(E.nativeEvent)){i&&i(E),a&&a(!0),l.current.isFocusWithin=!0,p(E);let A=E.currentTarget;c(_,"focus",I=>{if(l.current.isFocusWithin&&!nA(A,I.target)){let O=new _.defaultView.FocusEvent("blur",{relatedTarget:I.target});mV(O,A);let j=aA(O);m(j)}},{capture:!0})}},[i,a,p,c,m]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:v,onBlur:m}}}let qg=!1,Qp=0;function SV(){qg=!0,setTimeout(()=>{qg=!1},50)}function PT(n){n.pointerType==="touch"&&SV()}function AV(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",PT),Qp++,()=>{Qp--,!(Qp>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",PT)}}function uy(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:i,isDisabled:a}=n,[l,c]=w.useState(!1),h=w.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;w.useEffect(AV,[]);let{addGlobalListener:m,removeAllGlobalListeners:p}=sA(),{hoverProps:v,triggerHoverEnd:E}=w.useMemo(()=>{let _=(I,O)=>{if(h.pointerType=O,a||O==="touch"||h.isHovered||!I.currentTarget.contains(I.target))return;h.isHovered=!0;let j=I.currentTarget;h.target=j,m(Cs(I.target),"pointerover",B=>{h.isHovered&&h.target&&!nA(h.target,B.target)&&S(B,B.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:j,pointerType:O}),t&&t(!0),c(!0)},S=(I,O)=>{let j=h.target;h.pointerType="",h.target=null,!(O==="touch"||!h.isHovered||!j)&&(h.isHovered=!1,p(),i&&i({type:"hoverend",target:j,pointerType:O}),t&&t(!1),c(!1))},A={};return typeof PointerEvent<"u"&&(A.onPointerEnter=I=>{qg&&I.pointerType==="mouse"||_(I,I.pointerType)},A.onPointerLeave=I=>{!a&&I.currentTarget.contains(I.target)&&S(I,I.pointerType)}),{hoverProps:A,triggerHoverEnd:S}},[e,t,i,a,h,m,p]);return w.useEffect(()=>{a&&E({currentTarget:h.target},h.pointerType)},[a]),{hoverProps:v,isHovered:l}}function cy(n={}){let{autoFocus:e=!1,isTextInput:t,within:i}=n,a=w.useRef({isFocused:!1,isFocusVisible:e||hA()}),[l,c]=w.useState(!1),[h,m]=w.useState(()=>a.current.isFocused&&a.current.isFocusVisible),p=w.useCallback(()=>m(a.current.isFocused&&a.current.isFocusVisible),[]),v=w.useCallback(S=>{a.current.isFocused=S,c(S),p()},[p]);bV(S=>{a.current.isFocusVisible=S,p()},[],{isTextInput:t});let{focusProps:E}=TV({isDisabled:i,onFocusChange:v}),{focusWithinProps:_}=wV({isDisabled:!i,onFocusWithinChange:v});return{isFocused:l,isFocusVisible:h,focusProps:i?_:E}}var RV=Object.defineProperty,xV=(n,e,t)=>e in n?RV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xp=(n,e,t)=>(xV(n,typeof e!="symbol"?e+"":e,t),t);let CV=class{constructor(){Xp(this,"current",this.detect()),Xp(this,"handoffState","pending"),Xp(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ea=new CV;function dl(n){var e,t;return Ea.isServer?null:n?"ownerDocument"in n?n.ownerDocument:"current"in n?(t=(e=n.current)==null?void 0:e.ownerDocument)!=null?t:document:null:document}function dA(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Jn(){let n=[],e={addEventListener(t,i,a,l){return t.addEventListener(i,a,l),e.add(()=>t.removeEventListener(i,a,l))},requestAnimationFrame(...t){let i=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let i=setTimeout(...t);return e.add(()=>clearTimeout(i))},microTask(...t){let i={current:!0};return dA(()=>{i.current&&t[0]()}),e.add(()=>{i.current=!1})},style(t,i,a){let l=t.style.getPropertyValue(i);return Object.assign(t.style,{[i]:a}),this.add(()=>{Object.assign(t.style,{[i]:l})})},group(t){let i=Jn();return t(i),this.add(()=>i.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let i=n.indexOf(t);if(i>=0)for(let a of n.splice(i,1))a()}},dispose(){for(let t of n.splice(0))t()}};return e}function ka(){let[n]=w.useState(Jn);return w.useEffect(()=>()=>n.dispose(),[n]),n}let Ze=(n,e)=>{Ea.isServer?w.useEffect(n,e):w.useLayoutEffect(n,e)};function xi(n){let e=w.useRef(n);return Ze(()=>{e.current=n},[n]),e}let Se=function(n){let e=xi(n);return Ae.useCallback((...t)=>e.current(...t),[e])};function IV(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function OV(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function mA({disabled:n=!1}={}){let e=w.useRef(null),[t,i]=w.useState(!1),a=ka(),l=Se(()=>{e.current=null,i(!1),a.dispose()}),c=Se(h=>{if(a.dispose(),e.current===null){e.current=h.currentTarget,i(!0);{let m=dl(h.currentTarget);a.addEventListener(m,"pointerup",l,!1),a.addEventListener(m,"pointermove",p=>{if(e.current){let v=IV(p);i(OV(v,e.current.getBoundingClientRect()))}},!1),a.addEventListener(m,"pointercancel",l,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:c,onPointerUp:l,onClick:l}}}let DV=w.createContext(void 0);function yd(){return w.useContext(DV)}function Gg(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Kt(n,e,...t){if(n in e){let a=e[n];return typeof a=="function"?a(...t):a}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Kt),i}var Jo=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(Jo||{}),us=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(us||{});function Yt(){let n=MV();return w.useCallback(e=>NV({mergeRefs:n,...e}),[n])}function NV({ourProps:n,theirProps:e,slot:t,defaultTag:i,features:a,visible:l=!0,name:c,mergeRefs:h}){h=h??PV;let m=pA(e,n);if(l)return ah(m,t,i,c,h);let p=a??0;if(p&2){let{static:v=!1,...E}=m;if(v)return ah(E,t,i,c,h)}if(p&1){let{unmount:v=!0,...E}=m;return Kt(v?0:1,{0(){return null},1(){return ah({...E,hidden:!0,style:{display:"none"}},t,i,c,h)}})}return ah(m,t,i,c,h)}function ah(n,e={},t,i,a){let{as:l=t,children:c,refName:h="ref",...m}=Wp(n,["unmount","static"]),p=n.ref!==void 0?{[h]:n.ref}:{},v=typeof c=="function"?c(e):c;"className"in m&&m.className&&typeof m.className=="function"&&(m.className=m.className(e)),m["aria-labelledby"]&&m["aria-labelledby"]===m.id&&(m["aria-labelledby"]=void 0);let E={};if(e){let _=!1,S=[];for(let[A,I]of Object.entries(e))typeof I=="boolean"&&(_=!0),I===!0&&S.push(A.replace(/([A-Z])/g,O=>`-${O.toLowerCase()}`));if(_){E["data-headlessui-state"]=S.join(" ");for(let A of S)E[`data-${A}`]=""}}if(l===w.Fragment&&(Object.keys(is(m)).length>0||Object.keys(is(E)).length>0))if(!w.isValidElement(v)||Array.isArray(v)&&v.length>1){if(Object.keys(is(m)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(is(m)).concat(Object.keys(is(E))).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`))}else{let _=v.props,S=_==null?void 0:_.className,A=typeof S=="function"?(...j)=>Gg(S(...j),m.className):Gg(S,m.className),I=A?{className:A}:{},O=pA(v.props,is(Wp(m,["ref"])));for(let j in E)j in O&&delete E[j];return w.cloneElement(v,Object.assign({},O,E,p,{ref:a(VV(v),p.ref)},I))}return w.createElement(l,Object.assign({},Wp(m,["ref"]),l!==w.Fragment&&p,l!==w.Fragment&&E),v)}function MV(){let n=w.useRef([]),e=w.useCallback(t=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(t):i.current=t)},[]);return(...t)=>{if(!t.every(i=>i==null))return n.current=t,e}}function PV(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function pA(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(i[a])):e[a]=i[a];if(e.disabled||e["aria-disabled"])for(let i in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(t[i]=[a=>{var l;return(l=a==null?void 0:a.preventDefault)==null?void 0:l.call(a)}]);for(let i in t)Object.assign(e,{[i](a,...l){let c=t[i];for(let h of c){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;h(a,...l)}}});return e}function Ec(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(i[a])):e[a]=i[a];for(let i in t)Object.assign(e,{[i](...a){let l=t[i];for(let c of l)c==null||c(...a)}});return e}function Ut(n){var e;return Object.assign(w.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function is(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function Wp(n,e=[]){let t=Object.assign({},n);for(let i of e)i in t&&delete t[i];return t}function VV(n){return Ae.version.split(".")[0]>="19"?n.props.ref:n.ref}function gA(n,e,t){let[i,a]=w.useState(t),l=n!==void 0,c=w.useRef(l),h=w.useRef(!1),m=w.useRef(!1);return l&&!c.current&&!h.current?(h.current=!0,c.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&c.current&&!m.current&&(m.current=!0,c.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?n:i,Se(p=>(l||a(p),e==null?void 0:e(p)))]}function vA(n){let[e]=w.useState(n);return e}function yA(n={},e=null,t=[]){for(let[i,a]of Object.entries(n))EA(t,_A(e,i),a);return t}function _A(n,e){return n?n+"["+e+"]":e}function EA(n,e,t){if(Array.isArray(t))for(let[i,a]of t.entries())EA(n,_A(e,i.toString()),a);else t instanceof Date?n.push([e,t.toISOString()]):typeof t=="boolean"?n.push([e,t?"1":"0"]):typeof t=="string"?n.push([e,t]):typeof t=="number"?n.push([e,`${t}`]):t==null?n.push([e,""]):yA(t,e,n)}function kV(n){var e,t;let i=(e=n==null?void 0:n.form)!=null?e:n.closest("form");if(i){for(let a of i.elements)if(a!==n&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(t=i.requestSubmit)==null||t.call(i)}}let LV="span";var fy=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(fy||{});function UV(n,e){var t;let{features:i=1,...a}=n,l={ref:e,"aria-hidden":(i&2)===2?!0:(t=a["aria-hidden"])!=null?t:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Yt()({ourProps:l,theirProps:a,slot:{},defaultTag:LV,name:"Hidden"})}let bA=Ut(UV),jV=w.createContext(null);function zV({children:n}){let e=w.useContext(jV);if(!e)return Ae.createElement(Ae.Fragment,null,n);let{target:t}=e;return t?Gt.createPortal(Ae.createElement(Ae.Fragment,null,n),t):null}function TA({data:n,form:e,disabled:t,onReset:i,overrides:a}){let[l,c]=w.useState(null),h=ka();return w.useEffect(()=>{if(i&&l)return h.addEventListener(l,"reset",i)},[l,e,i]),Ae.createElement(zV,null,Ae.createElement(BV,{setForm:c,formId:e}),yA(n).map(([m,p])=>Ae.createElement(bA,{features:fy.Hidden,...is({key:m,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:t,name:m,value:p,...a})})))}function BV({setForm:n,formId:e}){return w.useEffect(()=>{if(e){let t=document.getElementById(e);t&&n(t)}},[n,e]),e?null:Ae.createElement(bA,{features:fy.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let i=t.closest("form");i&&n(i)}})}let $V=w.createContext(void 0);function hy(){return w.useContext($V)}function dy(n){return typeof n!="object"||n===null?!1:"nodeType"in n}function _d(n){return dy(n)&&"tagName"in n}function zr(n){return _d(n)&&"accessKey"in n}function va(n){return _d(n)&&"tabIndex"in n}function FV(n){return _d(n)&&"style"in n}function HV(n){return zr(n)&&n.nodeName==="IFRAME"}function Bh(n){return zr(n)&&n.nodeName==="INPUT"}function VT(n){return zr(n)&&n.nodeName==="LABEL"}function qV(n){return zr(n)&&n.nodeName==="FIELDSET"}function wA(n){return zr(n)&&n.nodeName==="LEGEND"}function GV(n){return _d(n)?n.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function SA(n){let e=n.parentElement,t=null;for(;e&&!qV(e);)wA(e)&&(t=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute("disabled"))==="";return i&&KV(t)?!1:i}function KV(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(wA(e))return!1;e=e.previousElementSibling}return!0}let AA=Symbol();function YV(n,e=!0){return Object.assign(n,{[AA]:e})}function dn(...n){let e=w.useRef(n);w.useEffect(()=>{e.current=n},[n]);let t=Se(i=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(i):a.current=i)});return n.every(i=>i==null||(i==null?void 0:i[AA]))?void 0:t}let my=w.createContext(null);my.displayName="DescriptionContext";function RA(){let n=w.useContext(my);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,RA),e}return n}function xA(){var n,e;return(e=(n=w.useContext(my))==null?void 0:n.value)!=null?e:void 0}let QV="p";function XV(n,e){let t=w.useId(),i=yd(),{id:a=`headlessui-description-${t}`,...l}=n,c=RA(),h=dn(e);Ze(()=>c.register(a),[a,c.register]);let m=i||!1,p=w.useMemo(()=>({...c.slot,disabled:m}),[c.slot,m]),v={ref:h,...c.props,id:a};return Yt()({ourProps:v,theirProps:l,slot:p,defaultTag:QV,name:c.name||"Description"})}let WV=Ut(XV);Object.assign(WV,{});var We=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(We||{});let Ed=w.createContext(null);Ed.displayName="LabelContext";function CA(){let n=w.useContext(Ed);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,CA),e}return n}function bc(n){var e,t,i;let a=(t=(e=w.useContext(Ed))==null?void 0:e.value)!=null?t:void 0;return((i=n==null?void 0:n.length)!=null?i:0)>0?[a,...n].filter(Boolean).join(" "):a}function IA({inherit:n=!1}={}){let e=bc(),[t,i]=w.useState([]),a=n?[e,...t].filter(Boolean):t;return[a.length>0?a.join(" "):void 0,w.useMemo(()=>function(l){let c=Se(m=>(i(p=>[...p,m]),()=>i(p=>{let v=p.slice(),E=v.indexOf(m);return E!==-1&&v.splice(E,1),v}))),h=w.useMemo(()=>({register:c,slot:l.slot,name:l.name,props:l.props,value:l.value}),[c,l.slot,l.name,l.props,l.value]);return Ae.createElement(Ed.Provider,{value:h},l.children)},[i])]}let ZV="label";function JV(n,e){var t;let i=w.useId(),a=CA(),l=hy(),c=yd(),{id:h=`headlessui-label-${i}`,htmlFor:m=l??((t=a.props)==null?void 0:t.htmlFor),passive:p=!1,...v}=n,E=dn(e);Ze(()=>a.register(h),[h,a.register]);let _=Se(O=>{let j=O.currentTarget;if(!(O.target!==O.currentTarget&&GV(O.target))&&(VT(j)&&O.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(O),VT(j))){let B=document.getElementById(j.htmlFor);if(B){let $=B.getAttribute("disabled");if($==="true"||$==="")return;let K=B.getAttribute("aria-disabled");if(K==="true"||K==="")return;(Bh(B)&&(B.type==="file"||B.type==="radio"||B.type==="checkbox")||B.role==="radio"||B.role==="checkbox"||B.role==="switch")&&B.click(),B.focus({preventScroll:!0})}}}),S=c||!1,A=w.useMemo(()=>({...a.slot,disabled:S}),[a.slot,S]),I={ref:E,...a.props,id:h,htmlFor:m,onClick:_};return p&&("onClick"in I&&(delete I.htmlFor,delete I.onClick),"onClick"in v&&delete v.onClick),Yt()({ourProps:I,theirProps:v,slot:A,defaultTag:m?ZV:"div",name:a.name||"Label"})}let ek=Ut(JV),OA=Object.assign(ek,{});function Oo(n,e,t){let i=t.initialDeps??[],a;function l(){var c,h,m,p;let v;t.key&&((c=t.debug)!=null&&c.call(t))&&(v=Date.now());const E=n();if(!(E.length!==i.length||E.some((A,I)=>i[I]!==A)))return a;i=E;let S;if(t.key&&((h=t.debug)!=null&&h.call(t))&&(S=Date.now()),a=e(...E),t.key&&((m=t.debug)!=null&&m.call(t))){const A=Math.round((Date.now()-v)*100)/100,I=Math.round((Date.now()-S)*100)/100,O=I/16,j=(B,$)=>{for(B=String(B);B.length<$;)B=" "+B;return B};console.info(`%c⏱ ${j(I,5)} /${j(A,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*O,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(p=t==null?void 0:t.onChange)==null||p.call(t,a),a}return l.updateDeps=c=>{i=c},l}function kT(n,e){if(n===void 0)throw new Error("Unexpected undefined");return n}const tk=(n,e)=>Math.abs(n-e)<=1,nk=(n,e,t)=>{let i;return function(...a){n.clearTimeout(i),i=n.setTimeout(()=>e.apply(this,a),t)}},LT=n=>{const{offsetWidth:e,offsetHeight:t}=n;return{width:e,height:t}},rk=n=>n,ik=n=>{const e=Math.max(n.startIndex-n.overscan,0),t=Math.min(n.endIndex+n.overscan,n.count-1),i=[];for(let a=e;a<=t;a++)i.push(a);return i},sk=(n,e)=>{const t=n.scrollElement;if(!t)return;const i=n.targetWindow;if(!i)return;const a=c=>{const{width:h,height:m}=c;e({width:Math.round(h),height:Math.round(m)})};if(a(LT(t)),!i.ResizeObserver)return()=>{};const l=new i.ResizeObserver(c=>{const h=()=>{const m=c[0];if(m!=null&&m.borderBoxSize){const p=m.borderBoxSize[0];if(p){a({width:p.inlineSize,height:p.blockSize});return}}a(LT(t))};n.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(h):h()});return l.observe(t,{box:"border-box"}),()=>{l.unobserve(t)}},UT={passive:!0},jT=typeof window>"u"?!0:"onscrollend"in window,ak=(n,e)=>{const t=n.scrollElement;if(!t)return;const i=n.targetWindow;if(!i)return;let a=0;const l=n.options.useScrollendEvent&&jT?()=>{}:nk(i,()=>{e(a,!1)},n.options.isScrollingResetDelay),c=v=>()=>{const{horizontal:E,isRtl:_}=n.options;a=E?t.scrollLeft*(_&&-1||1):t.scrollTop,l(),e(a,v)},h=c(!0),m=c(!1);m(),t.addEventListener("scroll",h,UT);const p=n.options.useScrollendEvent&&jT;return p&&t.addEventListener("scrollend",m,UT),()=>{t.removeEventListener("scroll",h),p&&t.removeEventListener("scrollend",m)}},ok=(n,e,t)=>{if(e!=null&&e.borderBoxSize){const i=e.borderBoxSize[0];if(i)return Math.round(i[t.options.horizontal?"inlineSize":"blockSize"])}return n[t.options.horizontal?"offsetWidth":"offsetHeight"]},lk=(n,{adjustments:e=0,behavior:t},i)=>{var a,l;const c=n+e;(l=(a=i.scrollElement)==null?void 0:a.scrollTo)==null||l.call(a,{[i.options.horizontal?"left":"top"]:c,behavior:t})};class uk{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const i=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(a=>{a.forEach(l=>{const c=()=>{this._measureElement(l.target,l)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()})}));return{disconnect:()=>{var a;(a=i())==null||a.disconnect(),t=null},observe:a=>{var l;return(l=i())==null?void 0:l.observe(a,{box:"border-box"})},unobserve:a=>{var l;return(l=i())==null?void 0:l.unobserve(a)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([i,a])=>{typeof a>"u"&&delete t[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:rk,rangeExtractor:ik,onChange:()=>{},measureElement:ok,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var i,a;(a=(i=this.options).onChange)==null||a.call(i,this,t)},this.maybeNotify=Oo(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,l)=>{this.scrollAdjustments=0,this.scrollDirection=l?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=l,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,i)=>{const a=new Map,l=new Map;for(let c=i-1;c>=0;c--){const h=t[c];if(a.has(h.lane))continue;const m=l.get(h.lane);if(m==null||h.end>m.end?l.set(h.lane,h):h.end<m.end&&a.set(h.lane,!0),a.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((c,h)=>c.end===h.end?c.index-h.index:c.end-h.end)[0]:void 0},this.getMeasurementOptions=Oo(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,i,a,l,c)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:i,scrollMargin:a,getItemKey:l,enabled:c}),{key:!1}),this.getMeasurements=Oo(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:i,scrollMargin:a,getItemKey:l,enabled:c},h)=>{if(!c)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const m=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const p=this.measurementsCache.slice(0,m);for(let v=m;v<t;v++){const E=l(v),_=this.options.lanes===1?p[v-1]:this.getFurthestMeasurement(p,v),S=_?_.end+this.options.gap:i+a,A=h.get(E),I=typeof A=="number"?A:this.options.estimateSize(v),O=S+I,j=_?_.lane:v%this.options.lanes;p[v]={index:v,start:S,size:I,end:O,key:E,lane:j}}return this.measurementsCache=p,p},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Oo(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,i,a,l)=>this.range=t.length>0&&i>0?ck({measurements:t,outerSize:i,scrollOffset:a,lanes:l}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Oo(()=>{let t=null,i=null;const a=this.calculateRange();return a&&(t=a.startIndex,i=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,i]},(t,i,a,l,c)=>l===null||c===null?[]:t({startIndex:l,endIndex:c,overscan:i,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const i=this.options.indexAttribute,a=t.getAttribute(i);return a?parseInt(a,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(t,i)=>{const a=this.indexFromElement(t),l=this.measurementsCache[a];if(!l)return;const c=l.key,h=this.elementsCache.get(c);h!==t&&(h&&this.observer.unobserve(h),this.observer.observe(t),this.elementsCache.set(c,t)),t.isConnected&&this.resizeItem(a,this.options.measureElement(t,i,this))},this.resizeItem=(t,i)=>{const a=this.measurementsCache[t];if(!a)return;const l=this.itemSizeCache.get(a.key)??a.size,c=i-l;c!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,c,this):this.scrollDirection==="backward"&&a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=c,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,i)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((i,a)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(a))});return}this._measureElement(t,void 0)},this.getVirtualItems=Oo(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,i)=>{const a=[];for(let l=0,c=t.length;l<c;l++){const h=t[l],m=i[h];a.push(m)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const i=this.getMeasurements();if(i.length!==0)return kT(i[DA(0,i.length-1,a=>kT(i[a]).start,t)])},this.getOffsetForAlignment=(t,i,a=0)=>{const l=this.getSize(),c=this.getScrollOffset();i==="auto"&&(i=t>=c+l?"end":"start"),i==="center"?t+=(a-l)/2:i==="end"&&(t-=l);const h=this.getTotalSize()-l;return Math.max(Math.min(h,t),0)},this.getOffsetForIndex=(t,i="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const a=this.measurementsCache[t];if(!a)return;const l=this.getSize(),c=this.getScrollOffset();if(i==="auto")if(a.end>=c+l-this.options.scrollPaddingEnd)i="end";else if(a.start<=c+this.options.scrollPaddingStart)i="start";else return[c,i];const h=i==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(h,i,a.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:i="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,i),{adjustments:void 0,behavior:a})},this.scrollToIndex=(t,{align:i="auto",behavior:a}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const l=this.getOffsetForIndex(t,i);if(!l)return;const[c,h]=l;this._scrollToOffset(c,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const p=this.getOffsetForIndex(t,h);if(!p)return;const[v]=p,E=this.getScrollOffset();tk(v,E)||this.scrollToIndex(t,{align:h,behavior:a})}else this.scrollToIndex(t,{align:h,behavior:a})}))},this.scrollBy=(t,{behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var t;const i=this.getMeasurements();let a;if(i.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((t=i[i.length-1])==null?void 0:t.end)??0;else{const l=Array(this.options.lanes).fill(null);let c=i.length-1;for(;c>=0&&l.some(h=>h===null);){const h=i[c];l[h.lane]===null&&(l[h.lane]=h.end),c--}a=Math.max(...l.filter(h=>h!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:i,behavior:a})=>{this.options.scrollToFn(t,{behavior:a,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const DA=(n,e,t,i)=>{for(;n<=e;){const a=(n+e)/2|0,l=t(a);if(l<i)n=a+1;else if(l>i)e=a-1;else return a}return n>0?n-1:0};function ck({measurements:n,outerSize:e,scrollOffset:t,lanes:i}){const a=n.length-1,l=m=>n[m].start;if(n.length<=i)return{startIndex:0,endIndex:a};let c=DA(0,a,l,t),h=c;if(i===1)for(;h<a&&n[h].end<t+e;)h++;else if(i>1){const m=Array(i).fill(0);for(;h<a&&m.some(v=>v<t+e);){const v=n[h];m[v.lane]=v.end,h++}const p=Array(i).fill(t+e);for(;c>=0&&p.some(v=>v>=t);){const v=n[c];p[v.lane]=v.start,c--}c=Math.max(0,c-c%i),h=Math.min(a,h+(i-1-h%i))}return{startIndex:c,endIndex:h}}const zT=typeof document<"u"?w.useLayoutEffect:w.useEffect;function fk(n){const e=w.useReducer(()=>({}),{})[1],t={...n,onChange:(a,l)=>{var c;l?Gt.flushSync(e):e(),(c=n.onChange)==null||c.call(n,a,l)}},[i]=w.useState(()=>new uk(t));return i.setOptions(t),zT(()=>i._didMount(),[]),zT(()=>i._willUpdate()),i}function hk(n){return fk({observeElementRect:sk,observeElementOffset:ak,scrollToFn:lk,...n})}function dk(n,e){return n!==null&&e!==null&&typeof n=="object"&&typeof e=="object"&&"id"in n&&"id"in e?n.id===e.id:n===e}function NA(n=dk){return w.useCallback((e,t)=>{if(typeof n=="string"){let i=n;return(e==null?void 0:e[i])===(t==null?void 0:t[i])}return n(e,t)},[n])}function mk(n){if(n===null)return{width:0,height:0};let{width:e,height:t}=n.getBoundingClientRect();return{width:e,height:t}}function Kg(n,e=!1){let[t,i]=w.useReducer(()=>({}),{}),a=w.useMemo(()=>mk(n),[n,t]);return Ze(()=>{if(!n)return;let l=new ResizeObserver(i);return l.observe(n),()=>{l.disconnect()}},[n]),e?{width:`${a.width}px`,height:`${a.height}px`}:a}let MA=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};var pk=Object.defineProperty,gk=(n,e,t)=>e in n?pk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vk=(n,e,t)=>(gk(n,e+"",t),t),PA=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Wn=(n,e,t)=>(PA(n,e,"read from private field"),t?t.call(n):e.get(n)),Zp=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},BT=(n,e,t,i)=>(PA(n,e,"write to private field"),e.set(n,t),t),Or,Mu,Pu;let py=class{constructor(e){Zp(this,Or,{}),Zp(this,Mu,new MA(()=>new Set)),Zp(this,Pu,new Set),vk(this,"disposables",Jn()),BT(this,Or,e)}dispose(){this.disposables.dispose()}get state(){return Wn(this,Or)}subscribe(e,t){let i={selector:e,callback:t,current:e(Wn(this,Or))};return Wn(this,Pu).add(i),this.disposables.add(()=>{Wn(this,Pu).delete(i)})}on(e,t){return Wn(this,Mu).get(e).add(t),this.disposables.add(()=>{Wn(this,Mu).get(e).delete(t)})}send(e){let t=this.reduce(Wn(this,Or),e);if(t!==Wn(this,Or)){BT(this,Or,t);for(let i of Wn(this,Pu)){let a=i.selector(Wn(this,Or));VA(i.current,a)||(i.current=a,i.callback(a))}for(let i of Wn(this,Mu).get(e.type))i(Wn(this,Or),e)}}};Or=new WeakMap,Mu=new WeakMap,Pu=new WeakMap;function VA(n,e){return Object.is(n,e)?!0:typeof n!="object"||n===null||typeof e!="object"||e===null?!1:Array.isArray(n)&&Array.isArray(e)?n.length!==e.length?!1:Jp(n[Symbol.iterator](),e[Symbol.iterator]()):n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set?n.size!==e.size?!1:Jp(n.entries(),e.entries()):$T(n)&&$T(e)?Jp(Object.entries(n)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Jp(n,e){do{let t=n.next(),i=e.next();if(t.done&&i.done)return!0;if(t.done||i.done||!Object.is(t.value,i.value))return!1}while(!0)}function $T(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;let e=Object.getPrototypeOf(n);return e===null||Object.getPrototypeOf(e)===null}function eg(n){let[e,t]=n(),i=Jn();return(...a)=>{e(...a),i.dispose(),i.microTask(t)}}var yk=Object.defineProperty,_k=(n,e,t)=>e in n?yk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,FT=(n,e,t)=>(_k(n,typeof e!="symbol"?e+"":e,t),t),gy=(n=>(n[n.Push=0]="Push",n[n.Pop=1]="Pop",n))(gy||{});let Ek={0(n,e){let t=e.id,i=n.stack,a=n.stack.indexOf(t);if(a!==-1){let l=n.stack.slice();return l.splice(a,1),l.push(t),i=l,{...n,stack:i}}return{...n,stack:[...n.stack,t]}},1(n,e){let t=e.id,i=n.stack.indexOf(t);if(i===-1)return n;let a=n.stack.slice();return a.splice(i,1),{...n,stack:a}}},bk=class kA extends py{constructor(){super(...arguments),FT(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),FT(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new kA({stack:[]})}reduce(e,t){return Kt(t.type,Ek,e,t)}};const Tc=new MA(()=>bk.new());var tg={exports:{}},ng={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function Tk(){if(HT)return ng;HT=1;var n=Kh();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,h=n.useDebugValue;return ng.useSyncExternalStoreWithSelector=function(m,p,v,E,_){var S=a(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=c(function(){function O(q){if(!j){if(j=!0,B=q,q=E(q),_!==void 0&&A.hasValue){var ne=A.value;if(_(ne,q))return $=ne}return $=q}if(ne=$,t(B,q))return ne;var P=E(q);return _!==void 0&&_(ne,P)?(B=q,ne):(B=q,$=P)}var j=!1,B,$,K=v===void 0?null:v;return[function(){return O(p())},K===null?void 0:function(){return O(K())}]},[p,v,E,_]);var I=i(m,S[0],S[1]);return l(function(){A.hasValue=!0,A.value=I},[I]),h(I),I},ng}var qT;function wk(){return qT||(qT=1,tg.exports=Tk()),tg.exports}var Sk=wk();function st(n,e,t=VA){return Sk.useSyncExternalStoreWithSelector(Se(i=>n.subscribe(Ak,i)),Se(()=>n.state),Se(()=>n.state),Se(e),t)}function Ak(n){return n}function LA(n,e){let t=w.useId(),i=Tc.get(e),[a,l]=st(i,w.useCallback(c=>[i.selectors.isTop(c,t),i.selectors.inStack(c,t)],[i,t]));return Ze(()=>{if(n)return i.actions.push(t),()=>i.actions.pop(t)},[i,n,t]),n?l?a:!0:!1}let Yg=new Map,$u=new Map;function GT(n){var e;let t=(e=$u.get(n))!=null?e:0;return $u.set(n,t+1),t!==0?()=>KT(n):(Yg.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>KT(n))}function KT(n){var e;let t=(e=$u.get(n))!=null?e:1;if(t===1?$u.delete(n):$u.set(n,t-1),t!==1)return;let i=Yg.get(n);i&&(i["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",i["aria-hidden"]),n.inert=i.inert,Yg.delete(n))}function UA(n,{allowed:e,disallowed:t}={}){let i=LA(n,"inert-others");Ze(()=>{var a,l;if(!i)return;let c=Jn();for(let m of(a=t==null?void 0:t())!=null?a:[])m&&c.add(GT(m));let h=(l=e==null?void 0:e())!=null?l:[];for(let m of h){if(!m)continue;let p=dl(m);if(!p)continue;let v=m.parentElement;for(;v&&v!==p.body;){for(let E of v.children)h.some(_=>E.contains(_))||c.add(GT(E));v=v.parentElement}}return c.dispose},[i,e,t])}function jA(n,e,t){let i=xi(a=>{let l=a.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&t()});w.useEffect(()=>{if(!n)return;let a=e===null?null:zr(e)?e:e.current;if(!a)return;let l=Jn();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>i.current(a));c.observe(a),l.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>i.current(a));c.observe(a),l.add(()=>c.disconnect())}return()=>l.dispose()},[e,i,n])}let $h=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),Rk=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var Qg=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(Qg||{}),xk=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(xk||{}),Ck=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(Ck||{});function zA(n=document.body){return n==null?[]:Array.from(n.querySelectorAll($h)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function Ik(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(Rk)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var vy=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(vy||{});function BA(n,e=0){var t;return n===((t=dl(n))==null?void 0:t.body)?!1:Kt(e,{0(){return n.matches($h)},1(){let i=n;for(;i!==null;){if(i.matches($h))return!0;i=i.parentElement}return!1}})}var Ok=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(Ok||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Dk=["textarea","input"].join(",");function Nk(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,Dk))!=null?t:!1}function yy(n,e=t=>t){return n.slice().sort((t,i)=>{let a=e(t),l=e(i);if(a===null||l===null)return 0;let c=a.compareDocumentPosition(l);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Mk(n,e){return Pk(zA(),e,{relativeTo:n})}function Pk(n,e,{sorted:t=!0,relativeTo:i=null,skipElements:a=[]}={}){let l=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,c=Array.isArray(n)?t?yy(n):n:e&64?Ik(n):zA(n);a.length>0&&c.length>1&&(c=c.filter(S=>!a.some(A=>A!=null&&"current"in A?(A==null?void 0:A.current)===S:A===S))),i=i??l.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},v=0,E=c.length,_;do{if(v>=E||v+E<=0)return 0;let S=m+v;if(e&16)S=(S+E)%E;else{if(S<0)return 3;if(S>=E)return 1}_=c[S],_==null||_.focus(p),v+=h}while(_!==l.activeElement);return e&6&&Nk(_)&&_.select(),2}function $A(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Vk(){return/Android/gi.test(window.navigator.userAgent)}function Xg(){return $A()||Vk()}function ko(n,e,t,i){let a=xi(t);w.useEffect(()=>{if(!n)return;function l(c){a.current(c)}return document.addEventListener(e,l,i),()=>document.removeEventListener(e,l,i)},[n,e,i])}function kk(n,e,t,i){let a=xi(t);w.useEffect(()=>{if(!n)return;function l(c){a.current(c)}return window.addEventListener(e,l,i),()=>window.removeEventListener(e,l,i)},[n,e,i])}const YT=30;function FA(n,e,t){let i=xi(t),a=w.useCallback(function(h,m){if(h.defaultPrevented)return;let p=m(h);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let v=function E(_){return typeof _=="function"?E(_()):Array.isArray(_)||_ instanceof Set?_:[_]}(e);for(let E of v)if(E!==null&&(E.contains(p)||h.composed&&h.composedPath().includes(E)))return;return!BA(p,vy.Loose)&&p.tabIndex!==-1&&h.preventDefault(),i.current(h,p)},[i,e]),l=w.useRef(null);ko(n,"pointerdown",h=>{var m,p;Xg()||(l.current=((p=(m=h.composedPath)==null?void 0:m.call(h))==null?void 0:p[0])||h.target)},!0),ko(n,"pointerup",h=>{if(Xg()||!l.current)return;let m=l.current;return l.current=null,a(h,()=>m)},!0);let c=w.useRef({x:0,y:0});ko(n,"touchstart",h=>{c.current.x=h.touches[0].clientX,c.current.y=h.touches[0].clientY},!0),ko(n,"touchend",h=>{let m={x:h.changedTouches[0].clientX,y:h.changedTouches[0].clientY};if(!(Math.abs(m.x-c.current.x)>=YT||Math.abs(m.y-c.current.y)>=YT))return a(h,()=>va(h.target)?h.target:null)},!0),kk(n,"blur",h=>a(h,()=>HV(window.document.activeElement)?window.document.activeElement:null),!0)}function el(...n){return w.useMemo(()=>dl(...n),[...n])}var Lk=(n=>(n[n.Ignore=0]="Ignore",n[n.Select=1]="Select",n[n.Close=2]="Close",n))(Lk||{});const pi={Ignore:{kind:0},Select:n=>({kind:1,target:n}),Close:{kind:2}},Uk=200;function HA(n,{trigger:e,action:t,close:i,select:a}){let l=w.useRef(null);ko(n&&e!==null,"pointerdown",c=>{dy(c==null?void 0:c.target)&&e!=null&&e.contains(c.target)&&(l.current=new Date)}),ko(n&&e!==null,"pointerup",c=>{if(l.current===null||!va(c.target))return;let h=t(c),m=new Date().getTime()-l.current.getTime();switch(l.current=null,h.kind){case 0:return;case 1:{m>Uk&&(a(h.target),i());break}case 2:{i();break}}},{capture:!0})}function jk(n,e,t,i){let a=xi(t);w.useEffect(()=>{n=n??window;function l(c){a.current(c)}return n.addEventListener(e,l,i),()=>n.removeEventListener(e,l,i)},[n,e,i])}function qA(n){let e=w.useRef({value:"",selectionStart:null,selectionEnd:null});return jk(n,"blur",t=>{let i=t.target;Bh(i)&&(e.current={value:i.value,selectionStart:i.selectionStart,selectionEnd:i.selectionEnd})}),Se(()=>{if(document.activeElement!==n&&Bh(n)&&n.isConnected){if(n.focus({preventScroll:!0}),n.value!==e.current.value)n.setSelectionRange(n.value.length,n.value.length);else{let{selectionStart:t,selectionEnd:i}=e.current;t!==null&&i!==null&&n.setSelectionRange(t,i)}e.current={value:"",selectionStart:null,selectionEnd:null}}})}function GA(n,e){return w.useMemo(()=>{var t;if(n.type)return n.type;let i=(t=n.as)!=null?t:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[n.type,n.as,e])}function zk(n){return w.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}function Bk(n,e){let t=n(),i=new Set;return{getSnapshot(){return t},subscribe(a){return i.add(a),()=>i.delete(a)},dispatch(a,...l){let c=e[a].call(t,...l);c&&(t=c,i.forEach(h=>h()))}}}function $k(){let n;return{before({doc:e}){var t;let i=e.documentElement,a=(t=e.defaultView)!=null?t:window;n=Math.max(0,a.innerWidth-i.clientWidth)},after({doc:e,d:t}){let i=e.documentElement,a=Math.max(0,i.clientWidth-i.offsetWidth),l=Math.max(0,n-a);t.style(i,"paddingRight",`${l}px`)}}}function Fk(){return $A()?{before({doc:n,d:e,meta:t}){function i(a){return t.containers.flatMap(l=>l()).some(l=>l.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let h=Jn();h.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>h.dispose()))}let l=(a=window.scrollY)!=null?a:window.pageYOffset,c=null;e.addEventListener(n,"click",h=>{if(va(h.target))try{let m=h.target.closest("a");if(!m)return;let{hash:p}=new URL(m.href),v=n.querySelector(p);va(v)&&!i(v)&&(c=v)}catch{}},!0),e.addEventListener(n,"touchstart",h=>{if(va(h.target)&&FV(h.target))if(i(h.target)){let m=h.target;for(;m.parentElement&&i(m.parentElement);)m=m.parentElement;e.style(m,"overscrollBehavior","contain")}else e.style(h.target,"touchAction","none")}),e.addEventListener(n,"touchmove",h=>{if(va(h.target)){if(Bh(h.target))return;if(i(h.target)){let m=h.target;for(;m.parentElement&&m.dataset.headlessuiPortal!==""&&!(m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth);)m=m.parentElement;m.dataset.headlessuiPortal===""&&h.preventDefault()}else h.preventDefault()}},{passive:!1}),e.add(()=>{var h;let m=(h=window.scrollY)!=null?h:window.pageYOffset;l!==m&&window.scrollTo(0,l),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function Hk(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function qk(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let ya=Bk(()=>new Map,{PUSH(n,e){var t;let i=(t=this.get(n))!=null?t:{doc:n,count:0,d:Jn(),meta:new Set};return i.count++,i.meta.add(e),this.set(n,i),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let i={doc:n,d:e,meta:qk(t)},a=[Fk(),$k(),Hk()];a.forEach(({before:l})=>l==null?void 0:l(i)),a.forEach(({after:l})=>l==null?void 0:l(i))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});ya.subscribe(()=>{let n=ya.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let i=e.get(t.doc)==="hidden",a=t.count!==0;(a&&!i||!a&&i)&&ya.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&ya.dispatch("TEARDOWN",t)}});function Gk(n,e,t=()=>({containers:[]})){let i=zk(ya),a=e?i.get(e):void 0,l=a?a.count>0:!1;return Ze(()=>{if(!(!e||!n))return ya.dispatch("PUSH",e,t),()=>ya.dispatch("POP",e,t)},[n,e]),l}function KA(n,e,t=()=>[document.body]){let i=LA(n,"scroll-lock");Gk(i,e,a=>{var l;return{containers:[...(l=a.containers)!=null?l:[],t]}})}function QT(n){return[n.screenX,n.screenY]}function YA(){let n=w.useRef([-1,-1]);return{wasMoved(e){let t=QT(e);return n.current[0]===t[0]&&n.current[1]===t[1]?!1:(n.current=t,!0)},update(e){n.current=QT(e)}}}function Kk(n=0){let[e,t]=w.useState(n),i=w.useCallback(m=>t(m),[e]),a=w.useCallback(m=>t(p=>p|m),[e]),l=w.useCallback(m=>(e&m)===m,[e]),c=w.useCallback(m=>t(p=>p&~m),[t]),h=w.useCallback(m=>t(p=>p^m),[t]);return{flags:e,setFlag:i,addFlag:a,hasFlag:l,removeFlag:c,toggleFlag:h}}var Yk={},XT,WT;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((XT=process==null?void 0:Yk)==null?void 0:XT.NODE_ENV)==="test"&&typeof((WT=Element==null?void 0:Element.prototype)==null?void 0:WT.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Qk=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(Qk||{});function _y(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function Ey(n,e,t,i){let[a,l]=w.useState(t),{hasFlag:c,addFlag:h,removeFlag:m}=Kk(n&&a?3:0),p=w.useRef(!1),v=w.useRef(!1),E=ka();return Ze(()=>{var _;if(n){if(t&&l(!0),!e){t&&h(3);return}return(_=i==null?void 0:i.start)==null||_.call(i,t),Xk(e,{inFlight:p,prepare(){v.current?v.current=!1:v.current=p.current,p.current=!0,!v.current&&(t?(h(3),m(4)):(h(4),m(2)))},run(){v.current?t?(m(3),h(4)):(m(4),h(3)):t?m(1):h(1)},done(){var S;v.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(p.current=!1,m(7),t||l(!1),(S=i==null?void 0:i.end)==null||S.call(i,t))}})}},[n,t,e,E]),n?[a,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Xk(n,{prepare:e,run:t,done:i,inFlight:a}){let l=Jn();return Zk(n,{prepare:e,inFlight:a}),l.nextFrame(()=>{t(),l.requestAnimationFrame(()=>{l.add(Wk(n,i))})}),l.dispose}function Wk(n,e){var t,i;let a=Jn();if(!n)return a.dispose;let l=!1;a.add(()=>{l=!0});let c=(i=(t=n.getAnimations)==null?void 0:t.call(n).filter(h=>h instanceof CSSTransition))!=null?i:[];return c.length===0?(e(),a.dispose):(Promise.allSettled(c.map(h=>h.finished)).then(()=>{l||e()}),a.dispose)}function Zk(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let i=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=i}function Jk(n,{container:e,accept:t,walk:i}){let a=w.useRef(t),l=w.useRef(i);w.useEffect(()=>{a.current=t,l.current=i},[t,i]),Ze(()=>{if(!e||!n)return;let c=dl(e);if(!c)return;let h=a.current,m=l.current,p=Object.assign(E=>h(E),{acceptNode:h}),v=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,p,!1);for(;v.nextNode();)m(v.currentNode)},[e,n,a,l])}function ZT(n,e){let t=w.useRef([]),i=Se(n);w.useEffect(()=>{let a=[...t.current];for(let[l,c]of e.entries())if(t.current[l]!==c){let h=i(e,a);return t.current=e,h}},[i,...e])}function bd(){return typeof window<"u"}function ml(n){return QA(n)?(n.nodeName||"").toLowerCase():"#document"}function Ln(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Br(n){var e;return(e=(QA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function QA(n){return bd()?n instanceof Node||n instanceof Ln(n).Node:!1}function yn(n){return bd()?n instanceof Element||n instanceof Ln(n).Element:!1}function jr(n){return bd()?n instanceof HTMLElement||n instanceof Ln(n).HTMLElement:!1}function JT(n){return!bd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ln(n).ShadowRoot}function wc(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=fr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function eL(n){return["table","td","th"].includes(ml(n))}function Td(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function by(n){const e=Ty(),t=yn(n)?fr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function tL(n){let e=ws(n);for(;jr(e)&&!tl(e);){if(by(e))return e;if(Td(e))return null;e=ws(e)}return null}function Ty(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tl(n){return["html","body","#document"].includes(ml(n))}function fr(n){return Ln(n).getComputedStyle(n)}function wd(n){return yn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ws(n){if(ml(n)==="html")return n;const e=n.assignedSlot||n.parentNode||JT(n)&&n.host||Br(n);return JT(e)?e.host:e}function XA(n){const e=ws(n);return tl(e)?n.ownerDocument?n.ownerDocument.body:n.body:jr(e)&&wc(e)?e:XA(e)}function nc(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=XA(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),c=Ln(a);if(l){const h=Wg(c);return e.concat(c,c.visualViewport||[],wc(a)?a:[],h&&t?nc(h):[])}return e.concat(a,nc(a,[],t))}function Wg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function nL(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}const Ca=Math.min,fn=Math.max,rc=Math.round,oh=Math.floor,kr=n=>({x:n,y:n}),rL={left:"right",right:"left",bottom:"top",top:"bottom"},iL={start:"end",end:"start"};function ew(n,e,t){return fn(n,Ca(e,t))}function pl(n,e){return typeof n=="function"?n(e):n}function Ss(n){return n.split("-")[0]}function Sc(n){return n.split("-")[1]}function WA(n){return n==="x"?"y":"x"}function ZA(n){return n==="y"?"height":"width"}function yi(n){return["top","bottom"].includes(Ss(n))?"y":"x"}function JA(n){return WA(yi(n))}function sL(n,e,t){t===void 0&&(t=!1);const i=Sc(n),a=JA(n),l=ZA(a);let c=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Fh(c)),[c,Fh(c)]}function aL(n){const e=Fh(n);return[Zg(n),e,Zg(e)]}function Zg(n){return n.replace(/start|end/g,e=>iL[e])}function oL(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function lL(n,e,t,i){const a=Sc(n);let l=oL(Ss(n),t==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(Zg)))),l}function Fh(n){return n.replace(/left|right|bottom|top/g,e=>rL[e])}function uL(n){return{top:0,right:0,bottom:0,left:0,...n}}function cL(n){return typeof n!="number"?uL(n):{top:n,right:n,bottom:n,left:n}}function Hh(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function tw(n,e,t){let{reference:i,floating:a}=n;const l=yi(e),c=JA(e),h=ZA(c),m=Ss(e),p=l==="y",v=i.x+i.width/2-a.width/2,E=i.y+i.height/2-a.height/2,_=i[h]/2-a[h]/2;let S;switch(m){case"top":S={x:v,y:i.y-a.height};break;case"bottom":S={x:v,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y:E};break;case"left":S={x:i.x-a.width,y:E};break;default:S={x:i.x,y:i.y}}switch(Sc(e)){case"start":S[c]-=_*(t&&p?-1:1);break;case"end":S[c]+=_*(t&&p?-1:1);break}return S}const fL=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=t,h=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:E}=tw(p,i,m),_=i,S={},A=0;for(let I=0;I<h.length;I++){const{name:O,fn:j}=h[I],{x:B,y:$,data:K,reset:q}=await j({x:v,y:E,initialPlacement:i,placement:_,strategy:a,middlewareData:S,rects:p,platform:c,elements:{reference:n,floating:e}});v=B??v,E=$??E,S={...S,[O]:{...S[O],...K}},q&&A<=50&&(A++,typeof q=="object"&&(q.placement&&(_=q.placement),q.rects&&(p=q.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):q.rects),{x:v,y:E}=tw(p,_,m)),I=-1)}return{x:v,y:E,placement:_,strategy:a,middlewareData:S}};async function Sd(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:h,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:E="floating",altBoundary:_=!1,padding:S=0}=pl(e,n),A=cL(S),O=h[_?E==="floating"?"reference":"floating":E],j=Hh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(O)))==null||t?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:p,rootBoundary:v,strategy:m})),B=E==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),K=await(l.isElement==null?void 0:l.isElement($))?await(l.getScale==null?void 0:l.getScale($))||{x:1,y:1}:{x:1,y:1},q=Hh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:B,offsetParent:$,strategy:m}):B);return{top:(j.top-q.top+A.top)/K.y,bottom:(q.bottom-j.bottom+A.bottom)/K.y,left:(j.left-q.left+A.left)/K.x,right:(q.right-j.right+A.right)/K.x}}const hL=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:h,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:E=!0,fallbackPlacements:_,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:I=!0,...O}=pl(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const j=Ss(a),B=yi(h),$=Ss(h)===h,K=await(m.isRTL==null?void 0:m.isRTL(p.floating)),q=_||($||!I?[Fh(h)]:aL(h)),ne=A!=="none";!_&&ne&&q.push(...lL(h,I,A,K));const P=[h,...q],x=await Sd(e,O),D=[];let N=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&D.push(x[j]),E){const _e=sL(a,c,K);D.push(x[_e[0]],x[_e[1]])}if(N=[...N,{placement:a,overflows:D}],!D.every(_e=>_e<=0)){var V,U;const _e=(((V=l.flip)==null?void 0:V.index)||0)+1,he=P[_e];if(he&&(!(E==="alignment"?B!==yi(he):!1)||N.every(ee=>ee.overflows[0]>0&&yi(ee.placement)===B)))return{data:{index:_e,overflows:N},reset:{placement:he}};let z=(U=N.filter(Z=>Z.overflows[0]<=0).sort((Z,ee)=>Z.overflows[1]-ee.overflows[1])[0])==null?void 0:U.placement;if(!z)switch(S){case"bestFit":{var M;const Z=(M=N.filter(ee=>{if(ne){const pe=yi(ee.placement);return pe===B||pe==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(pe=>pe>0).reduce((pe,k)=>pe+k,0)]).sort((ee,pe)=>ee[1]-pe[1])[0])==null?void 0:M[0];Z&&(z=Z);break}case"initialPlacement":z=h;break}if(a!==z)return{reset:{placement:z}}}return{}}}};async function dL(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=Ss(t),h=Sc(t),m=yi(t)==="y",p=["left","top"].includes(c)?-1:1,v=l&&m?-1:1,E=pl(e,n);let{mainAxis:_,crossAxis:S,alignmentAxis:A}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return h&&typeof A=="number"&&(S=h==="end"?A*-1:A),m?{x:S*v,y:_*p}:{x:_*p,y:S*v}}const mL=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:c,middlewareData:h}=e,m=await dL(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:c}}}}},pL=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:h={fn:O=>{let{x:j,y:B}=O;return{x:j,y:B}}},...m}=pl(n,e),p={x:t,y:i},v=await Sd(e,m),E=yi(Ss(a)),_=WA(E);let S=p[_],A=p[E];if(l){const O=_==="y"?"top":"left",j=_==="y"?"bottom":"right",B=S+v[O],$=S-v[j];S=ew(B,S,$)}if(c){const O=E==="y"?"top":"left",j=E==="y"?"bottom":"right",B=A+v[O],$=A-v[j];A=ew(B,A,$)}const I=h.fn({...e,[_]:S,[E]:A});return{...I,data:{x:I.x-t,y:I.y-i,enabled:{[_]:l,[E]:c}}}}}},gL=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:c,elements:h}=e,{apply:m=()=>{},...p}=pl(n,e),v=await Sd(e,p),E=Ss(a),_=Sc(a),S=yi(a)==="y",{width:A,height:I}=l.floating;let O,j;E==="top"||E==="bottom"?(O=E,j=_===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(j=E,O=_==="end"?"top":"bottom");const B=I-v.top-v.bottom,$=A-v.left-v.right,K=Ca(I-v[O],B),q=Ca(A-v[j],$),ne=!e.middlewareData.shift;let P=K,x=q;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(x=$),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(P=B),ne&&!_){const N=fn(v.left,0),V=fn(v.right,0),U=fn(v.top,0),M=fn(v.bottom,0);S?x=A-2*(N!==0||V!==0?N+V:fn(v.left,v.right)):P=I-2*(U!==0||M!==0?U+M:fn(v.top,v.bottom))}await m({...e,availableWidth:x,availableHeight:P});const D=await c.getDimensions(h.floating);return A!==D.width||I!==D.height?{reset:{rects:!0}}:{}}}};function eR(n){const e=fr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=jr(n),l=a?n.offsetWidth:t,c=a?n.offsetHeight:i,h=rc(t)!==l||rc(i)!==c;return h&&(t=l,i=c),{width:t,height:i,$:h}}function wy(n){return yn(n)?n:n.contextElement}function Fo(n){const e=wy(n);if(!jr(e))return kr(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=eR(e);let c=(l?rc(t.width):t.width)/i,h=(l?rc(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const vL=kr(0);function tR(n){const e=Ln(n);return!Ty()||!e.visualViewport?vL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ln(n)?!1:e}function Ia(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=wy(n);let c=kr(1);e&&(i?yn(i)&&(c=Fo(i)):c=Fo(n));const h=yL(l,t,i)?tR(l):kr(0);let m=(a.left+h.x)/c.x,p=(a.top+h.y)/c.y,v=a.width/c.x,E=a.height/c.y;if(l){const _=Ln(l),S=i&&yn(i)?Ln(i):i;let A=_,I=Wg(A);for(;I&&i&&S!==A;){const O=Fo(I),j=I.getBoundingClientRect(),B=fr(I),$=j.left+(I.clientLeft+parseFloat(B.paddingLeft))*O.x,K=j.top+(I.clientTop+parseFloat(B.paddingTop))*O.y;m*=O.x,p*=O.y,v*=O.x,E*=O.y,m+=$,p+=K,A=Ln(I),I=Wg(A)}}return Hh({width:v,height:E,x:m,y:p})}function Sy(n,e){const t=wd(n).scrollLeft;return e?e.left+t:Ia(Br(n)).left+t}function nR(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:Sy(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function _L(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",c=Br(i),h=e?Td(e.floating):!1;if(i===c||h&&l)return t;let m={scrollLeft:0,scrollTop:0},p=kr(1);const v=kr(0),E=jr(i);if((E||!E&&!l)&&((ml(i)!=="body"||wc(c))&&(m=wd(i)),jr(i))){const S=Ia(i);p=Fo(i),v.x=S.x+i.clientLeft,v.y=S.y+i.clientTop}const _=c&&!E&&!l?nR(c,m,!0):kr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-m.scrollLeft*p.x+v.x+_.x,y:t.y*p.y-m.scrollTop*p.y+v.y+_.y}}function EL(n){return Array.from(n.getClientRects())}function bL(n){const e=Br(n),t=wd(n),i=n.ownerDocument.body,a=fn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=fn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Sy(n);const h=-t.scrollTop;return fr(i).direction==="rtl"&&(c+=fn(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:h}}function TL(n,e){const t=Ln(n),i=Br(n),a=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,h=0,m=0;if(a){l=a.width,c=a.height;const p=Ty();(!p||p&&e==="fixed")&&(h=a.offsetLeft,m=a.offsetTop)}return{width:l,height:c,x:h,y:m}}function wL(n,e){const t=Ia(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=jr(n)?Fo(n):kr(1),c=n.clientWidth*l.x,h=n.clientHeight*l.y,m=a*l.x,p=i*l.y;return{width:c,height:h,x:m,y:p}}function nw(n,e,t){let i;if(e==="viewport")i=TL(n,t);else if(e==="document")i=bL(Br(n));else if(yn(e))i=wL(e,t);else{const a=tR(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Hh(i)}function rR(n,e){const t=ws(n);return t===e||!yn(t)||tl(t)?!1:fr(t).position==="fixed"||rR(t,e)}function SL(n,e){const t=e.get(n);if(t)return t;let i=nc(n,[],!1).filter(h=>yn(h)&&ml(h)!=="body"),a=null;const l=fr(n).position==="fixed";let c=l?ws(n):n;for(;yn(c)&&!tl(c);){const h=fr(c),m=by(c);!m&&h.position==="fixed"&&(a=null),(l?!m&&!a:!m&&h.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||wc(c)&&!m&&rR(n,c))?i=i.filter(v=>v!==c):a=h,c=ws(c)}return e.set(n,i),i}function AL(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const c=[...t==="clippingAncestors"?Td(e)?[]:SL(e,this._c):[].concat(t),i],h=c[0],m=c.reduce((p,v)=>{const E=nw(e,v,a);return p.top=fn(E.top,p.top),p.right=Ca(E.right,p.right),p.bottom=Ca(E.bottom,p.bottom),p.left=fn(E.left,p.left),p},nw(e,h,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function RL(n){const{width:e,height:t}=eR(n);return{width:e,height:t}}function xL(n,e,t){const i=jr(e),a=Br(e),l=t==="fixed",c=Ia(n,!0,l,e);let h={scrollLeft:0,scrollTop:0};const m=kr(0);function p(){m.x=Sy(a)}if(i||!i&&!l)if((ml(e)!=="body"||wc(a))&&(h=wd(e)),i){const S=Ia(e,!0,l,e);m.x=S.x+e.clientLeft,m.y=S.y+e.clientTop}else a&&p();l&&!i&&a&&p();const v=a&&!i&&!l?nR(a,h):kr(0),E=c.left+h.scrollLeft-m.x-v.x,_=c.top+h.scrollTop-m.y-v.y;return{x:E,y:_,width:c.width,height:c.height}}function rg(n){return fr(n).position==="static"}function rw(n,e){if(!jr(n)||fr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Br(n)===t&&(t=t.ownerDocument.body),t}function iR(n,e){const t=Ln(n);if(Td(n))return t;if(!jr(n)){let a=ws(n);for(;a&&!tl(a);){if(yn(a)&&!rg(a))return a;a=ws(a)}return t}let i=rw(n,e);for(;i&&eL(i)&&rg(i);)i=rw(i,e);return i&&tl(i)&&rg(i)&&!by(i)?t:i||tL(n)||t}const CL=async function(n){const e=this.getOffsetParent||iR,t=this.getDimensions,i=await t(n.floating);return{reference:xL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function IL(n){return fr(n).direction==="rtl"}const OL={convertOffsetParentRelativeRectToViewportRelativeRect:_L,getDocumentElement:Br,getClippingRect:AL,getOffsetParent:iR,getElementRects:CL,getClientRects:EL,getDimensions:RL,getScale:Fo,isElement:yn,isRTL:IL};function sR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function DL(n,e){let t=null,i;const a=Br(n);function l(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function c(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),l();const p=n.getBoundingClientRect(),{left:v,top:E,width:_,height:S}=p;if(h||e(),!_||!S)return;const A=oh(E),I=oh(a.clientWidth-(v+_)),O=oh(a.clientHeight-(E+S)),j=oh(v),$={rootMargin:-A+"px "+-I+"px "+-O+"px "+-j+"px",threshold:fn(0,Ca(1,m))||1};let K=!0;function q(ne){const P=ne[0].intersectionRatio;if(P!==m){if(!K)return c();P?c(!1,P):i=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!sR(p,n.getBoundingClientRect())&&c(),K=!1}try{t=new IntersectionObserver(q,{...$,root:a.ownerDocument})}catch{t=new IntersectionObserver(q,$)}t.observe(n)}return c(!0),l}function NL(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,p=wy(n),v=a||l?[...p?nc(p):[],...nc(e)]:[];v.forEach(j=>{a&&j.addEventListener("scroll",t,{passive:!0}),l&&j.addEventListener("resize",t)});const E=p&&h?DL(p,t):null;let _=-1,S=null;c&&(S=new ResizeObserver(j=>{let[B]=j;B&&B.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var $;($=S)==null||$.observe(e)})),t()}),p&&!m&&S.observe(p),S.observe(e));let A,I=m?Ia(n):null;m&&O();function O(){const j=Ia(n);I&&!sR(I,j)&&t(),I=j,A=requestAnimationFrame(O)}return t(),()=>{var j;v.forEach(B=>{a&&B.removeEventListener("scroll",t),l&&B.removeEventListener("resize",t)}),E==null||E(),(j=S)==null||j.disconnect(),S=null,m&&cancelAnimationFrame(A)}}const ig=Sd,ML=mL,PL=pL,VL=hL,kL=gL,LL=(n,e,t)=>{const i=new Map,a={platform:OL,...t},l={...a.platform,_c:i};return fL(n,e,{...a,platform:l})};var UL=typeof document<"u",jL=function(){},Eh=UL?w.useLayoutEffect:jL;function qh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!qh(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!qh(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function aR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function iw(n,e){const t=aR(n);return Math.round(e*t)/t}function sg(n){const e=w.useRef(n);return Eh(()=>{e.current=n}),e}function zL(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:h=!0,whileElementsMounted:m,open:p}=n,[v,E]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,S]=w.useState(i);qh(_,i)||S(i);const[A,I]=w.useState(null),[O,j]=w.useState(null),B=w.useCallback(ee=>{ee!==ne.current&&(ne.current=ee,I(ee))},[]),$=w.useCallback(ee=>{ee!==P.current&&(P.current=ee,j(ee))},[]),K=l||A,q=c||O,ne=w.useRef(null),P=w.useRef(null),x=w.useRef(v),D=m!=null,N=sg(m),V=sg(a),U=sg(p),M=w.useCallback(()=>{if(!ne.current||!P.current)return;const ee={placement:e,strategy:t,middleware:_};V.current&&(ee.platform=V.current),LL(ne.current,P.current,ee).then(pe=>{const k={...pe,isPositioned:U.current!==!1};_e.current&&!qh(x.current,k)&&(x.current=k,Gt.flushSync(()=>{E(k)}))})},[_,e,t,V,U]);Eh(()=>{p===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,E(ee=>({...ee,isPositioned:!1})))},[p]);const _e=w.useRef(!1);Eh(()=>(_e.current=!0,()=>{_e.current=!1}),[]),Eh(()=>{if(K&&(ne.current=K),q&&(P.current=q),K&&q){if(N.current)return N.current(K,q,M);M()}},[K,q,M,N,D]);const he=w.useMemo(()=>({reference:ne,floating:P,setReference:B,setFloating:$}),[B,$]),z=w.useMemo(()=>({reference:K,floating:q}),[K,q]),Z=w.useMemo(()=>{const ee={position:t,left:0,top:0};if(!z.floating)return ee;const pe=iw(z.floating,v.x),k=iw(z.floating,v.y);return h?{...ee,transform:"translate("+pe+"px, "+k+"px)",...aR(z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:pe,top:k}},[t,h,z.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:M,refs:he,elements:z,floatingStyles:Z}),[v,M,he,z,Z])}const oR=(n,e)=>({...ML(n),options:[n,e]}),BL=(n,e)=>({...PL(n),options:[n,e]}),$L=(n,e)=>({...VL(n),options:[n,e]}),FL=(n,e)=>({...kL(n),options:[n,e]}),lR={...cg},HL=lR.useInsertionEffect,qL=HL||(n=>n());function uR(n){const e=w.useRef(()=>{});return qL(()=>{e.current=n}),w.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}var Jg=typeof document<"u"?w.useLayoutEffect:w.useEffect;let sw=!1,GL=0;const aw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+GL++;function KL(){const[n,e]=w.useState(()=>sw?aw():void 0);return Jg(()=>{n==null&&e(aw())},[]),w.useEffect(()=>{sw=!0},[]),n}const YL=lR.useId,QL=YL||KL;function XL(){const n=new Map;return{emit(e,t){var i;(i=n.get(e))==null||i.forEach(a=>a(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var i;n.set(e,((i=n.get(e))==null?void 0:i.filter(a=>a!==t))||[])}}}const WL=w.createContext(null),ZL=w.createContext(null),JL=()=>{var n;return((n=w.useContext(WL))==null?void 0:n.id)||null},e6=()=>w.useContext(ZL),t6="data-floating-ui-focusable";function n6(n){const{open:e=!1,onOpenChange:t,elements:i}=n,a=QL(),l=w.useRef({}),[c]=w.useState(()=>XL()),h=JL()!=null,[m,p]=w.useState(i.reference),v=uR((S,A,I)=>{l.current.openEvent=S?A:void 0,c.emit("openchange",{open:S,event:A,reason:I,nested:h}),t==null||t(S,A,I)}),E=w.useMemo(()=>({setPositionReference:p}),[]),_=w.useMemo(()=>({reference:m||i.reference||null,floating:i.floating||null,domReference:i.reference}),[m,i.reference,i.floating]);return w.useMemo(()=>({dataRef:l,open:e,onOpenChange:v,elements:_,events:c,floatingId:a,refs:E}),[e,v,_,c,a,E])}function r6(n){n===void 0&&(n={});const{nodeId:e}=n,t=n6({...n,elements:{reference:null,floating:null,...n.elements}}),i=n.rootContext||t,a=i.elements,[l,c]=w.useState(null),[h,m]=w.useState(null),v=(a==null?void 0:a.domReference)||l,E=w.useRef(null),_=e6();Jg(()=>{v&&(E.current=v)},[v]);const S=zL({...n,elements:{...a,...h&&{reference:h}}}),A=w.useCallback($=>{const K=yn($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),contextElement:$}:$;m(K),S.refs.setReference(K)},[S.refs]),I=w.useCallback($=>{(yn($)||$===null)&&(E.current=$,c($)),(yn(S.refs.reference.current)||S.refs.reference.current===null||$!==null&&!yn($))&&S.refs.setReference($)},[S.refs]),O=w.useMemo(()=>({...S.refs,setReference:I,setPositionReference:A,domReference:E}),[S.refs,I,A]),j=w.useMemo(()=>({...S.elements,domReference:v}),[S.elements,v]),B=w.useMemo(()=>({...S,...i,refs:O,elements:j,nodeId:e}),[S,O,j,e,i]);return Jg(()=>{i.dataRef.current.floatingContext=B;const $=_==null?void 0:_.nodesRef.current.find(K=>K.id===e);$&&($.context=B)}),w.useMemo(()=>({...S,context:B,refs:O,elements:j}),[S,O,j,B])}const ow="active",lw="selected";function ag(n,e,t){const i=new Map,a=t==="item";let l=n;if(a&&n){const{[ow]:c,[lw]:h,...m}=n;l=m}return{...t==="floating"&&{tabIndex:-1,[t6]:""},...l,...e.map(c=>{const h=c?c[t]:null;return typeof h=="function"?n?h(n):null:h}).concat(n).reduce((c,h)=>(h&&Object.entries(h).forEach(m=>{let[p,v]=m;if(!(a&&[ow,lw].includes(p)))if(p.indexOf("on")===0){if(i.has(p)||i.set(p,[]),typeof v=="function"){var E;(E=i.get(p))==null||E.push(v),c[p]=function(){for(var _,S=arguments.length,A=new Array(S),I=0;I<S;I++)A[I]=arguments[I];return(_=i.get(p))==null?void 0:_.map(O=>O(...A)).find(O=>O!==void 0)}}}else c[p]=v}),c),{})}}function i6(n){n===void 0&&(n=[]);const e=n.map(h=>h==null?void 0:h.reference),t=n.map(h=>h==null?void 0:h.floating),i=n.map(h=>h==null?void 0:h.item),a=w.useCallback(h=>ag(h,n,"reference"),e),l=w.useCallback(h=>ag(h,n,"floating"),t),c=w.useCallback(h=>ag(h,n,"item"),i);return w.useMemo(()=>({getReferenceProps:a,getFloatingProps:l,getItemProps:c}),[a,l,c])}function uw(n,e){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:e}}}}const s6=n=>({name:"inner",options:n,async fn(e){const{listRef:t,overflowRef:i,onFallbackChange:a,offset:l=0,index:c=0,minItemsVisible:h=4,referenceOverflowThreshold:m=0,scrollRef:p,...v}=pl(n,e),{rects:E,elements:{floating:_}}=e,S=t.current[c],A=(p==null?void 0:p.current)||_,I=_.clientTop||A.clientTop,O=_.clientTop!==0,j=A.clientTop!==0,B=_===A;if(!S)return{};const $={...e,...await oR(-S.offsetTop-_.clientTop-E.reference.height/2-S.offsetHeight/2-l).fn(e)},K=await ig(uw($,A.scrollHeight+I+_.clientTop),v),q=await ig($,{...v,elementContext:"reference"}),ne=fn(0,K.top),P=$.y+ne,N=(A.scrollHeight>A.clientHeight?V=>V:rc)(fn(0,A.scrollHeight+(O&&B||j?I*2:0)-ne-fn(0,K.bottom)));if(A.style.maxHeight=N+"px",A.scrollTop=ne,a){const V=A.offsetHeight<S.offsetHeight*Ca(h,t.current.length)-1||q.top>=-m||q.bottom>=-m;Gt.flushSync(()=>a(V))}return i&&(i.current=await ig(uw({...$,y:P},A.offsetHeight+I+_.clientTop),v)),{y:P}}});function a6(n,e){const{open:t,elements:i}=n,{enabled:a=!0,overflowRef:l,scrollRef:c,onChange:h}=e,m=uR(h),p=w.useRef(!1),v=w.useRef(null),E=w.useRef(null);w.useEffect(()=>{if(!a)return;function S(I){if(I.ctrlKey||!A||l.current==null)return;const O=I.deltaY,j=l.current.top>=-.5,B=l.current.bottom>=-.5,$=A.scrollHeight-A.clientHeight,K=O<0?-1:1,q=O<0?"max":"min";A.scrollHeight<=A.clientHeight||(!j&&O>0||!B&&O<0?(I.preventDefault(),Gt.flushSync(()=>{m(ne=>ne+Math[q](O,$*K))})):/firefox/i.test(nL())&&(A.scrollTop+=O))}const A=(c==null?void 0:c.current)||i.floating;if(t&&A)return A.addEventListener("wheel",S),requestAnimationFrame(()=>{v.current=A.scrollTop,l.current!=null&&(E.current={...l.current})}),()=>{v.current=null,E.current=null,A.removeEventListener("wheel",S)}},[a,t,i.floating,l,c,m]);const _=w.useMemo(()=>({onKeyDown(){p.current=!0},onWheel(){p.current=!1},onPointerMove(){p.current=!1},onScroll(){const S=(c==null?void 0:c.current)||i.floating;if(!(!l.current||!S||!p.current)){if(v.current!==null){const A=S.scrollTop-v.current;(l.current.bottom<-.5&&A<-1||l.current.top<-.5&&A>1)&&Gt.flushSync(()=>m(I=>I+A))}requestAnimationFrame(()=>{v.current=S.scrollTop})}}}),[i.floating,m,l,c]);return w.useMemo(()=>a?{floating:_}:{},[a,_])}let gl=w.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});gl.displayName="FloatingContext";let Ay=w.createContext(null);Ay.displayName="PlacementContext";function cR(n){return w.useMemo(()=>n?typeof n=="string"?{to:n}:n:null,[n])}function fR(){return w.useContext(gl).setReference}function o6(){return w.useContext(gl).getReferenceProps}function hR(){let{getFloatingProps:n,slot:e}=w.useContext(gl);return w.useCallback((...t)=>Object.assign({},n(...t),{"data-anchor":e.anchor}),[n,e])}function dR(n=null){n===!1&&(n=null),typeof n=="string"&&(n={to:n});let e=w.useContext(Ay),t=w.useMemo(()=>n,[JSON.stringify(n,(a,l)=>{var c;return(c=l==null?void 0:l.outerHTML)!=null?c:l})]);Ze(()=>{e==null||e(t??null)},[e,t]);let i=w.useContext(gl);return w.useMemo(()=>[i.setFloating,n?i.styles:{}],[i.setFloating,n,i.styles])}let cw=4;function mR({children:n,enabled:e=!0}){let[t,i]=w.useState(null),[a,l]=w.useState(0),c=w.useRef(null),[h,m]=w.useState(null);l6(h);let p=e&&t!==null&&h!==null,{to:v="bottom",gap:E=0,offset:_=0,padding:S=0,inner:A}=u6(t,h),[I,O="center"]=v.split(" ");Ze(()=>{p&&l(0)},[p]);let{refs:j,floatingStyles:B,context:$}=r6({open:p,placement:I==="selection"?O==="center"?"bottom":`bottom-${O}`:O==="center"?`${I}`:`${I}-${O}`,strategy:"absolute",transform:!1,middleware:[oR({mainAxis:I==="selection"?0:E,crossAxis:_}),BL({padding:S}),I!=="selection"&&$L({padding:S}),I==="selection"&&A?s6({...A,padding:S,overflowRef:c,offset:a,minItemsVisible:cw,referenceOverflowThreshold:S,onFallbackChange(V){var U,M;if(!V)return;let _e=$.elements.floating;if(!_e)return;let he=parseFloat(getComputedStyle(_e).scrollPaddingBottom)||0,z=Math.min(cw,_e.childElementCount),Z=0,ee=0;for(let pe of(M=(U=$.elements.floating)==null?void 0:U.childNodes)!=null?M:[])if(zr(pe)){let k=pe.offsetTop,re=k+pe.clientHeight+he,fe=_e.scrollTop,se=fe+_e.clientHeight;if(k>=fe&&re<=se)z--;else{ee=Math.max(0,Math.min(re,se)-Math.max(k,fe)),Z=pe.clientHeight;break}}z>=1&&l(pe=>{let k=Z*z-ee+he;return pe>=k?pe:k})}}):null,FL({padding:S,apply({availableWidth:V,availableHeight:U,elements:M}){Object.assign(M.floating.style,{overflow:"auto",maxWidth:`${V}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${U}px)`})}})].filter(Boolean),whileElementsMounted:NL}),[K=I,q=O]=$.placement.split("-");I==="selection"&&(K="selection");let ne=w.useMemo(()=>({anchor:[K,q].filter(Boolean).join(" ")}),[K,q]),P=a6($,{overflowRef:c,onChange:l}),{getReferenceProps:x,getFloatingProps:D}=i6([P]),N=Se(V=>{m(V),j.setFloating(V)});return w.createElement(Ay.Provider,{value:i},w.createElement(gl.Provider,{value:{setFloating:N,setReference:j.setReference,styles:B,getReferenceProps:x,getFloatingProps:D,slot:ne}},n))}function l6(n){Ze(()=>{if(!n)return;let e=new MutationObserver(()=>{let t=window.getComputedStyle(n).maxHeight,i=parseFloat(t);if(isNaN(i))return;let a=parseInt(t);isNaN(a)||i!==a&&(n.style.maxHeight=`${Math.ceil(i)}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n])}function u6(n,e){var t,i,a;let l=og((t=n==null?void 0:n.gap)!=null?t:"var(--anchor-gap, 0)",e),c=og((i=n==null?void 0:n.offset)!=null?i:"var(--anchor-offset, 0)",e),h=og((a=n==null?void 0:n.padding)!=null?a:"var(--anchor-padding, 0)",e);return{...n,gap:l,offset:c,padding:h}}function og(n,e,t=void 0){let i=ka(),a=Se((m,p)=>{if(m==null)return[t,null];if(typeof m=="number")return[m,null];if(typeof m=="string"){if(!p)return[t,null];let v=fw(m,p);return[v,E=>{let _=pR(m);{let S=_.map(A=>window.getComputedStyle(p).getPropertyValue(A));i.requestAnimationFrame(function A(){i.nextFrame(A);let I=!1;for(let[j,B]of _.entries()){let $=window.getComputedStyle(p).getPropertyValue(B);if(S[j]!==$){S[j]=$,I=!0;break}}if(!I)return;let O=fw(m,p);v!==O&&(E(O),v=O)})}return i.dispose}]}return[t,null]}),l=w.useMemo(()=>a(n,e)[0],[n,e]),[c=l,h]=w.useState();return Ze(()=>{let[m,p]=a(n,e);if(h(m),!!p)return p(h)},[n,e]),c}function pR(n){let e=/var\((.*)\)/.exec(n);if(e){let t=e[1].indexOf(",");if(t===-1)return[e[1]];let i=e[1].slice(0,t).trim(),a=e[1].slice(t+1).trim();return a?[i,...pR(a)]:[i]}return[]}function fw(n,e){let t=document.createElement("div");e.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",n,"important");let i=parseFloat(window.getComputedStyle(t).marginTop)||0;return e.removeChild(t),i}function c6({children:n,freeze:e}){let t=Gh(e,n);return Ae.createElement(Ae.Fragment,null,t)}function Gh(n,e){let[t,i]=w.useState(e);return!n&&t!==e&&i(e),n?t:e}let Ry=w.createContext(null);Ry.displayName="OpenClosedContext";var _n=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(_n||{});function Ad(){return w.useContext(Ry)}function xy({value:n,children:e}){return Ae.createElement(Ry.Provider,{value:n},e)}function f6(n){function e(){document.readyState!=="loading"&&(n(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let da=[];f6(()=>{function n(e){if(!va(e.target)||e.target===document.body||da[0]===e.target)return;let t=e.target;t=t.closest($h),da.unshift(t??e.target),da=da.filter(i=>i!=null&&i.isConnected),da.splice(10)}window.addEventListener("click",n,{capture:!0}),window.addEventListener("mousedown",n,{capture:!0}),window.addEventListener("focus",n,{capture:!0}),document.body.addEventListener("click",n,{capture:!0}),document.body.addEventListener("mousedown",n,{capture:!0}),document.body.addEventListener("focus",n,{capture:!0})});function h6(n){throw new Error("Unexpected object: "+n)}var ke=(n=>(n[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing",n))(ke||{});function Lo(n,e){let t=e.resolveItems();if(t.length<=0)return null;let i=e.resolveActiveIndex(),a=i??-1;switch(n.focus){case 0:{for(let l=0;l<t.length;++l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 1:{a===-1&&(a=t.length);for(let l=a-1;l>=0;--l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 2:{for(let l=a+1;l<t.length;++l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 3:{for(let l=t.length-1;l>=0;--l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 4:{for(let l=0;l<t.length;++l)if(e.resolveId(t[l],l,t)===n.id)return l;return i}case 5:return null;default:h6(n)}}var Cy=(n=>(n[n.Left=0]="Left",n[n.Right=2]="Right",n))(Cy||{});function Iy(n){let e=Se(n),t=w.useRef(!1);w.useEffect(()=>(t.current=!1,()=>{t.current=!0,dA(()=>{t.current&&e()})}),[e])}function d6(){let n=typeof document>"u";return"useSyncExternalStore"in cg?(e=>e.useSyncExternalStore)(cg)(()=>()=>{},()=>!1,()=>!n):!1}function Oy(){let n=d6(),[e,t]=w.useState(Ea.isHandoffComplete);return e&&Ea.isHandoffComplete===!1&&t(!1),w.useEffect(()=>{e!==!0&&t(!0)},[e]),w.useEffect(()=>Ea.handoff(),[]),n?!1:e}let m6=w.createContext(!1);function p6(){return w.useContext(m6)}function g6(n){let e=p6(),t=w.useContext(vR),[i,a]=w.useState(()=>{var l;if(!e&&t!==null)return(l=t.current)!=null?l:null;if(Ea.isServer)return null;let c=n==null?void 0:n.getElementById("headlessui-portal-root");if(c)return c;if(n===null)return null;let h=n.createElement("div");return h.setAttribute("id","headlessui-portal-root"),n.body.appendChild(h)});return w.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),w.useEffect(()=>{e||t!==null&&a(t.current)},[t,a,e]),i}let gR=w.Fragment,v6=Ut(function(n,e){let{ownerDocument:t=null,...i}=n,a=w.useRef(null),l=dn(YV(S=>{a.current=S}),e),c=el(a),h=t??c,m=g6(h),[p]=w.useState(()=>{var S;return Ea.isServer?null:(S=h==null?void 0:h.createElement("div"))!=null?S:null}),v=w.useContext(b6),E=Oy();Ze(()=>{!m||!p||m.contains(p)||(p.setAttribute("data-headlessui-portal",""),m.appendChild(p))},[m,p]),Ze(()=>{if(p&&v)return v.register(p)},[v,p]),Iy(()=>{var S;!m||!p||(dy(p)&&m.contains(p)&&m.removeChild(p),m.childNodes.length<=0&&((S=m.parentElement)==null||S.removeChild(m)))});let _=Yt();return E?!m||!p?null:Gt.createPortal(_({ourProps:{ref:l},theirProps:i,slot:{},defaultTag:gR,name:"Portal"}),p):null});function y6(n,e){let t=dn(e),{enabled:i=!0,ownerDocument:a,...l}=n,c=Yt();return i?Ae.createElement(v6,{...l,ownerDocument:a,ref:t}):c({ourProps:{ref:t},theirProps:l,slot:{},defaultTag:gR,name:"Portal"})}let _6=w.Fragment,vR=w.createContext(null);function E6(n,e){let{target:t,...i}=n,a={ref:dn(e)},l=Yt();return Ae.createElement(vR.Provider,{value:t},l({ourProps:a,theirProps:i,defaultTag:_6,name:"Popover.Group"}))}let b6=w.createContext(null),T6=Ut(y6),w6=Ut(E6),yR=Object.assign(T6,{Group:w6});var S6=Object.defineProperty,A6=(n,e,t)=>e in n?S6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hw=(n,e,t)=>(A6(n,typeof e!="symbol"?e+"":e,t),t),qe=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(qe||{}),Pn=(n=>(n[n.Single=0]="Single",n[n.Multi=1]="Multi",n))(Pn||{}),gs=(n=>(n[n.Pointer=0]="Pointer",n[n.Focus=1]="Focus",n[n.Other=2]="Other",n))(gs||{}),_R=(n=>(n[n.OpenCombobox=0]="OpenCombobox",n[n.CloseCombobox=1]="CloseCombobox",n[n.GoToOption=2]="GoToOption",n[n.SetTyping=3]="SetTyping",n[n.RegisterOption=4]="RegisterOption",n[n.UnregisterOption=5]="UnregisterOption",n[n.DefaultToFirstOption=6]="DefaultToFirstOption",n[n.SetActivationTrigger=7]="SetActivationTrigger",n[n.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",n[n.SetInputElement=9]="SetInputElement",n[n.SetButtonElement=10]="SetButtonElement",n[n.SetOptionsElement=11]="SetOptionsElement",n))(_R||{});function lg(n,e=t=>t){let t=n.activeOptionIndex!==null?n.options[n.activeOptionIndex]:null,i=e(n.options.slice()),a=i.length>0&&i[0].dataRef.current.order!==null?i.sort((c,h)=>c.dataRef.current.order-h.dataRef.current.order):yy(i,c=>c.dataRef.current.domRef.current),l=t?a.indexOf(t):null;return l===-1&&(l=null),{options:a,activeOptionIndex:l}}let R6={1(n){var e;return(e=n.dataRef.current)!=null&&e.disabled||n.comboboxState===1?n:{...n,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(n){var e,t;if((e=n.dataRef.current)!=null&&e.disabled||n.comboboxState===0)return n;if((t=n.dataRef.current)!=null&&t.value){let i=n.dataRef.current.calculateIndex(n.dataRef.current.value);if(i!==-1)return{...n,activeOptionIndex:i,comboboxState:0,__demoMode:!1}}return{...n,comboboxState:0,__demoMode:!1}},3(n,e){return n.isTyping===e.isTyping?n:{...n,isTyping:e.isTyping}},2(n,e){var t,i,a,l;if((t=n.dataRef.current)!=null&&t.disabled||n.optionsElement&&!((i=n.dataRef.current)!=null&&i.optionsPropsRef.current.static)&&n.comboboxState===1)return n;if(n.virtual){let{options:p,disabled:v}=n.virtual,E=e.focus===ke.Specific?e.idx:Lo(e,{resolveItems:()=>p,resolveActiveIndex:()=>{var S,A;return(A=(S=n.activeOptionIndex)!=null?S:p.findIndex(I=>!v(I)))!=null?A:null},resolveDisabled:v,resolveId(){throw new Error("Function not implemented.")}}),_=(a=e.trigger)!=null?a:2;return n.activeOptionIndex===E&&n.activationTrigger===_?n:{...n,activeOptionIndex:E,activationTrigger:_,isTyping:!1,__demoMode:!1}}let c=lg(n);if(c.activeOptionIndex===null){let p=c.options.findIndex(v=>!v.dataRef.current.disabled);p!==-1&&(c.activeOptionIndex=p)}let h=e.focus===ke.Specific?e.idx:Lo(e,{resolveItems:()=>c.options,resolveActiveIndex:()=>c.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled}),m=(l=e.trigger)!=null?l:2;return n.activeOptionIndex===h&&n.activationTrigger===m?n:{...n,...c,isTyping:!1,activeOptionIndex:h,activationTrigger:m,__demoMode:!1}},4:(n,e)=>{var t,i,a,l;if((t=n.dataRef.current)!=null&&t.virtual)return{...n,options:[...n.options,e.payload]};let c=e.payload,h=lg(n,p=>(p.push(c),p));n.activeOptionIndex===null&&(a=(i=n.dataRef.current).isSelected)!=null&&a.call(i,e.payload.dataRef.current.value)&&(h.activeOptionIndex=h.options.indexOf(c));let m={...n,...h,activationTrigger:2};return(l=n.dataRef.current)!=null&&l.__demoMode&&n.dataRef.current.value===void 0&&(m.activeOptionIndex=0),m},5:(n,e)=>{var t;if((t=n.dataRef.current)!=null&&t.virtual)return{...n,options:n.options.filter(a=>a.id!==e.id)};let i=lg(n,a=>{let l=a.findIndex(c=>c.id===e.id);return l!==-1&&a.splice(l,1),a});return{...n,...i,activationTrigger:2}},6:(n,e)=>n.defaultToFirstOption===e.value?n:{...n,defaultToFirstOption:e.value},7:(n,e)=>n.activationTrigger===e.trigger?n:{...n,activationTrigger:e.trigger},8:(n,e)=>{var t,i;if(n.virtual===null)return{...n,virtual:{options:e.options,disabled:(t=e.disabled)!=null?t:()=>!1}};if(n.virtual.options===e.options&&n.virtual.disabled===e.disabled)return n;let a=n.activeOptionIndex;if(n.activeOptionIndex!==null){let l=e.options.indexOf(n.virtual.options[n.activeOptionIndex]);l!==-1?a=l:a=null}return{...n,activeOptionIndex:a,virtual:{options:e.options,disabled:(i=e.disabled)!=null?i:()=>!1}}},9:(n,e)=>n.inputElement===e.element?n:{...n,inputElement:e.element},10:(n,e)=>n.buttonElement===e.element?n:{...n,buttonElement:e.element},11:(n,e)=>n.optionsElement===e.element?n:{...n,optionsElement:e.element}};class Dy extends py{constructor(e){super(e),hw(this,"actions",{onChange:t=>{let{onChange:i,compare:a,mode:l,value:c}=this.state.dataRef.current;return Kt(l,{0:()=>i==null?void 0:i(t),1:()=>{let h=c.slice(),m=h.findIndex(p=>a(p,t));return m===-1?h.push(t):h.splice(m,1),i==null?void 0:i(h)}})},registerOption:(t,i)=>(this.send({type:4,payload:{id:t,dataRef:i}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(i.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:t})}),goToOption:(t,i)=>(this.send({type:6,value:!1}),this.send({type:2,...t,trigger:i})),setIsTyping:t=>{this.send({type:3,isTyping:t})},closeCombobox:()=>{var t,i;this.send({type:1}),this.send({type:6,value:!1}),(i=(t=this.state.dataRef.current).onClose)==null||i.call(t)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:t=>{this.send({type:7,trigger:t})},selectActiveOption:()=>{let t=this.selectors.activeOptionIndex(this.state);if(t!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[t]);else{let{dataRef:i}=this.state.options[t];this.actions.onChange(i.current.value)}this.actions.goToOption({focus:ke.Specific,idx:t})}},setInputElement:t=>{this.send({type:9,element:t})},setButtonElement:t=>{this.send({type:10,element:t})},setOptionsElement:t=>{this.send({type:11,element:t})}}),hw(this,"selectors",{activeDescendantId:t=>{var i,a;let l=this.selectors.activeOptionIndex(t);if(l!==null)return t.virtual?(a=t.options.find(c=>!c.dataRef.current.disabled&&t.dataRef.current.compare(c.dataRef.current.value,t.virtual.options[l])))==null?void 0:a.id:(i=t.options[l])==null?void 0:i.id},activeOptionIndex:t=>{if(t.defaultToFirstOption&&t.activeOptionIndex===null&&(t.virtual?t.virtual.options.length>0:t.options.length>0)){if(t.virtual){let{options:a,disabled:l}=t.virtual,c=a.findIndex(h=>{var m;return!((m=l==null?void 0:l(h))!=null&&m)});if(c!==-1)return c}let i=t.options.findIndex(a=>!a.dataRef.current.disabled);if(i!==-1)return i}return t.activeOptionIndex},activeOption:t=>{var i,a;let l=this.selectors.activeOptionIndex(t);return l===null?null:t.virtual?t.virtual.options[l??0]:(a=(i=t.options[l])==null?void 0:i.dataRef.current.value)!=null?a:null},isActive:(t,i,a)=>{var l;let c=this.selectors.activeOptionIndex(t);return c===null?!1:t.virtual?c===t.dataRef.current.calculateIndex(i):((l=t.options[c])==null?void 0:l.id)===a},shouldScrollIntoView:(t,i,a)=>!(t.virtual||t.__demoMode||t.comboboxState!==0||t.activationTrigger===0||!this.selectors.isActive(t,i,a))});{let t=this.state.id,i=Tc.get(null);this.disposables.add(i.on(gy.Push,a=>{!i.selectors.isTop(a,t)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>i.actions.push(t)),this.on(1,()=>i.actions.pop(t))}}static new({id:e,virtual:t=null,__demoMode:i=!1}){var a;return new Dy({id:e,dataRef:{current:{}},comboboxState:i?0:1,isTyping:!1,options:[],virtual:t?{options:t.options,disabled:(a=t.disabled)!=null?a:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:i})}reduce(e,t){return Kt(t.type,R6,e,t)}}const ER=w.createContext(null);function Ac(n){let e=w.useContext(ER);if(e===null){let t=new Error(`<${n} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,bR),t}return e}function bR({id:n,virtual:e=null,__demoMode:t=!1}){let i=w.useMemo(()=>Dy.new({id:n,virtual:e,__demoMode:t}),[]);return Iy(()=>i.dispose()),i}let ic=w.createContext(null);ic.displayName="ComboboxDataContext";function vl(n){let e=w.useContext(ic);if(e===null){let t=new Error(`<${n} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,vl),t}return e}let TR=w.createContext(null);function x6(n){let e=Ac("VirtualProvider"),t=vl("VirtualProvider"),{options:i}=t.virtual,a=st(e,S=>S.optionsElement),[l,c]=w.useMemo(()=>{let S=a;if(!S)return[0,0];let A=window.getComputedStyle(S);return[parseFloat(A.paddingBlockStart||A.paddingTop),parseFloat(A.paddingBlockEnd||A.paddingBottom)]},[a]),h=hk({enabled:i.length!==0,scrollPaddingStart:l,scrollPaddingEnd:c,count:i.length,estimateSize(){return 40},getScrollElement(){return e.state.optionsElement},overscan:12}),[m,p]=w.useState(0);Ze(()=>{p(S=>S+1)},[i]);let v=h.getVirtualItems(),E=st(e,S=>S.activationTrigger===gs.Pointer),_=st(e,e.selectors.activeOptionIndex);return v.length===0?null:Ae.createElement(TR.Provider,{value:h},Ae.createElement("div",{style:{position:"relative",width:"100%",height:`${h.getTotalSize()}px`},ref:S=>{S&&(E||_!==null&&i.length>_&&h.scrollToIndex(_))}},v.map(S=>{var A;return Ae.createElement(w.Fragment,{key:S.key},Ae.cloneElement((A=n.children)==null?void 0:A.call(n,{...n.slot,option:i[S.index]}),{key:`${m}-${S.key}`,"data-index":S.index,"aria-setsize":i.length,"aria-posinset":S.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${S.start}px)`,overflowAnchor:"none"}}))})))}let C6=w.Fragment;function I6(n,e){let t=w.useId(),i=yd(),{value:a,defaultValue:l,onChange:c,form:h,name:m,by:p,invalid:v=!1,disabled:E=i||!1,onClose:_,__demoMode:S=!1,multiple:A=!1,immediate:I=!1,virtual:O=null,nullable:j,...B}=n,$=vA(l),[K=A?[]:void 0,q]=gA(a,c,$),ne=bR({id:t,virtual:O,__demoMode:S}),P=w.useRef({static:!1,hold:!1}),x=NA(p),D=Se(de=>O?p===null?O.options.indexOf(de):O.options.findIndex(Pe=>x(Pe,de)):ne.state.options.findIndex(Pe=>x(Pe.dataRef.current.value,de))),N=w.useCallback(de=>Kt(M.mode,{[Pn.Multi]:()=>K.some(Pe=>x(Pe,de)),[Pn.Single]:()=>x(K,de)}),[K]),V=st(ne,de=>de.virtual),U=Se(()=>_==null?void 0:_()),M=w.useMemo(()=>({__demoMode:S,immediate:I,optionsPropsRef:P,value:K,defaultValue:$,disabled:E,invalid:v,mode:A?Pn.Multi:Pn.Single,virtual:O?V:null,onChange:q,isSelected:N,calculateIndex:D,compare:x,onClose:U}),[K,$,E,v,A,q,N,S,ne,O,V,U]);Ze(()=>{var de;O&&ne.send({type:_R.UpdateVirtualConfiguration,options:O.options,disabled:(de=O.disabled)!=null?de:null})},[O,O==null?void 0:O.options,O==null?void 0:O.disabled]),Ze(()=>{ne.state.dataRef.current=M},[M]);let[_e,he,z,Z]=st(ne,de=>[de.comboboxState,de.buttonElement,de.inputElement,de.optionsElement]),ee=Tc.get(null),pe=st(ee,w.useCallback(de=>ee.selectors.isTop(de,t),[ee,t]));FA(pe,[he,z,Z],()=>ne.actions.closeCombobox());let k=st(ne,ne.selectors.activeOptionIndex),re=st(ne,ne.selectors.activeOption),fe=w.useMemo(()=>({open:_e===qe.Open,disabled:E,invalid:v,activeIndex:k,activeOption:re,value:K}),[M,E,K,v,re,_e]),[se,ce]=IA(),Te=e===null?{}:{ref:e},ve=w.useCallback(()=>{if($!==void 0)return q==null?void 0:q($)},[q,$]),ge=Yt();return Ae.createElement(ce,{value:se,props:{htmlFor:z==null?void 0:z.id},slot:{open:_e===qe.Open,disabled:E}},Ae.createElement(mR,null,Ae.createElement(ic.Provider,{value:M},Ae.createElement(ER.Provider,{value:ne},Ae.createElement(xy,{value:Kt(_e,{[qe.Open]:_n.Open,[qe.Closed]:_n.Closed})},m!=null&&Ae.createElement(TA,{disabled:E,data:K!=null?{[m]:K}:{},form:h,onReset:ve}),ge({ourProps:Te,theirProps:B,slot:fe,defaultTag:C6,name:"Combobox"}))))))}let O6="input";function D6(n,e){var t,i;let a=Ac("Combobox.Input"),l=vl("Combobox.Input"),c=w.useId(),h=hy(),{id:m=h||`headlessui-combobox-input-${c}`,onChange:p,displayValue:v,disabled:E=l.disabled||!1,autoFocus:_=!1,type:S="text",...A}=n,[I]=st(a,ce=>[ce.inputElement]),O=w.useRef(null),j=dn(O,e,fR(),a.actions.setInputElement),B=el(I),[$,K]=st(a,ce=>[ce.comboboxState,ce.isTyping]),q=ka(),ne=Se(()=>{a.actions.onChange(null),a.state.optionsElement&&(a.state.optionsElement.scrollTop=0),a.actions.goToOption({focus:ke.Nothing})}),P=w.useMemo(()=>{var ce;return typeof v=="function"&&l.value!==void 0?(ce=v(l.value))!=null?ce:"":typeof l.value=="string"?l.value:""},[l.value,v]);ZT(([ce,Te],[ve,ge])=>{if(a.state.isTyping)return;let de=O.current;de&&((ge===qe.Open&&Te===qe.Closed||ce!==ve)&&(de.value=ce),requestAnimationFrame(()=>{if(a.state.isTyping||!de||(B==null?void 0:B.activeElement)!==de)return;let{selectionStart:Pe,selectionEnd:$e}=de;Math.abs(($e??0)-(Pe??0))===0&&Pe===0&&de.setSelectionRange(de.value.length,de.value.length)}))},[P,$,B,K]),ZT(([ce],[Te])=>{if(ce===qe.Open&&Te===qe.Closed){if(a.state.isTyping)return;let ve=O.current;if(!ve)return;let ge=ve.value,{selectionStart:de,selectionEnd:Pe,selectionDirection:$e}=ve;ve.value="",ve.value=ge,$e!==null?ve.setSelectionRange(de,Pe,$e):ve.setSelectionRange(de,Pe)}},[$]);let x=w.useRef(!1),D=Se(()=>{x.current=!0}),N=Se(()=>{q.nextFrame(()=>{x.current=!1})}),V=Se(ce=>{switch(a.actions.setIsTyping(!0),ce.key){case We.Enter:if(a.state.comboboxState!==qe.Open||x.current)return;if(ce.preventDefault(),ce.stopPropagation(),a.selectors.activeOptionIndex(a.state)===null){a.actions.closeCombobox();return}a.actions.selectActiveOption(),l.mode===Pn.Single&&a.actions.closeCombobox();break;case We.ArrowDown:return ce.preventDefault(),ce.stopPropagation(),Kt(a.state.comboboxState,{[qe.Open]:()=>a.actions.goToOption({focus:ke.Next}),[qe.Closed]:()=>a.actions.openCombobox()});case We.ArrowUp:return ce.preventDefault(),ce.stopPropagation(),Kt(a.state.comboboxState,{[qe.Open]:()=>a.actions.goToOption({focus:ke.Previous}),[qe.Closed]:()=>{Gt.flushSync(()=>a.actions.openCombobox()),l.value||a.actions.goToOption({focus:ke.Last})}});case We.Home:if(ce.shiftKey)break;return ce.preventDefault(),ce.stopPropagation(),a.actions.goToOption({focus:ke.First});case We.PageUp:return ce.preventDefault(),ce.stopPropagation(),a.actions.goToOption({focus:ke.First});case We.End:if(ce.shiftKey)break;return ce.preventDefault(),ce.stopPropagation(),a.actions.goToOption({focus:ke.Last});case We.PageDown:return ce.preventDefault(),ce.stopPropagation(),a.actions.goToOption({focus:ke.Last});case We.Escape:return a.state.comboboxState!==qe.Open?void 0:(ce.preventDefault(),a.state.optionsElement&&!l.optionsPropsRef.current.static&&ce.stopPropagation(),l.mode===Pn.Single&&l.value===null&&ne(),a.actions.closeCombobox());case We.Tab:if(a.state.comboboxState!==qe.Open)return;l.mode===Pn.Single&&a.state.activationTrigger!==gs.Focus&&a.actions.selectActiveOption(),a.actions.closeCombobox();break}}),U=Se(ce=>{p==null||p(ce),l.mode===Pn.Single&&ce.target.value===""&&ne(),a.actions.openCombobox()}),M=Se(ce=>{var Te,ve,ge;let de=(Te=ce.relatedTarget)!=null?Te:da.find(Pe=>Pe!==ce.currentTarget);if(!((ve=a.state.optionsElement)!=null&&ve.contains(de))&&!((ge=a.state.buttonElement)!=null&&ge.contains(de))&&a.state.comboboxState===qe.Open)return ce.preventDefault(),l.mode===Pn.Single&&l.value===null&&ne(),a.actions.closeCombobox()}),_e=Se(ce=>{var Te,ve,ge;let de=(Te=ce.relatedTarget)!=null?Te:da.find(Pe=>Pe!==ce.currentTarget);(ve=a.state.buttonElement)!=null&&ve.contains(de)||(ge=a.state.optionsElement)!=null&&ge.contains(de)||l.disabled||l.immediate&&a.state.comboboxState!==qe.Open&&q.microTask(()=>{Gt.flushSync(()=>a.actions.openCombobox()),a.actions.setActivationTrigger(gs.Focus)})}),he=bc(),z=xA(),{isFocused:Z,focusProps:ee}=cy({autoFocus:_}),{isHovered:pe,hoverProps:k}=uy({isDisabled:E}),re=st(a,ce=>ce.optionsElement),fe=w.useMemo(()=>({open:$===qe.Open,disabled:E,invalid:l.invalid,hover:pe,focus:Z,autofocus:_}),[l,pe,Z,_,E,l.invalid]),se=Ec({ref:j,id:m,role:"combobox",type:S,"aria-controls":re==null?void 0:re.id,"aria-expanded":$===qe.Open,"aria-activedescendant":st(a,a.selectors.activeDescendantId),"aria-labelledby":he,"aria-describedby":z,"aria-autocomplete":"list",defaultValue:(i=(t=n.defaultValue)!=null?t:l.defaultValue!==void 0?v==null?void 0:v(l.defaultValue):null)!=null?i:l.defaultValue,disabled:E||void 0,autoFocus:_,onCompositionStart:D,onCompositionEnd:N,onKeyDown:V,onChange:U,onFocus:_e,onBlur:M},ee,k);return Yt()({ourProps:se,theirProps:A,slot:fe,defaultTag:O6,name:"Combobox.Input"})}let N6="button";function M6(n,e){let t=Ac("Combobox.Button"),i=vl("Combobox.Button"),[a,l]=w.useState(null),c=dn(e,l,t.actions.setButtonElement),h=w.useId(),{id:m=`headlessui-combobox-button-${h}`,disabled:p=i.disabled||!1,autoFocus:v=!1,...E}=n,[_,S,A]=st(t,U=>[U.comboboxState,U.inputElement,U.optionsElement]),I=qA(S),O=_===qe.Open;HA(O,{trigger:a,action:w.useCallback(U=>{if(a!=null&&a.contains(U.target)||S!=null&&S.contains(U.target))return pi.Ignore;let M=U.target.closest('[role="option"]:not([data-disabled])');return zr(M)?pi.Select(M):A!=null&&A.contains(U.target)?pi.Ignore:pi.Close},[a,S,A]),close:t.actions.closeCombobox,select:t.actions.selectActiveOption});let j=Se(U=>{switch(U.key){case We.Space:case We.Enter:U.preventDefault(),U.stopPropagation(),t.state.comboboxState===qe.Closed&&Gt.flushSync(()=>t.actions.openCombobox()),I();return;case We.ArrowDown:U.preventDefault(),U.stopPropagation(),t.state.comboboxState===qe.Closed&&(Gt.flushSync(()=>t.actions.openCombobox()),t.state.dataRef.current.value||t.actions.goToOption({focus:ke.First})),I();return;case We.ArrowUp:U.preventDefault(),U.stopPropagation(),t.state.comboboxState===qe.Closed&&(Gt.flushSync(()=>t.actions.openCombobox()),t.state.dataRef.current.value||t.actions.goToOption({focus:ke.Last})),I();return;case We.Escape:if(t.state.comboboxState!==qe.Open)return;U.preventDefault(),t.state.optionsElement&&!i.optionsPropsRef.current.static&&U.stopPropagation(),Gt.flushSync(()=>t.actions.closeCombobox()),I();return;default:return}}),B=Se(U=>{U.preventDefault(),!SA(U.currentTarget)&&(U.button===Cy.Left&&(t.state.comboboxState===qe.Open?t.actions.closeCombobox():t.actions.openCombobox()),I())}),$=bc([m]),{isFocusVisible:K,focusProps:q}=cy({autoFocus:v}),{isHovered:ne,hoverProps:P}=uy({isDisabled:p}),{pressed:x,pressProps:D}=mA({disabled:p}),N=w.useMemo(()=>({open:_===qe.Open,active:x||_===qe.Open,disabled:p,invalid:i.invalid,value:i.value,hover:ne,focus:K}),[i,ne,K,x,p,_]),V=Ec({ref:c,id:m,type:GA(n,a),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":A==null?void 0:A.id,"aria-expanded":_===qe.Open,"aria-labelledby":$,disabled:p||void 0,autoFocus:v,onPointerDown:B,onKeyDown:j},q,P,D);return Yt()({ourProps:V,theirProps:E,slot:N,defaultTag:N6,name:"Combobox.Button"})}let P6="div",V6=Jo.RenderStrategy|Jo.Static;function k6(n,e){var t,i,a;let l=w.useId(),{id:c=`headlessui-combobox-options-${l}`,hold:h=!1,anchor:m,portal:p=!1,modal:v=!0,transition:E=!1,..._}=n,S=Ac("Combobox.Options"),A=vl("Combobox.Options"),I=cR(m);I&&(p=!0);let[O,j]=dR(I),[B,$]=w.useState(null),K=hR(),q=dn(e,I?O:null,S.actions.setOptionsElement,$),[ne,P,x,D,N]=st(S,$e=>[$e.comboboxState,$e.inputElement,$e.buttonElement,$e.optionsElement,$e.activationTrigger]),V=el(P||x),U=el(D),M=Ad(),[_e,he]=Ey(E,B,M!==null?(M&_n.Open)===_n.Open:ne===qe.Open);jA(_e,P,S.actions.closeCombobox);let z=A.__demoMode?!1:v&&ne===qe.Open;KA(z,U);let Z=A.__demoMode?!1:v&&ne===qe.Open;UA(Z,{allowed:w.useCallback(()=>[P,x,D],[P,x,D])}),Ze(()=>{var $e;A.optionsPropsRef.current.static=($e=n.static)!=null?$e:!1},[A.optionsPropsRef,n.static]),Ze(()=>{A.optionsPropsRef.current.hold=h},[A.optionsPropsRef,h]),Jk(ne===qe.Open,{container:D,accept($e){return $e.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:$e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk($e){$e.setAttribute("role","none")}});let ee=bc([x==null?void 0:x.id]),pe=w.useMemo(()=>({open:ne===qe.Open,option:void 0}),[ne]),k=Se(()=>{S.actions.setActivationTrigger(gs.Pointer)}),re=Se($e=>{$e.preventDefault(),S.actions.setActivationTrigger(gs.Pointer)}),fe=Ec(I?K():{},{"aria-labelledby":ee,role:"listbox","aria-multiselectable":A.mode===Pn.Multi?!0:void 0,id:c,ref:q,style:{..._.style,...j,"--input-width":Kg(P,!0).width,"--button-width":Kg(x,!0).width},onWheel:N===gs.Pointer?void 0:k,onMouseDown:re,..._y(he)}),se=_e&&ne===qe.Closed,ce=Gh(se,(t=A.virtual)==null?void 0:t.options),Te=Gh(se,A.value),ve=Se($e=>A.compare(Te,$e)),ge=w.useMemo(()=>{if(!A.virtual)return A;if(ce===void 0)throw new Error("Missing `options` in virtual mode");return ce!==A.virtual.options?{...A,virtual:{...A.virtual,options:ce}}:A},[A,ce,(i=A.virtual)==null?void 0:i.options]);A.virtual&&Object.assign(_,{children:Ae.createElement(ic.Provider,{value:ge},Ae.createElement(x6,{slot:pe},_.children))});let de=Yt(),Pe=w.useMemo(()=>A.mode===Pn.Multi?A:{...A,isSelected:ve},[A,ve]);return Ae.createElement(yR,{enabled:p?n.static||_e:!1,ownerDocument:V},Ae.createElement(ic.Provider,{value:Pe},de({ourProps:fe,theirProps:{..._,children:Ae.createElement(c6,{freeze:se},typeof _.children=="function"?(a=_.children)==null?void 0:a.call(_,pe):_.children)},slot:pe,defaultTag:P6,features:V6,visible:_e,name:"Combobox.Options"})))}let L6="div";function U6(n,e){var t,i,a;let l=vl("Combobox.Option"),c=Ac("Combobox.Option"),h=w.useId(),{id:m=`headlessui-combobox-option-${h}`,value:p,disabled:v=(a=(i=(t=l.virtual)==null?void 0:t.disabled)==null?void 0:i.call(t,p))!=null?a:!1,order:E=null,..._}=n,[S]=st(c,he=>[he.inputElement]),A=qA(S),I=st(c,w.useCallback(he=>c.selectors.isActive(he,p,m),[p,m])),O=l.isSelected(p),j=w.useRef(null),B=xi({disabled:v,value:p,domRef:j,order:E}),$=w.useContext(TR),K=dn(e,j,$?$.measureElement:null),q=Se(()=>{c.actions.setIsTyping(!1),c.actions.onChange(p)});Ze(()=>c.actions.registerOption(m,B),[B,m]);let ne=st(c,w.useCallback(he=>c.selectors.shouldScrollIntoView(he,p,m),[p,m]));Ze(()=>{if(ne)return Jn().requestAnimationFrame(()=>{var he,z;(z=(he=j.current)==null?void 0:he.scrollIntoView)==null||z.call(he,{block:"nearest"})})},[ne,j]);let P=Se(he=>{he.preventDefault(),he.button===Cy.Left&&(v||(q(),Xg()||requestAnimationFrame(()=>A()),l.mode===Pn.Single&&c.actions.closeCombobox()))}),x=Se(()=>{if(v)return c.actions.goToOption({focus:ke.Nothing});let he=l.calculateIndex(p);c.actions.goToOption({focus:ke.Specific,idx:he})}),D=YA(),N=Se(he=>D.update(he)),V=Se(he=>{if(!D.wasMoved(he)||v||I)return;let z=l.calculateIndex(p);c.actions.goToOption({focus:ke.Specific,idx:z},gs.Pointer)}),U=Se(he=>{D.wasMoved(he)&&(v||I&&(l.optionsPropsRef.current.hold||c.actions.goToOption({focus:ke.Nothing})))}),M=w.useMemo(()=>({active:I,focus:I,selected:O,disabled:v}),[I,O,v]),_e={id:m,ref:K,role:"option",tabIndex:v===!0?void 0:-1,"aria-disabled":v===!0?!0:void 0,"aria-selected":O,disabled:void 0,onMouseDown:P,onFocus:x,onPointerEnter:N,onMouseEnter:N,onPointerMove:V,onMouseMove:V,onPointerLeave:U,onMouseLeave:U};return Yt()({ourProps:_e,theirProps:_,slot:M,defaultTag:L6,name:"Combobox.Option"})}let j6=Ut(I6),z6=Ut(M6),wR=Ut(D6),B6=OA,SR=Ut(k6),AR=Ut(U6),$6=Object.assign(j6,{Input:wR,Button:z6,Label:B6,Options:SR,Option:AR});function F6(){let n=w.useRef(!1);return Ze(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function RR(n){var e;return!!(n.enter||n.enterFrom||n.enterTo||n.leave||n.leaveFrom||n.leaveTo)||((e=n.as)!=null?e:CR)!==w.Fragment||Ae.Children.count(n.children)===1}let Rd=w.createContext(null);Rd.displayName="TransitionContext";var H6=(n=>(n.Visible="visible",n.Hidden="hidden",n))(H6||{});function q6(){let n=w.useContext(Rd);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}function G6(){let n=w.useContext(xd);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}let xd=w.createContext(null);xd.displayName="NestingContext";function Cd(n){return"children"in n?Cd(n.children):n.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function xR(n,e){let t=xi(n),i=w.useRef([]),a=F6(),l=ka(),c=Se((S,A=us.Hidden)=>{let I=i.current.findIndex(({el:O})=>O===S);I!==-1&&(Kt(A,{[us.Unmount](){i.current.splice(I,1)},[us.Hidden](){i.current[I].state="hidden"}}),l.microTask(()=>{var O;!Cd(i)&&a.current&&((O=t.current)==null||O.call(t))}))}),h=Se(S=>{let A=i.current.find(({el:I})=>I===S);return A?A.state!=="visible"&&(A.state="visible"):i.current.push({el:S,state:"visible"}),()=>c(S,us.Unmount)}),m=w.useRef([]),p=w.useRef(Promise.resolve()),v=w.useRef({enter:[],leave:[]}),E=Se((S,A,I)=>{m.current.splice(0),e&&(e.chains.current[A]=e.chains.current[A].filter(([O])=>O!==S)),e==null||e.chains.current[A].push([S,new Promise(O=>{m.current.push(O)})]),e==null||e.chains.current[A].push([S,new Promise(O=>{Promise.all(v.current[A].map(([j,B])=>B)).then(()=>O())})]),A==="enter"?p.current=p.current.then(()=>e==null?void 0:e.wait.current).then(()=>I(A)):I(A)}),_=Se((S,A,I)=>{Promise.all(v.current[A].splice(0).map(([O,j])=>j)).then(()=>{var O;(O=m.current.shift())==null||O()}).then(()=>I(A))});return w.useMemo(()=>({children:i,register:h,unregister:c,onStart:E,onStop:_,wait:p,chains:v}),[h,c,i,E,_,v,p])}let CR=w.Fragment,IR=Jo.RenderStrategy;function K6(n,e){var t,i;let{transition:a=!0,beforeEnter:l,afterEnter:c,beforeLeave:h,afterLeave:m,enter:p,enterFrom:v,enterTo:E,entered:_,leave:S,leaveFrom:A,leaveTo:I,...O}=n,[j,B]=w.useState(null),$=w.useRef(null),K=RR(n),q=dn(...K?[$,e,B]:e===null?[]:[e]),ne=(t=O.unmount)==null||t?us.Unmount:us.Hidden,{show:P,appear:x,initial:D}=q6(),[N,V]=w.useState(P?"visible":"hidden"),U=G6(),{register:M,unregister:_e}=U;Ze(()=>M($),[M,$]),Ze(()=>{if(ne===us.Hidden&&$.current){if(P&&N!=="visible"){V("visible");return}return Kt(N,{hidden:()=>_e($),visible:()=>M($)})}},[N,$,M,_e,P,ne]);let he=Oy();Ze(()=>{if(K&&he&&N==="visible"&&$.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[$,N,he,K]);let z=D&&!x,Z=x&&P&&D,ee=w.useRef(!1),pe=xR(()=>{ee.current||(V("hidden"),_e($))},U),k=Se(ge=>{ee.current=!0;let de=ge?"enter":"leave";pe.onStart($,de,Pe=>{Pe==="enter"?l==null||l():Pe==="leave"&&(h==null||h())})}),re=Se(ge=>{let de=ge?"enter":"leave";ee.current=!1,pe.onStop($,de,Pe=>{Pe==="enter"?c==null||c():Pe==="leave"&&(m==null||m())}),de==="leave"&&!Cd(pe)&&(V("hidden"),_e($))});w.useEffect(()=>{K&&a||(k(P),re(P))},[P,K,a]);let fe=!(!a||!K||!he||z),[,se]=Ey(fe,j,P,{start:k,end:re}),ce=is({ref:q,className:((i=Gg(O.className,Z&&p,Z&&v,se.enter&&p,se.enter&&se.closed&&v,se.enter&&!se.closed&&E,se.leave&&S,se.leave&&!se.closed&&A,se.leave&&se.closed&&I,!se.transition&&P&&_))==null?void 0:i.trim())||void 0,..._y(se)}),Te=0;N==="visible"&&(Te|=_n.Open),N==="hidden"&&(Te|=_n.Closed),P&&N==="hidden"&&(Te|=_n.Opening),!P&&N==="visible"&&(Te|=_n.Closing);let ve=Yt();return Ae.createElement(xd.Provider,{value:pe},Ae.createElement(xy,{value:Te},ve({ourProps:ce,theirProps:O,defaultTag:CR,features:IR,visible:N==="visible",name:"Transition.Child"})))}function Y6(n,e){let{show:t,appear:i=!1,unmount:a=!0,...l}=n,c=w.useRef(null),h=RR(n),m=dn(...h?[c,e]:e===null?[]:[e]);Oy();let p=Ad();if(t===void 0&&p!==null&&(t=(p&_n.Open)===_n.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,E]=w.useState(t?"visible":"hidden"),_=xR(()=>{t||E("hidden")}),[S,A]=w.useState(!0),I=w.useRef([t]);Ze(()=>{S!==!1&&I.current[I.current.length-1]!==t&&(I.current.push(t),A(!1))},[I,t]);let O=w.useMemo(()=>({show:t,appear:i,initial:S}),[t,i,S]);Ze(()=>{t?E("visible"):!Cd(_)&&c.current!==null&&E("hidden")},[t,_]);let j={unmount:a},B=Se(()=>{var q;S&&A(!1),(q=n.beforeEnter)==null||q.call(n)}),$=Se(()=>{var q;S&&A(!1),(q=n.beforeLeave)==null||q.call(n)}),K=Yt();return Ae.createElement(xd.Provider,{value:_},Ae.createElement(Rd.Provider,{value:O},K({ourProps:{...j,as:w.Fragment,children:Ae.createElement(OR,{ref:m,...j,...l,beforeEnter:B,beforeLeave:$})},theirProps:{},defaultTag:w.Fragment,features:IR,visible:v==="visible",name:"Transition"})))}function Q6(n,e){let t=w.useContext(Rd)!==null,i=Ad()!==null;return Ae.createElement(Ae.Fragment,null,!t&&i?Ae.createElement(ev,{ref:e,...n}):Ae.createElement(OR,{ref:e,...n}))}let ev=Ut(Y6),OR=Ut(K6),X6=Ut(Q6),DR=Object.assign(ev,{Child:X6,Root:ev});function W6(n,e){let t=w.useRef({left:0,top:0});if(Ze(()=>{if(!e)return;let a=e.getBoundingClientRect();a&&(t.current=a)},[n,e]),e==null||!n||e===document.activeElement)return!1;let i=e.getBoundingClientRect();return i.top!==t.current.top||i.left!==t.current.left}let dw=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function mw(n){var e,t;let i=(e=n.innerText)!=null?e:"",a=n.cloneNode(!0);if(!zr(a))return i;let l=!1;for(let h of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))h.remove(),l=!0;let c=l?(t=a.innerText)!=null?t:"":i;return dw.test(c)&&(c=c.replace(dw,"")),c}function Z6(n){let e=n.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=n.getAttribute("aria-labelledby");if(t){let i=t.split(" ").map(a=>{let l=document.getElementById(a);if(l){let c=l.getAttribute("aria-label");return typeof c=="string"?c.trim():mw(l).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return mw(n).trim()}function J6(n){let e=w.useRef(""),t=w.useRef("");return Se(()=>{let i=n.current;if(!i)return"";let a=i.innerText;if(e.current===a)return t.current;let l=Z6(i).trim().toLowerCase();return e.current=a,t.current=l,l})}var e3=Object.defineProperty,t3=(n,e,t)=>e in n?e3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pw=(n,e,t)=>(t3(n,typeof e!="symbol"?e+"":e,t),t),qt=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(qt||{}),Nr=(n=>(n[n.Single=0]="Single",n[n.Multi=1]="Multi",n))(Nr||{}),tv=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(tv||{}),NR=(n=>(n[n.OpenListbox=0]="OpenListbox",n[n.CloseListbox=1]="CloseListbox",n[n.GoToOption=2]="GoToOption",n[n.Search=3]="Search",n[n.ClearSearch=4]="ClearSearch",n[n.RegisterOptions=5]="RegisterOptions",n[n.UnregisterOptions=6]="UnregisterOptions",n[n.SetButtonElement=7]="SetButtonElement",n[n.SetOptionsElement=8]="SetOptionsElement",n[n.SortOptions=9]="SortOptions",n))(NR||{});function gw(n,e=t=>t){let t=n.activeOptionIndex!==null?n.options[n.activeOptionIndex]:null,i=yy(e(n.options.slice()),l=>l.dataRef.current.domRef.current),a=t?i.indexOf(t):null;return a===-1&&(a=null),{options:i,activeOptionIndex:a}}let n3={1(n){return n.dataRef.current.disabled||n.listboxState===1?n:{...n,activeOptionIndex:null,pendingFocus:{focus:ke.Nothing},listboxState:1,__demoMode:!1}},0(n,e){if(n.dataRef.current.disabled||n.listboxState===0)return n;let t=n.activeOptionIndex,{isSelected:i}=n.dataRef.current,a=n.options.findIndex(l=>i(l.dataRef.current.value));return a!==-1&&(t=a),{...n,pendingFocus:e.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(n,e){var t,i,a,l,c;if(n.dataRef.current.disabled||n.listboxState===1)return n;let h={...n,searchQuery:"",activationTrigger:(t=e.trigger)!=null?t:1,__demoMode:!1};if(e.focus===ke.Nothing)return{...h,activeOptionIndex:null};if(e.focus===ke.Specific)return{...h,activeOptionIndex:n.options.findIndex(v=>v.id===e.id)};if(e.focus===ke.Previous){let v=n.activeOptionIndex;if(v!==null){let E=n.options[v].dataRef.current.domRef,_=Lo(e,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:S=>S.id,resolveDisabled:S=>S.dataRef.current.disabled});if(_!==null){let S=n.options[_].dataRef.current.domRef;if(((i=E.current)==null?void 0:i.previousElementSibling)===S.current||((a=S.current)==null?void 0:a.previousElementSibling)===null)return{...h,activeOptionIndex:_}}}}else if(e.focus===ke.Next){let v=n.activeOptionIndex;if(v!==null){let E=n.options[v].dataRef.current.domRef,_=Lo(e,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:S=>S.id,resolveDisabled:S=>S.dataRef.current.disabled});if(_!==null){let S=n.options[_].dataRef.current.domRef;if(((l=E.current)==null?void 0:l.nextElementSibling)===S.current||((c=S.current)==null?void 0:c.nextElementSibling)===null)return{...h,activeOptionIndex:_}}}}let m=gw(n),p=Lo(e,{resolveItems:()=>m.options,resolveActiveIndex:()=>m.activeOptionIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.current.disabled});return{...h,...m,activeOptionIndex:p}},3:(n,e)=>{if(n.dataRef.current.disabled||n.listboxState===1)return n;let t=n.searchQuery!==""?0:1,i=n.searchQuery+e.value.toLowerCase(),a=(n.activeOptionIndex!==null?n.options.slice(n.activeOptionIndex+t).concat(n.options.slice(0,n.activeOptionIndex+t)):n.options).find(c=>{var h;return!c.dataRef.current.disabled&&((h=c.dataRef.current.textValue)==null?void 0:h.startsWith(i))}),l=a?n.options.indexOf(a):-1;return l===-1||l===n.activeOptionIndex?{...n,searchQuery:i}:{...n,searchQuery:i,activeOptionIndex:l,activationTrigger:1}},4(n){return n.dataRef.current.disabled||n.listboxState===1||n.searchQuery===""?n:{...n,searchQuery:""}},5:(n,e)=>{let t=n.options.concat(e.options),i=n.activeOptionIndex;if(n.pendingFocus.focus!==ke.Nothing&&(i=Lo(n.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled})),n.activeOptionIndex===null){let{isSelected:a}=n.dataRef.current;if(a){let l=t.findIndex(c=>a==null?void 0:a(c.dataRef.current.value));l!==-1&&(i=l)}}return{...n,options:t,activeOptionIndex:i,pendingFocus:{focus:ke.Nothing},pendingShouldSort:!0}},6:(n,e)=>{let t=n.options,i=[],a=new Set(e.options);for(let[l,c]of t.entries())if(a.has(c.id)&&(i.push(l),a.delete(c.id),a.size===0))break;if(i.length>0){t=t.slice();for(let l of i.reverse())t.splice(l,1)}return{...n,options:t,activationTrigger:1}},7:(n,e)=>n.buttonElement===e.element?n:{...n,buttonElement:e.element},8:(n,e)=>n.optionsElement===e.element?n:{...n,optionsElement:e.element},9:n=>n.pendingShouldSort?{...n,...gw(n),pendingShouldSort:!1}:n};class Ny extends py{constructor(e){super(e),pw(this,"actions",{onChange:t=>{let{onChange:i,compare:a,mode:l,value:c}=this.state.dataRef.current;return Kt(l,{0:()=>i==null?void 0:i(t),1:()=>{let h=c.slice(),m=h.findIndex(p=>a(p,t));return m===-1?h.push(t):h.splice(m,1),i==null?void 0:i(h)}})},registerOption:eg(()=>{let t=[],i=new Set;return[(a,l)=>{i.has(l)||(i.add(l),t.push({id:a,dataRef:l}))},()=>(i.clear(),this.send({type:5,options:t.splice(0)}))]}),unregisterOption:eg(()=>{let t=[];return[i=>t.push(i),()=>{this.send({type:6,options:t.splice(0)})}]}),goToOption:eg(()=>{let t=null;return[(i,a)=>{t={type:2,...i,trigger:a}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:t,id:i}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(t.current.value),this.send({type:2,focus:ke.Specific,id:i})}},selectOption:t=>{let i=this.state.options.find(a=>a.id===t);i&&this.actions.onChange(i.dataRef.current.value)},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:7,element:t})},setOptionsElement:t=>{this.send({type:8,element:t})}}),pw(this,"selectors",{activeDescendantId(t){var i;let a=t.activeOptionIndex,l=t.options;return a===null||(i=l[a])==null?void 0:i.id},isActive(t,i){var a;let l=t.activeOptionIndex,c=t.options;return l!==null?((a=c[l])==null?void 0:a.id)===i:!1},shouldScrollIntoView(t,i){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,i)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,i=Tc.get(null);this.disposables.add(i.on(gy.Push,a=>{!i.selectors.isTop(a,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>i.actions.push(t)),this.on(1,()=>i.actions.pop(t))}}static new({id:e,__demoMode:t=!1}){return new Ny({id:e,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:ke.Nothing},__demoMode:t})}reduce(e,t){return Kt(t.type,n3,e,t)}}const MR=w.createContext(null);function My(n){let e=w.useContext(MR);if(e===null){let t=new Error(`<${n} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,PR),t}return e}function PR({id:n,__demoMode:e=!1}){let t=w.useMemo(()=>Ny.new({id:n,__demoMode:e}),[]);return Iy(()=>t.dispose()),t}let Id=w.createContext(null);Id.displayName="ListboxDataContext";function Rc(n){let e=w.useContext(Id);if(e===null){let t=new Error(`<${n} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Rc),t}return e}let r3=w.Fragment;function i3(n,e){let t=w.useId(),i=yd(),{value:a,defaultValue:l,form:c,name:h,onChange:m,by:p,invalid:v=!1,disabled:E=i||!1,horizontal:_=!1,multiple:S=!1,__demoMode:A=!1,...I}=n;const O=_?"horizontal":"vertical";let j=dn(e),B=vA(l),[$=S?[]:void 0,K]=gA(a,m,B),q=PR({id:t,__demoMode:A}),ne=w.useRef({static:!1,hold:!1}),P=w.useRef(new Map),x=NA(p),D=w.useCallback(fe=>Kt(N.mode,{[Nr.Multi]:()=>$.some(se=>x(se,fe)),[Nr.Single]:()=>x($,fe)}),[$]),N=w.useMemo(()=>({value:$,disabled:E,invalid:v,mode:S?Nr.Multi:Nr.Single,orientation:O,onChange:K,compare:x,isSelected:D,optionsPropsRef:ne,listRef:P}),[$,E,v,S,O,K,x,D,ne,P]);Ze(()=>{q.state.dataRef.current=N},[N]);let V=st(q,fe=>fe.listboxState),U=Tc.get(null),M=st(U,w.useCallback(fe=>U.selectors.isTop(fe,t),[U,t])),[_e,he]=st(q,fe=>[fe.buttonElement,fe.optionsElement]);FA(M,[_e,he],(fe,se)=>{q.send({type:NR.CloseListbox}),BA(se,vy.Loose)||(fe.preventDefault(),_e==null||_e.focus())});let z=w.useMemo(()=>({open:V===qt.Open,disabled:E,invalid:v,value:$}),[V,E,v,$]),[Z,ee]=IA({inherit:!0}),pe={ref:j},k=w.useCallback(()=>{if(B!==void 0)return K==null?void 0:K(B)},[K,B]),re=Yt();return Ae.createElement(ee,{value:Z,props:{htmlFor:_e==null?void 0:_e.id},slot:{open:V===qt.Open,disabled:E}},Ae.createElement(mR,null,Ae.createElement(MR.Provider,{value:q},Ae.createElement(Id.Provider,{value:N},Ae.createElement(xy,{value:Kt(V,{[qt.Open]:_n.Open,[qt.Closed]:_n.Closed})},h!=null&&$!=null&&Ae.createElement(TA,{disabled:E,data:{[h]:$},form:c,onReset:k}),re({ourProps:pe,theirProps:I,slot:z,defaultTag:r3,name:"Listbox"}))))))}let s3="button";function a3(n,e){let t=w.useId(),i=hy(),a=Rc("Listbox.Button"),l=My("Listbox.Button"),{id:c=i||`headlessui-listbox-button-${t}`,disabled:h=a.disabled||!1,autoFocus:m=!1,...p}=n,v=dn(e,fR(),l.actions.setButtonElement),E=o6(),[_,S,A]=st(l,he=>[he.listboxState,he.buttonElement,he.optionsElement]),I=_===qt.Open;HA(I,{trigger:S,action:w.useCallback(he=>{if(S!=null&&S.contains(he.target))return pi.Ignore;let z=he.target.closest('[role="option"]:not([data-disabled])');return zr(z)?pi.Select(z):A!=null&&A.contains(he.target)?pi.Ignore:pi.Close},[S,A]),close:l.actions.closeListbox,select:l.actions.selectActiveOption});let O=Se(he=>{switch(he.key){case We.Enter:kV(he.currentTarget);break;case We.Space:case We.ArrowDown:he.preventDefault(),l.actions.openListbox({focus:a.value?ke.Nothing:ke.First});break;case We.ArrowUp:he.preventDefault(),l.actions.openListbox({focus:a.value?ke.Nothing:ke.Last});break}}),j=Se(he=>{switch(he.key){case We.Space:he.preventDefault();break}}),B=Se(he=>{var z;if(he.button===0){if(SA(he.currentTarget))return he.preventDefault();l.state.listboxState===qt.Open?(Gt.flushSync(()=>l.actions.closeListbox()),(z=l.state.buttonElement)==null||z.focus({preventScroll:!0})):(he.preventDefault(),l.actions.openListbox({focus:ke.Nothing}))}}),$=Se(he=>he.preventDefault()),K=bc([c]),q=xA(),{isFocusVisible:ne,focusProps:P}=cy({autoFocus:m}),{isHovered:x,hoverProps:D}=uy({isDisabled:h}),{pressed:N,pressProps:V}=mA({disabled:h}),U=w.useMemo(()=>({open:_===qt.Open,active:N||_===qt.Open,disabled:h,invalid:a.invalid,value:a.value,hover:x,focus:ne,autofocus:m}),[_,a.value,h,x,ne,N,a.invalid,m]),M=st(l,he=>he.listboxState===qt.Open),_e=Ec(E(),{ref:v,id:c,type:GA(n,S),"aria-haspopup":"listbox","aria-controls":A==null?void 0:A.id,"aria-expanded":M,"aria-labelledby":K,"aria-describedby":q,disabled:h||void 0,autoFocus:m,onKeyDown:O,onKeyUp:j,onKeyPress:$,onPointerDown:B},P,D,V);return Yt()({ourProps:_e,theirProps:p,slot:U,defaultTag:s3,name:"Listbox.Button"})}let VR=w.createContext(!1),o3="div",l3=Jo.RenderStrategy|Jo.Static;function u3(n,e){let t=w.useId(),{id:i=`headlessui-listbox-options-${t}`,anchor:a,portal:l=!1,modal:c=!0,transition:h=!1,...m}=n,p=cR(a),[v,E]=w.useState(null);p&&(l=!0);let _=Rc("Listbox.Options"),S=My("Listbox.Options"),[A,I,O,j]=st(S,ge=>[ge.listboxState,ge.buttonElement,ge.optionsElement,ge.__demoMode]),B=el(I),$=el(O),K=Ad(),[q,ne]=Ey(h,v,K!==null?(K&_n.Open)===_n.Open:A===qt.Open);jA(q,I,S.actions.closeListbox);let P=j?!1:c&&A===qt.Open;KA(P,$);let x=j?!1:c&&A===qt.Open;UA(x,{allowed:w.useCallback(()=>[I,O],[I,O])});let D=A!==qt.Open,N=W6(D,I)?!1:q,V=q&&A===qt.Closed,U=Gh(V,_.value),M=Se(ge=>_.compare(U,ge)),_e=st(S,ge=>{var de;if(p==null||!((de=p==null?void 0:p.to)!=null&&de.includes("selection")))return null;let Pe=ge.options.findIndex($e=>M($e.dataRef.current.value));return Pe===-1&&(Pe=0),Pe}),he=(()=>{if(p==null)return;if(_e===null)return{...p,inner:void 0};let ge=Array.from(_.listRef.current.values());return{...p,inner:{listRef:{current:ge},index:_e}}})(),[z,Z]=dR(he),ee=hR(),pe=dn(e,p?z:null,S.actions.setOptionsElement,E),k=ka();w.useEffect(()=>{var ge;let de=O;de&&A===qt.Open&&de!==((ge=dl(de))==null?void 0:ge.activeElement)&&(de==null||de.focus({preventScroll:!0}))},[A,O]);let re=Se(ge=>{var de,Pe;switch(k.dispose(),ge.key){case We.Space:if(S.state.searchQuery!=="")return ge.preventDefault(),ge.stopPropagation(),S.actions.search(ge.key);case We.Enter:if(ge.preventDefault(),ge.stopPropagation(),S.state.activeOptionIndex!==null){let{dataRef:$e}=S.state.options[S.state.activeOptionIndex];S.actions.onChange($e.current.value)}_.mode===Nr.Single&&(Gt.flushSync(()=>S.actions.closeListbox()),(de=S.state.buttonElement)==null||de.focus({preventScroll:!0}));break;case Kt(_.orientation,{vertical:We.ArrowDown,horizontal:We.ArrowRight}):return ge.preventDefault(),ge.stopPropagation(),S.actions.goToOption({focus:ke.Next});case Kt(_.orientation,{vertical:We.ArrowUp,horizontal:We.ArrowLeft}):return ge.preventDefault(),ge.stopPropagation(),S.actions.goToOption({focus:ke.Previous});case We.Home:case We.PageUp:return ge.preventDefault(),ge.stopPropagation(),S.actions.goToOption({focus:ke.First});case We.End:case We.PageDown:return ge.preventDefault(),ge.stopPropagation(),S.actions.goToOption({focus:ke.Last});case We.Escape:ge.preventDefault(),ge.stopPropagation(),Gt.flushSync(()=>S.actions.closeListbox()),(Pe=S.state.buttonElement)==null||Pe.focus({preventScroll:!0});return;case We.Tab:ge.preventDefault(),ge.stopPropagation(),Gt.flushSync(()=>S.actions.closeListbox()),Mk(S.state.buttonElement,ge.shiftKey?Qg.Previous:Qg.Next);break;default:ge.key.length===1&&(S.actions.search(ge.key),k.setTimeout(()=>S.actions.clearSearch(),350));break}}),fe=st(S,ge=>{var de;return(de=ge.buttonElement)==null?void 0:de.id}),se=w.useMemo(()=>({open:A===qt.Open}),[A]),ce=Ec(p?ee():{},{id:i,ref:pe,"aria-activedescendant":st(S,S.selectors.activeDescendantId),"aria-multiselectable":_.mode===Nr.Multi?!0:void 0,"aria-labelledby":fe,"aria-orientation":_.orientation,onKeyDown:re,role:"listbox",tabIndex:A===qt.Open?0:void 0,style:{...m.style,...Z,"--button-width":Kg(I,!0).width},..._y(ne)}),Te=Yt(),ve=w.useMemo(()=>_.mode===Nr.Multi?_:{..._,isSelected:M},[_,M]);return Ae.createElement(yR,{enabled:l?n.static||q:!1,ownerDocument:B},Ae.createElement(Id.Provider,{value:ve},Te({ourProps:ce,theirProps:m,slot:se,defaultTag:o3,features:l3,visible:N,name:"Listbox.Options"})))}let c3="div";function f3(n,e){let t=w.useId(),{id:i=`headlessui-listbox-option-${t}`,disabled:a=!1,value:l,...c}=n,h=w.useContext(VR)===!0,m=Rc("Listbox.Option"),p=My("Listbox.Option"),v=st(p,N=>p.selectors.isActive(N,i)),E=m.isSelected(l),_=w.useRef(null),S=J6(_),A=xi({disabled:a,value:l,domRef:_,get textValue(){return S()}}),I=dn(e,_,N=>{N?m.listRef.current.set(i,N):m.listRef.current.delete(i)}),O=st(p,N=>p.selectors.shouldScrollIntoView(N,i));Ze(()=>{if(O)return Jn().requestAnimationFrame(()=>{var N,V;(V=(N=_.current)==null?void 0:N.scrollIntoView)==null||V.call(N,{block:"nearest"})})},[O,_]),Ze(()=>{if(!h)return p.actions.registerOption(i,A),()=>p.actions.unregisterOption(i)},[A,i,h]);let j=Se(N=>{var V;if(a)return N.preventDefault();p.actions.onChange(l),m.mode===Nr.Single&&(Gt.flushSync(()=>p.actions.closeListbox()),(V=p.state.buttonElement)==null||V.focus({preventScroll:!0}))}),B=Se(()=>{if(a)return p.actions.goToOption({focus:ke.Nothing});p.actions.goToOption({focus:ke.Specific,id:i})}),$=YA(),K=Se(N=>{$.update(N),!a&&(v||p.actions.goToOption({focus:ke.Specific,id:i},tv.Pointer))}),q=Se(N=>{$.wasMoved(N)&&(a||v||p.actions.goToOption({focus:ke.Specific,id:i},tv.Pointer))}),ne=Se(N=>{$.wasMoved(N)&&(a||v&&p.actions.goToOption({focus:ke.Nothing}))}),P=w.useMemo(()=>({active:v,focus:v,selected:E,disabled:a,selectedOption:E&&h}),[v,E,a,h]),x=h?{}:{id:i,ref:I,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":E,disabled:void 0,onClick:j,onFocus:B,onPointerEnter:K,onMouseEnter:K,onPointerMove:q,onMouseMove:q,onPointerLeave:ne,onMouseLeave:ne},D=Yt();return!E&&h?null:D({ourProps:x,theirProps:c,slot:P,defaultTag:c3,name:"Listbox.Option"})}let h3=w.Fragment;function d3(n,e){let{options:t,placeholder:i,...a}=n,l={ref:dn(e)},c=Rc("ListboxSelectedOption"),h=w.useMemo(()=>({}),[]),m=c.value===void 0||c.value===null||c.mode===Nr.Multi&&Array.isArray(c.value)&&c.value.length===0,p=Yt();return Ae.createElement(VR.Provider,{value:!0},p({ourProps:l,theirProps:{...a,children:Ae.createElement(Ae.Fragment,null,i&&m?i:t)},slot:h,defaultTag:h3,name:"ListboxSelectedOption"}))}let m3=Ut(i3),kR=Ut(a3),p3=OA,LR=Ut(u3),UR=Ut(f3),g3=Ut(d3),v3=Object.assign(m3,{Button:kR,Label:p3,Options:LR,Option:UR,SelectedOption:g3});const y3=["全部","工作","個人","學習","健康","購物","其他"],ug={重要:"bg-red-500",緊急:"bg-orange-500",進行中:"bg-yellow-500",計劃:"bg-blue-500",完成:"bg-green-500",待定:"bg-purple-500",文件:"bg-gray-500",會議:"bg-indigo-500",郵件:"bg-pink-500",電話:"bg-teal-500",研究:"bg-cyan-500",閱讀:"bg-amber-500"},Fu=({selectedTags:n,onChange:e,allowCustomTags:t=!0,className:i="",showTagCloud:a=!1,compact:l=!1,readOnly:c=!1})=>{const[h,m]=w.useState(""),[p,v]=w.useState(!1),[E,_]=w.useState(!1),S=w.useRef(null),A=w.useRef(null),I=Object.keys(ug),O=I.filter(q=>!n.includes(q)&&q.toLowerCase().includes(h.toLowerCase())),j=q=>{var ne;n.includes(q)||e([...n,q]),m(""),(ne=A.current)==null||ne.focus()},B=q=>{c||e(n.filter(ne=>ne!==q))},$=q=>{if(q.key==="Enter"&&h.trim()!==""){q.preventDefault();const ne=I.find(P=>P.toLowerCase()===h.toLowerCase());ne?j(ne):t&&j(h.trim())}else q.key==="Backspace"&&h===""&&n.length>0?B(n[n.length-1]):q.key==="Escape"&&v(!1)};w.useEffect(()=>{const q=ne=>{S.current&&!S.current.contains(ne.target)&&v(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]);const K=q=>q in ug?ug[q]:"bg-gray-500";return l?F.jsx("div",{className:`flex flex-wrap gap-1 ${i}`,children:n.length>0?n.map(q=>F.jsx("span",{className:`${K(q)} text-white text-xs px-1.5 py-0.5 rounded-full text-[0.7rem]`,children:q},q)):F.jsx("span",{className:"text-xs text-gray-500",children:"無標籤"})}):c?F.jsx("div",{className:`flex flex-wrap gap-1 ${i}`,children:n.length>0?n.map(q=>F.jsx("span",{className:`${K(q)} text-white px-1.5 py-0.5 rounded-md text-xs`,children:q},q)):F.jsx("span",{className:"text-sm text-gray-500",children:"無標籤"})}):F.jsxs("div",{className:`relative ${i}`,ref:S,children:[F.jsxs($6,{multiple:!0,value:n,onChange:e,children:[F.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 p-2 border border-gray-300 rounded-md focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500",children:[n.map(q=>F.jsxs("div",{className:`${K(q)} text-white px-1.5 py-0.5 rounded-md text-xs flex items-center`,children:[q,F.jsx("button",{type:"button",onClick:ne=>{ne.stopPropagation(),B(q)},className:"ml-1 text-white hover:text-gray-200 focus:outline-none",children:"×"})]},q)),F.jsx(wR,{className:"flex-grow outline-none text-sm min-w-[120px]",placeholder:n.length===0?"添加標籤...":"",value:h,onChange:q=>m(q.target.value),onFocus:()=>v(!0),onBlur:()=>setTimeout(()=>v(!1),100),onKeyDown:$,ref:A,displayValue:()=>h})]}),F.jsx(DR,{as:w.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>m(""),show:p&&O.length>0,children:F.jsx(SR,{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:O.map(q=>F.jsx(AR,{value:q,className:`cursor-pointer select-none relative p-1 m-1 rounded
                  ${K(q)} text-white hover:opacity-90 text-xs`,children:q},q))})})]}),a&&F.jsxs("div",{className:"mt-3",children:[F.jsxs("div",{className:"flex justify-between items-center mb-2",children:[F.jsx("h4",{className:"text-sm text-gray-600 font-medium",children:"常用標籤"}),F.jsx("button",{type:"button",onClick:()=>_(!E),className:"text-xs text-blue-600 hover:text-blue-800",children:E?"顯示常用":"顯示全部"})]}),F.jsx("div",{className:"flex flex-wrap gap-1",children:(E?I:I.slice(0,10)).map(q=>F.jsx("div",{onClick:()=>j(q),className:`${K(q)} text-white px-1.5 py-0.5 rounded-md text-xs cursor-pointer transform transition-transform hover:scale-105`,children:q},q))})]})]})},Hu=({selectedCategory:n,onChange:e,categories:t=y3,allowCustom:i=!0,className:a="",compact:l=!1})=>{const[c,h]=w.useState(!1),[m,p]=w.useState(""),v={全部:"📋",工作:"💼",個人:"👤",學習:"📚",健康:"🏃",購物:"🛒",其他:"📌"},E=()=>{m.trim()&&(e(m.trim()),p(""),h(!1))},_=A=>{A.key==="Enter"?E():A.key==="Escape"&&(h(!1),p(""))},S=A=>v[A]||"📌";return l?F.jsxs("div",{className:`inline-flex items-center ${a}`,children:[F.jsx("span",{className:"mr-1",children:S(n)}),F.jsx("span",{className:"text-sm font-medium",children:n})]}):F.jsx("div",{className:`relative ${a}`,children:F.jsx(v3,{value:n,onChange:e,children:F.jsxs("div",{className:"relative",children:[F.jsxs(kR,{className:"flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-left bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[F.jsxs("div",{className:"flex items-center",children:[F.jsx("span",{className:"mr-2",children:S(n)}),F.jsx("span",{children:n})]}),F.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:F.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),F.jsx(DR,{as:w.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:F.jsxs(LR,{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto focus:outline-none",children:[t.map(A=>F.jsx(UR,{value:A,className:({active:I,selected:O})=>`
                    ${I?"bg-blue-50 text-blue-700":"text-gray-700"}
                    ${O?"bg-blue-50 text-blue-700":""}
                    cursor-pointer select-none relative py-2 px-4 flex items-center
                  `,children:({selected:I})=>F.jsxs(F.Fragment,{children:[F.jsx("span",{className:"mr-2",children:S(A)}),F.jsx("span",{className:`block truncate ${I?"font-medium":"font-normal"}`,children:A})]})},A)),i&&F.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:c?F.jsxs("div",{className:"flex",children:[F.jsx("input",{type:"text",value:m,onChange:A=>p(A.target.value),onKeyDown:_,autoFocus:!0,placeholder:"輸入分類名稱...",className:"px-3 py-1.5 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 flex-grow"}),F.jsx("button",{type:"button",onClick:E,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-r-md hover:bg-blue-700 transition-colors",children:"添加"})]}):F.jsxs("button",{type:"button",onClick:()=>h(!0),className:"flex items-center w-full text-sm text-gray-700 hover:text-blue-600",children:[F.jsx("span",{className:"mr-2",children:"➕"}),F.jsx("span",{children:"添加自定義分類"})]})})]})})]})})})},_3=({todo:n,toggleComplete:e,deleteTodo:t,updateTodo:i,updatePriority:a,updateTags:l,updateCategory:c})=>{const[h,m]=w.useState(!1),[p,v]=w.useState(n.text),[E,_]=w.useState(!1),[S,A]=w.useState(!1),[I,O]=w.useState(!1),j=()=>{m(!0),v(n.text)},B=()=>{p.trim()!==""&&(i(n.id,p),m(!1))},$=x=>{x.key==="Enter"?B():x.key==="Escape"&&(m(!1),v(n.text))},K={low:"border-l-4 border-green-500",medium:"border-l-4 border-yellow-500",high:"border-l-4 border-red-500"}[n.priority||"low"],q=x=>{l(n.id,x),A(!1)},ne=x=>{c(n.id,x),O(!1)},P=()=>{_(!E)};return F.jsxs("div",{className:"mb-2 bg-white rounded-md shadow-sm hover:shadow-md transition-shadow",children:[F.jsxs("div",{className:`flex items-center p-3 ${K}`,children:[F.jsx("input",{type:"checkbox",checked:n.completed,onChange:()=>e(n.id),className:"w-5 h-5 mr-3 cursor-pointer"}),h?F.jsxs("div",{className:"flex flex-grow mr-2",children:[F.jsx("input",{type:"text",value:p,onChange:x=>v(x.target.value),onKeyDown:$,className:"flex-grow px-2 py-1 mr-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),F.jsx("button",{className:"px-3 py-1 mr-2 text-white bg-green-600 rounded-md hover:bg-green-700 transition-colors",onClick:B,children:"儲存"}),F.jsx("button",{className:"px-3 py-1 text-white bg-gray-500 rounded-md hover:bg-gray-600 transition-colors",onClick:()=>m(!1),children:"取消"})]}):F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"flex-grow mr-3",children:[F.jsx("span",{className:`break-words ${n.completed?"line-through text-gray-500":""}`,children:n.text}),F.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[n.category&&n.category!=="其他"&&F.jsx(Hu,{selectedCategory:n.category,onChange:()=>{},compact:!0}),n.tags&&n.tags.length>0&&F.jsx(Fu,{selectedTags:n.tags,onChange:()=>{},compact:!0})]})]}),F.jsxs("div",{className:"flex items-center",children:[F.jsxs("select",{value:n.priority||"low",onChange:x=>a(n.id,x.target.value),className:"px-2 py-1 mr-2 text-sm border border-gray-300 rounded-md cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500",children:[F.jsx("option",{value:"low",children:"低"}),F.jsx("option",{value:"medium",children:"中"}),F.jsx("option",{value:"high",children:"高"})]}),F.jsx("button",{className:"px-3 py-1 mr-2 text-sm text-white bg-gray-500 rounded-md hover:bg-gray-600 transition-colors",onClick:j,children:"編輯"}),F.jsx("button",{className:"px-3 py-1 mr-2 text-sm text-white bg-blue-500 rounded-md hover:bg-blue-600 transition-colors",onClick:P,children:E?"隱藏":"詳情"}),F.jsx("button",{className:"px-3 py-1 text-sm text-white bg-red-600 rounded-md hover:bg-red-700 transition-colors",onClick:()=>t(n.id),children:"刪除"})]})]})]}),E&&!h&&F.jsxs("div",{className:"p-3 pt-0 border-t border-gray-100",children:[F.jsxs("div",{className:"mb-4",children:[F.jsxs("div",{className:"flex justify-between items-center mb-2",children:[F.jsx("span",{className:"text-sm font-medium text-gray-700",children:"標籤"}),F.jsx("button",{className:"text-xs px-2 py-1 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",onClick:()=>A(!S),children:S?"取消":"編輯標籤"})]}),S?F.jsx(Fu,{selectedTags:n.tags||[],onChange:q,showTagCloud:!0}):F.jsx(Fu,{selectedTags:n.tags||[],onChange:()=>{},readOnly:!0})]}),F.jsxs("div",{children:[F.jsxs("div",{className:"flex justify-between items-center mb-2",children:[F.jsx("span",{className:"text-sm font-medium text-gray-700",children:"分類"}),F.jsx("button",{className:"text-xs px-2 py-1 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",onClick:()=>O(!I),children:I?"取消":"編輯分類"})]}),I?F.jsx(Hu,{selectedCategory:n.category||"其他",onChange:ne}):F.jsxs("div",{className:"flex items-center",children:[F.jsx(Hu,{selectedCategory:n.category||"其他",onChange:()=>{},compact:!0}),F.jsx("span",{className:"ml-2 text-sm text-gray-700",children:n.category||"其他"})]})]})]})]})},Ci="todos",E3=n=>{var t;const e=n.data();return{id:n.id,text:e.text||"",completed:e.completed||!1,createdAt:((t=e.createdAt)==null?void 0:t.toDate())||new Date,priority:e.priority||"medium",userId:e.userId||null,tags:e.tags||[],category:e.category||"其他"}},b3=async n=>{try{if(!n)return[];const e=X1(Qv(Ri,Ci),jg("userId","==",n),H4("createdAt","desc"));return(await Z1(e)).docs.map(E3)}catch(e){throw console.error("獲取待辦事項時發生錯誤",e),e}},T3=async n=>{try{const e={...n,createdAt:Z4()};return{id:(await W4(Qv(Ri,Ci),e)).id,...n,createdAt:new Date}}catch(e){throw console.error("添加待辦事項時發生錯誤",e),e}},w3=async(n,e)=>{try{const t=Pa(Ri,Ci,n);await yc(t,e)}catch(t){throw console.error("更新待辦事項時發生錯誤",t),t}},S3=async n=>{try{const e=Pa(Ri,Ci,n);await J1(e)}catch(e){throw console.error("刪除待辦事項時發生錯誤",e),e}},A3=async(n,e)=>{try{const t=Pa(Ri,Ci,n);await yc(t,{completed:e})}catch(t){throw console.error("更新待辦事項完成狀態時發生錯誤",t),t}},R3=async(n,e)=>{try{const t=Pa(Ri,Ci,n);await yc(t,{priority:e})}catch(t){throw console.error("更新待辦事項優先級時發生錯誤",t),t}},x3=async(n,e)=>{try{const t=Pa(Ri,Ci,n);await yc(t,{tags:e})}catch(t){throw console.error("更新待辦事項標籤時發生錯誤",t),t}},C3=async(n,e)=>{try{const t=Pa(Ri,Ci,n);await yc(t,{category:e})}catch(t){throw console.error("更新待辦事項分類時發生錯誤",t),t}},I3=async n=>{try{const e=X1(Qv(Ri,Ci),jg("userId","==",n),jg("completed","==",!0)),i=(await Z1(e)).docs.map(a=>J1(a.ref));await Promise.all(i)}catch(e){throw console.error("刪除已完成待辦事項時發生錯誤",e),e}},O3=()=>{const[n,e]=w.useState([]),[t,i]=w.useState(""),[a,l]=w.useState("all"),[c,h]=w.useState("default"),[m,p]=w.useState("medium"),[v,E]=w.useState([]),[_,S]=w.useState("全部"),[A,I]=w.useState([]),[O,j]=w.useState("全部"),[B,$]=w.useState(!0),{user:K}=w.useContext(Va);w.useEffect(()=>{(async()=>{$(!0);try{if(K){const Z=await b3(K.id);e(Z)}else{const ee=localStorage.getItem("anonymous_todos");if(ee)try{e(JSON.parse(ee))}catch(pe){console.error("無法解析待辦事項",pe),e([])}else e([])}}catch(Z){console.error("載入待辦事項時發生錯誤",Z)}finally{$(!1)}})()},[K]),w.useEffect(()=>{!K&&n.length>=0&&localStorage.setItem("anonymous_todos",JSON.stringify(n))},[n,K]);const q=async()=>{if(t.trim()!=="")try{const z={text:t,completed:!1,createdAt:new Date,priority:m,userId:(K==null?void 0:K.id)||null,tags:v,category:_==="全部"?"其他":_};if(K){const Z=await T3(z);e([Z,...n])}else{const Z={...z,id:Date.now().toString()};e([Z,...n])}i("")}catch(z){console.error("添加待辦事項時發生錯誤",z)}},ne=async z=>{try{const Z=n.find(pe=>pe.id===z);if(!Z)return;const ee=!Z.completed;K&&await A3(z,ee),e(n.map(pe=>pe.id===z?{...pe,completed:ee}:pe))}catch(Z){console.error("更新待辦事項狀態時發生錯誤",Z)}},P=async z=>{try{K&&await S3(z),e(n.filter(Z=>Z.id!==z))}catch(Z){console.error("刪除待辦事項時發生錯誤",Z)}},x=async(z,Z)=>{try{K&&await w3(z,{text:Z}),e(n.map(ee=>ee.id===z?{...ee,text:Z}:ee))}catch(ee){console.error("更新待辦事項時發生錯誤",ee)}},D=async(z,Z)=>{try{K&&await R3(z,Z),e(n.map(ee=>ee.id===z?{...ee,priority:Z}:ee))}catch(ee){console.error("更新待辦事項優先級時發生錯誤",ee)}},N=async(z,Z)=>{try{K&&await x3(z,Z),e(n.map(ee=>ee.id===z?{...ee,tags:Z}:ee))}catch(ee){console.error("更新待辦事項標籤時發生錯誤",ee)}},V=async(z,Z)=>{try{K&&await C3(z,Z),e(n.map(ee=>ee.id===z?{...ee,category:Z}:ee))}catch(ee){console.error("更新待辦事項分類時發生錯誤",ee)}},U=async()=>{try{K&&await I3(K.id),e(n.filter(z=>!z.completed))}catch(z){console.error("清除已完成待辦事項時發生錯誤",z)}},M=z=>{z.key==="Enter"&&q()},he=(()=>{let z=n;if(a==="active"?z=z.filter(Z=>!Z.completed):a==="completed"&&(z=z.filter(Z=>Z.completed)),O!=="全部"&&(z=z.filter(Z=>Z.category===O)),A.length>0&&(z=z.filter(Z=>Z.tags&&A.some(ee=>Z.tags.includes(ee)))),c==="priority"){const Z={high:0,medium:1,low:2};return[...z].sort((ee,pe)=>Z[ee.priority]-Z[pe.priority])}else if(c==="alphabetical")return[...z].sort((Z,ee)=>Z.text.localeCompare(ee.text));return z})();return F.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-md",children:[F.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"待辦事項清單"})," ",F.jsxs("div",{className:"mb-6",children:[F.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm mb-4",children:[F.jsx("h3",{className:"text-md font-medium text-gray-800 mb-3",children:"新增待辦事項"}),F.jsxs("div",{className:"flex items-center mb-3",children:[F.jsx("input",{type:"text",value:t,onChange:z=>i(z.target.value),onKeyDown:M,placeholder:"輸入待辦事項...",className:"flex-grow px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mr-2"}),F.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:q,children:"新增"})]}),F.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-4",children:[F.jsxs("div",{className:"flex-1",children:[F.jsx("label",{className:"mb-1 block text-sm text-gray-600",children:"優先級"}),F.jsxs("select",{value:m,onChange:z=>p(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[F.jsx("option",{value:"low",children:"低優先"}),F.jsx("option",{value:"medium",children:"中優先"}),F.jsx("option",{value:"high",children:"高優先"})]})]}),F.jsxs("div",{className:"flex-1",children:[F.jsx("label",{className:"mb-1 block text-sm text-gray-600",children:"分類"}),F.jsx(Hu,{selectedCategory:_,onChange:S,className:"w-full"})]}),F.jsxs("div",{className:"flex-1",children:[F.jsx("label",{className:"mb-1 block text-sm text-gray-600",children:"標籤"}),F.jsx(Fu,{selectedTags:v,onChange:E,className:"w-full"})]})]})]}),F.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4",children:[F.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center space-y-3 md:space-y-0",children:[F.jsxs("div",{className:"flex flex-wrap gap-2",children:[F.jsx("h3",{className:"text-md font-medium text-gray-800 mr-2 whitespace-nowrap",children:"過濾："}),F.jsxs("div",{className:"flex flex-wrap gap-1",children:[F.jsx("button",{className:`px-3 py-1 rounded-md transition-colors ${a==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>l("all"),children:"全部"}),F.jsx("button",{className:`px-3 py-1 rounded-md transition-colors ${a==="active"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>l("active"),children:"未完成"}),F.jsx("button",{className:`px-3 py-1 rounded-md transition-colors ${a==="completed"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>l("completed"),children:"已完成"})]})]}),F.jsxs("div",{className:"flex items-center",children:[F.jsx("label",{className:"mr-2 text-sm text-gray-600",children:"排序方式："}),F.jsxs("select",{value:c,onChange:z=>h(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[F.jsx("option",{value:"default",children:"預設"}),F.jsx("option",{value:"priority",children:"優先級"}),F.jsx("option",{value:"alphabetical",children:"字母順序"})]})]})]}),F.jsxs("div",{className:"mt-4 border-t border-gray-100 pt-4",children:[F.jsxs("div",{className:"flex justify-between items-center mb-2",children:[F.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"分類篩選"}),F.jsx("div",{className:"text-xs text-gray-500",children:O==="全部"?"顯示全部分類":`僅顯示：${O}`})]}),F.jsx(Hu,{selectedCategory:O,onChange:j,className:"w-full"})]}),F.jsxs("div",{className:"mt-4 border-t border-gray-100 pt-4",children:[F.jsxs("div",{className:"flex justify-between items-center mb-2",children:[F.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"標籤篩選"}),F.jsx("div",{className:"text-xs text-gray-500",children:A.length===0?"顯示全部標籤":`已選擇 ${A.length} 個標籤`})]}),F.jsx(Fu,{selectedTags:A,onChange:I,className:"w-full",showTagCloud:!0})]})]})]}),F.jsx("div",{className:"space-y-2",children:B?F.jsx("div",{className:"text-center py-4 text-gray-500",children:"載入中..."}):he.length>0?he.map(z=>F.jsx(_3,{todo:z,toggleComplete:ne,deleteTodo:P,updateTodo:x,updatePriority:D,updateTags:N,updateCategory:V},z.id)):F.jsx("div",{className:"text-center py-4 text-gray-500",children:a==="all"?"目前沒有待辦事項":a==="active"?"沒有未完成的待辦事項":"沒有已完成的待辦事項"})}),F.jsxs("div",{className:"mt-6 flex justify-between items-center pt-4 border-t border-gray-200",children:[F.jsxs("span",{className:"text-sm text-gray-600",children:[he.filter(z=>!z.completed).length," 個未完成"]}),F.jsx("button",{className:"px-4 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:U,disabled:!n.some(z=>z.completed),children:"清除已完成"})]})]})},D3=()=>{const{user:n,logout:e}=w.useContext(Va),t=il();if(!n)return null;const i=()=>{e(),t("/")};return F.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow-md mb-4",children:[F.jsxs("div",{className:"flex items-center",children:[n.picture&&F.jsx("img",{src:n.picture,alt:n.name,className:"w-10 h-10 rounded-full mr-3"}),F.jsxs("div",{children:[F.jsx("h3",{className:"font-semibold text-gray-800",children:n.name}),F.jsx("p",{className:"text-sm text-gray-600",children:n.email})]})]}),F.jsx("button",{onClick:i,className:"px-3 py-1.5 bg-red-500 text-white text-sm rounded-md hover:bg-red-600 transition-colors",children:"登出"})]})},N3=()=>{const{user:n}=w.useContext(Va),e=il();return w.useEffect(()=>{},[n,e]),F.jsxs("div",{className:"max-w-screen-lg mx-auto px-4 py-8",children:[F.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[F.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n?"您的待辦事項":"臨時待辦事項"}),F.jsx("button",{onClick:()=>e("/"),className:"px-4 py-2 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:"返回首頁"})]}),n?F.jsx(D3,{}):F.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[F.jsx("p",{className:"text-blue-700",children:"您正在使用臨時模式，待辦事項只會保存在當前瀏覽器中。"}),F.jsxs("p",{className:"text-right",children:[F.jsx("button",{onClick:()=>e("/login"),className:"mr-2 bg-red-500 text-white  hover:underline",children:"登入"}),"以同步到您的帳戶。"]})]}),F.jsx(O3,{})]})},M3=({requireAuth:n=!0})=>{const{user:e}=w.useContext(Va);return n&&!e?F.jsx(ov,{to:"/login",replace:!0}):F.jsx(fI,{})};function P3(){return F.jsx(tV,{children:F.jsx("div",{className:"app-container max-w-4xl mx-auto p-4",children:F.jsx(LI,{children:F.jsxs(dI,{children:[F.jsx(Do,{path:"/",element:F.jsx(nV,{})}),F.jsx(Do,{path:"/login",element:F.jsx(iV,{})}),F.jsx(Do,{element:F.jsx(M3,{requireAuth:!1}),children:F.jsx(Do,{path:"/dashboard",element:F.jsx(N3,{})})}),F.jsx(Do,{path:"*",element:F.jsx(ov,{to:"/",replace:!0})})]})})})})}_C.createRoot(document.getElementById("root")).render(F.jsx(w.StrictMode,{children:F.jsx(P3,{})}));
